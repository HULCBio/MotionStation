# $Revision: 1.1 $
sub bcc55freeopts 
{
    my $input = shift;
    my $default_location = "C:\\Borland";

    my $language_handled_fcn = sub {
        my $lang = shift;
        
        return $lang eq "C";
    };

    my $locate_fcn = sub {
        my @borland_roots = ();

        my $search_path_fcn = $input->{"search_path"};
        my $bcc_root = &$search_path_fcn("bcc32.exe");
        if ($bcc_root =~ /\\bcc55\\bin$/i)
        {
            $bcc_root =~ s/\\bcc55\\bin$//i;
            push(@borland_roots, $bcc_root);
        }

        if ($ENV{'BORLAND'} && -e "$ENV{'BORLAND'}\\bcc55\\bin\\bcc32.exe")
        {
            push(@borland_roots, $ENV{'BORLAND'});
        }

        if (-e "$default_location" && -e "$default_location\\bcc55\\bin\\bcc32.exe")
        {
            push(@borland_roots, $default_location);
        }

        return @borland_roots;
    };

    my $root_val = sub {
        return shift;
    };

    return {
        "vendor_name"  => "Borland C/C++ (free command line tools)",
        "version"      => "5.5",
        "group_id"     => "BORLANDC",
        "serial"       => 5.1, # Add .1 for free version
        "root_var"     => "BORLAND",
        "optfile_name" => "bcc55freeopts.bat",
        "default_location" => $default_location,
        "language_handled" => $language_handled_fcn,
        "root_val"     => $root_val,
        "locate"       => $locate_fcn
        };
}
1;
