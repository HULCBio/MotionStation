<!-- $Revision: 1.1 $ -->
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<title>Installing EmacsLink</title>
</head>

<body>
<h1>Installing EmacsLink</h1>

<h2>
Overview
</h2>

<p>To install EmacsLink:</p>
<ol>
  <li>
    <p>
    Register EmacsLink with MATLAB.
    </p>
    <p>
    See <a href="#register" >Registering EmacsLink</a>.
    </p>    
  </li>
  <li>
    <p>
    Configure MATLAB to use EmacsLink.
    </p>
    <p>
    See <a href="#configure_matlab" >Configuring MATLAB</a>.
    </p>    
  </li>
  <li>
    <p>Configure Emacs to use EmacsLink.</p>
    <p>
    See <a href="#configure_emacs" >Configuring Emacs</a>.
    </p>    
  </li>
</ol>

<h2><a name="register">Registering EmacsLink</a></h2>

<p>
This section describes two procedures for registering EmacsLink:
</p>
<ul>
  <li>
    <p>for use by all users of a shared
    (network license) copy of MATLAB</p>
  </li>
  <li>
  <p>for personal use by a user of a shared (network-licensed)
    copy of MATLAB</p></li>
</ul>

<p>You can use either procedure if
you own an individually licensed copy of MATLAB.</p>

<h3>Registering EmacsLink for All Users</h3>

<p>
To register EmacsLink for use by all users of a network-licensed copy of MATLAB
or for use by the owner of a personal copy of MATLAB, you need only
change the name of a single file in the MATLAB installation
directory. This file is named <code>info.xml.sample</code> and resides
in the <code>java/extern/EmacsLink</code> subdirectory of the MATLAB
installation directory. Rename this file to <code>info.xml</code> to
register EmacsLink for all users of this copy of MATLAB.</p>

<p>
<strong>Note. </strong>This procedure assumes that you
have write-access to the installation directory of the network
copy of MATLAB.
</p>


<h3>Registering EmacsLink for Personal Use</h3>

<p>
Registering EmacsLink for your use entails updating the directory
that stores your MATLAB preference. If your system is a Unix or Linux
system, this directory resides at <code>$HOME/matlab</code> where
<code>$HOME</code> is the path to your home directory. If your system
is a Microsoft Windows system, your MATLAB preferences directory
resides in the system's user profile directory (e.g.,
<code>c:/WINNT/Profiles/your_user_name/Application
Data/Mathworks/MATLAB</code>).
</p>

<p>
To register EmacsLink for personal use:
</p>

<ol>
  <li>
    <p>Create a subdirectory named EmacsLink in your MATLAB preferences
    directory.
    </p>
  </li>
  <li>
    <p>
    Copy the file named <code>info.xml.sample</code> in the
    <code>java/extern/EmacsLink</code> subdirectory of
    the MATLAB installation directory file to the newly created <code>EmacsLink</code>
    directory in your MATLAB preferences directory.
    </p>
  </li>
  <li>
    <p>Change the name of the copy to <code>info.xml</code>.
    </p>
  </li>
  
</ol>

<h2><a name="configure_matlab">Configuring MATLAB</a></h2>

<p>To configure MATLAB to use EmacsLink:</p>

<ol>
  <li>
    <p>Start MATLAB.</p>
  </li>
  <li>
    <p>
    Select <strong>Preferences</strong> from the
    MATLAB <strong>File</strong> menu
    </p>
    <p>The MATLAB <strong>Preferences</strong> dialog box appears.
    </p>
  </li>
  <li>
    <p>Select <strong>Editor/Debugger</strong> in the lefthand
    pane.
    </p>
    <p>
    The <strong>Editor/Debugger Preferences</strong> pane appears.
    </p>
  </li>
  <li>
    <p>Select the <strong>Integrated text editor</strong> option from the
    <strong>Editor</strong> preferences group.
    </p>
    <p><strong>Note.</strong> This option appears only if you have registered
    EmacsLink with MATLAB. If it does not appear, you have either not
    registered EmacsLink with MATLAB or have not done so correctly. See
    <a href="#register" >Registering EmacsLink</a> for more information.</p>
  </li>
  <li>
    <p>
    Select <code>EmacsLink</code> from the adjacent  editor
    list.
    </p>
    <p>MATLAB enables the adjacent <strong>Options</strong> button. This
    button displays a dialog box that allows you to set various EmacsLink
    installation options (see following steps and
    <a href="#options">EmacsLink Options</a>).</p>
    <p>
     You need to perform the next three steps only if you want to use
     XEmacs with EmacsLink or if Emacs is not in the command path
    on your system.
    </p>
  </li>
  <li>
    <p>
    Select the <strong>Options</strong> button next to the
    editor list.</p>
    <p>The <strong>EmacsLink Options</strong> dialog box
    appears.</p>
  </li>
  <li><p>Set the <strong>Emacs path</strong> option on
    the dialog box to the path of Emacs or XEmacs on your system.</p>
  </li>
  <li><p>Click <strong>OK</strong> to dismiss the options dialog box.</p>
  </li>
  <li><p>Click <strong>OK</strong> to dismiss the <strong>MATLAB Preferences</strong>
    dialog box.</p></li>
  
</ol>

<h3><a name="options">EmacsLink Options</a></h3>

<p>The <strong>EmacsLink Options</strong> dialog box allows you to set any of the
following installation options:</p> 

<p>
<strong>Port</strong> The port number of the socket used by EmacsLink
to connect MATLAB with Emacs. Change this setting
only if your system already uses the default setting
for another purpose.
</p>

<p><strong>Timeout</strong> The length of time in seconds that
EmacsLink waits for Emacs to respond when attempting to connect with
Emacs. If Emacs takes longer than the default setting to start,
increase the setting.</p>

<p><strong>Emacs path</strong> The path of the version of Emacs (or XEmacs) that
you want to use with EmacsLink. If the Emacs/XEmacs executable is
in your system's command path, you need enter only the name of the
executable. Note that the name of the executable of the native Windows version
of Emacs is <code>runemacs.exe</code>.</p>

<h2><a name="configure_emacs"></a>Configuring Emacs</h2>

<p>To configure Emacs (or XEmacs) to use EmacsLink:</p>

<ol>
  <li>
    <p>Start Emacs.</p>
  </li>
  <li>
    <p>Open your <code>.emacs</code> file.</p>
  </li>
  <li>
    <p>Copy and paste the following code into your <code>.emacs</code> file.
    </p>
    <pre>
    ;; Edit the path in the following line to reflect the
    ;; actual location of the MATLAB root directory on your system.
    (add-to-list 'load-path "c:/matlab/java/extern/EmacsLink/lisp")
    (autoload 'matlab-eei-connect "matlab-eei" 
      "Connects Emacs to MATLAB's external editor interface.")

    (autoload 'matlab-mode "matlab" "Enter Matlab mode." t)
    (setq auto-mode-alist (cons '("\\.m\\'" . matlab-mode) auto-mode-alist))
    (autoload 'matlab-shell "matlab" "Interactive Matlab mode." t)


    (setq matlab-indent-function t)		; if you want function bodies indented
    (setq matlab-verify-on-save-flag nil)	; turn off auto-verify on save
    (defun my-matlab-mode-hook ()
       (setq fill-column 76)
       (imenu-add-to-menubar "Find"))		; where auto-fill should wrap
     (add-hook 'matlab-mode-hook 'my-matlab-mode-hook)
    </pre>
  </li>
  <li><p>If necessary, edit the load-path in the pasted code to reflect
    the actual location of the MATLAB root directory on your system.</p>
  </li>
  <li><p>Save the <code>.emacs</code> file.</p></li>
  <li><p>Close Emacs.</p></li>
</ol>

<hr>
<address></address>
<!-- hhmts start --> Last modified: Thu Feb 21 14:32:16 Eastern Standard Time 2002 <!-- hhmts end -->
</body>
</html>
