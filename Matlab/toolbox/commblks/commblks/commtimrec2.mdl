Library {
  Name			  "commtimrec2"
  Version		  6.0
  SaveDefaultBlockParams  on
  LibraryLinkDisplay	  "none"
  ShowLoopsOnError	  on
  IgnoreBidirectionalLines off
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  covSaveCumulativeToWorkspaceVar on
  CovSaveSingleToWorkspaceVar on
  CovCumulativeReport	  off
  CovReportOnPause	  on
  ScopeRefreshTime	  0.035000
  OverrideScopeRefreshTime on
  DisableAllScopes	  off
  BlockNameDataTip	  off
  BlockParametersDataTip  off
  BlockDescriptionStringDataTip	off
  ToolBar		  off
  StatusBar		  off
  BrowserShowLibraryLinks off
  BrowserLookUnderMasks	  off
  Created		  "Thu Jan 16 12:45:58 2003"
  Creator		  "akansal"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "akansal"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Mon Dec 29 14:44:45 2003"
  ModelVersionFormat	  "1.%<AutoIncrement:80>"
  ConfigurationManager	  "None"
  SimParamPage		  "Solver"
  LinearizationMsg	  "none"
  Profile		  off
  ParamWorkspaceSource	  "MATLABWorkspace"
  ExtModeBatchMode	  off
  ExtModeEnableFloating	  on
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigDurationFloating "auto"
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  ProdHWDeviceType	  "32-bit Generic"
  BlockDefaults {
    Orientation		    "right"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
  }
  BlockParameterDefaults {
    Block {
      BlockType		      Abs
      SaturateOnIntegerOverflow	on
      ZeroCross		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      ActionPort
      InitializeStates	      "held"
      ActionType	      "unset"
    }
    Block {
      BlockType		      ComplexToMagnitudeAngle
      Output		      "Magnitude and angle"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      ComplexToRealImag
      Output		      "Real and imag"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Constant
      Value		      "1"
      VectorParams1D	      on
      OutDataTypeMode	      "Inherit from 'Constant value'"
      OutDataType	      "sfix(16)"
      ConRadixGroup	      "Use specified scaling"
      OutScaling	      "2^0"
      SampleTime	      "inf"
    }
    Block {
      BlockType		      Fcn
      Expr		      "sin(u[1])"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Gain
      Gain		      "1"
      Multiplication	      "Element-wise(K.*u)"
      ParameterDataTypeMode   "Same as input"
      ParameterDataType	      "sfix(16)"
      ParameterScalingMode    "Best Precision: Matrix-wise"
      ParameterScaling	      "2^0"
      OutDataTypeMode	      "Same as input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      If
      NumInputs		      "1"
      IfExpression	      "u1 > 0"
      ShowElse		      on
      ZeroCross		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Inport
      Port		      "1"
      BusObject		      "BusObject"
      BusOutputAsStruct	      off
      PortDimensions	      "-1"
      SampleTime	      "-1"
      DataType		      "auto"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      SignalType	      "auto"
      SamplingMode	      "auto"
      LatchInput	      off
      Interpolate	      on
    }
    Block {
      BlockType		      Math
      Operator		      "exp"
      ShowAdditionalParam     off
      OutputSignalType	      "auto"
      SampleTime	      "-1"
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
    }
    Block {
      BlockType		      Merge
      Inputs		      "2"
      InitialOutput	      "[]"
      AllowUnequalInputPortWidths off
      InputPortOffsets	      "[]"
    }
    Block {
      BlockType		      Outport
      Port		      "1"
      BusObject		      "BusObject"
      BusOutputAsStruct	      off
      OutputWhenDisabled      "held"
      InitialOutput	      "[]"
    }
    Block {
      BlockType		      RealImagToComplex
      Input		      "Real and imag"
      ConstantPart	      "0"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Reference
    }
    Block {
      BlockType		      "S-Function"
      FunctionName	      "system"
      PortCounts	      "[]"
      SFunctionModules	      "''"
    }
    Block {
      BlockType		      SubSystem
      ShowPortLabels	      on
      Permissions	      "ReadWrite"
      SystemSampleTime	      "-1"
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      SimViewingDevice	      off
      DataTypeOverride	      "UseLocalSettings"
      MinMaxOverflowLogging   "UseLocalSettings"
    }
    Block {
      BlockType		      Sum
      IconShape		      "rectangular"
      Inputs		      "++"
      InputSameDT	      on
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  System {
    Name		    "commtimrec2"
    Location		    [82, 271, 626, 539]
    Open		    on
    ModelBrowserVisibility  off
    ModelBrowserWidth	    200
    ScreenColor		    "white"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    ZoomFactor		    "100"
    ReportName		    "simulink-default.rpt"
    Block {
      BlockType		      "S-Function"
      Name		      "Early-Late Gate\nTiming Recovery"
      Ports		      [1, 2]
      Position		      [205, 70, 325, 125]
      FunctionName	      "scomtimreclin"
      Parameters	      "sampPerSymbol, propGain, resetMode, 2"
      MaskType		      "Early-Late Gate Timing Recovery"
      MaskDescription	      "Recover the symbol timing phase using the early"
"-late gate method. This non-data-aided feedback method is suitable for linear"
" baseband modulations.\n\nThe method estimates the symbol timing phase offset"
" for each incoming symbol and outputs the signal value corresponding to the e"
"stimated symbol sampling instant.\n\nThe second output returns the estimated "
"timing phase offset for each symbol, which is a nonnegative real number less "
"than N where N is the number of samples per symbol.\n\nThe error update gain "
"parameter is the step size used for updating the successive phase estimates."
      MaskHelp		      "helpview(commbhelp);"
      MaskPromptString	      "Samples per symbol:|Error update gain:|Reset:"
      MaskStyleString	      "edit,edit,popup(None|Every frame|On nonzero inp"
"ut via port)"
      MaskTunableValueString  "on,on,on"
      MaskCallbackString      "||"
      MaskEnableString	      "on,on,on"
      MaskVisibilityString    "on,on,on"
      MaskToolTipString	      "on,on,on"
      MaskVarAliasString      ",,"
      MaskVariables	      "sampPerSymbol=@1;propGain=@2;resetMode=@3;"
      MaskInitialization      "s = commblktimrec(resetMode);"
      MaskDisplay	      "disp('Early-Late Gate\\nTiming Recovery');\npor"
"t_label('input', s.i1, s.i1s);\nport_label('input', s.i2, s.i2s);\nport_label"
"('output', s.o1, s.o1s);\nport_label('output', s.o2, s.o2s);\n"
      MaskSelfModifiable      on
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "4|0.05|None"
      MaskTabNameString	      ",,"
    }
    Block {
      BlockType		      "S-Function"
      Name		      "Gardner\nTiming Recovery"
      Ports		      [1, 2]
      Position		      [30, 170, 150, 225]
      FunctionName	      "scomtimreclin"
      Parameters	      "sampPerSymbol, propGain, resetMode, 1"
      MaskType		      "Gardner Timing Recovery"
      MaskDescription	      "Recover the symbol timing phase using Gardner's"
" method. This non-data-aided feedback method is suitable for linear baseband "
"modulations.\n\nThe method estimates the symbol timing phase offset for each "
"incoming symbol and outputs the signal value corresponding to the estimated s"
"ymbol sampling instant.\n\nThe second output returns the estimated timing pha"
"se offset for each symbol, which is a nonnegative real number less than N whe"
"re N is the number of samples per symbol.\n\nThe error update gain parameter "
"is the step size used for updating the successive phase estimates."
      MaskHelp		      "helpview(commbhelp);"
      MaskPromptString	      "Samples per symbol:|Error update gain:|Reset:"
      MaskStyleString	      "edit,edit,popup(None|Every frame|On nonzero inp"
"ut via port)"
      MaskTunableValueString  "on,on,on"
      MaskCallbackString      "||"
      MaskEnableString	      "on,on,on"
      MaskVisibilityString    "on,on,on"
      MaskToolTipString	      "on,on,on"
      MaskVarAliasString      ",,"
      MaskVariables	      "sampPerSymbol=@1;propGain=@2;resetMode=@3;"
      MaskInitialization      "s = commblktimrec(resetMode);"
      MaskDisplay	      "disp('Gardner\\nTiming Recovery');\nport_label("
"'input', s.i1, s.i1s);\nport_label('input', s.i2, s.i2s);\nport_label('output"
"', s.o1, s.o1s);\nport_label('output', s.o2, s.o2s);\n"
      MaskSelfModifiable      on
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "4|0.05|None"
      MaskTabNameString	      ",,"
    }
    Block {
      BlockType		      "S-Function"
      Name		      "MSK-Type Signal\nTiming Recovery"
      Ports		      [1, 2]
      Position		      [205, 170, 325, 225]
      FunctionName	      "scomtimrecmsk"
      Parameters	      "sampPerSymbol, propGain, resetMode, modType"
      MaskType		      "MSK-Type Signal Timing Recovery"
      MaskDescription	      "Recover the symbol timing phase using a fourth-"
"order non-linearity method. This non-data-aided feedback method is suitable f"
"or MSK-type baseband modulations.\n\nThe method estimates the symbol timing p"
"hase offset for each incoming symbol and outputs the signal value correspondi"
"ng to the estimated symbol sampling instant.\n\nThe second output returns the"
" estimated timing phase offset for each symbol, which is a nonnegative real n"
"umber less than N where N is the number of samples per symbol.\n\nThe error u"
"pdate gain parameter is the step size used for updating the successive phase "
"estimates."
      MaskHelp		      "helpview(commbhelp);"
      MaskPromptString	      "Modulation type:|Samples per symbol:|Error upda"
"te gain:|Reset:"
      MaskStyleString	      "popup(MSK|GMSK),edit,edit,popup(None|Every fram"
"e|On nonzero input via port)"
      MaskTunableValueString  "on,on,on,on"
      MaskCallbackString      "|||"
      MaskEnableString	      "on,on,on,on"
      MaskVisibilityString    "on,on,on,on"
      MaskToolTipString	      "on,on,on,on"
      MaskVarAliasString      ",,,"
      MaskVariables	      "modType=@1;sampPerSymbol=@2;propGain=@3;resetMo"
"de=@4;"
      MaskInitialization      "s = commblktimrec(resetMode, modType);"
      MaskDisplay	      "disp([s.type ' Signal\\nTiming Recovery']);\npo"
"rt_label('input', s.i1, s.i1s);\nport_label('input', s.i2, s.i2s);\nport_labe"
"l('output', s.o1, s.o1s);\nport_label('output', s.o2, s.o2s);\n"
      MaskSelfModifiable      on
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "MSK|4|0.05|None"
      MaskTabNameString	      ",,,"
    }
    Block {
      BlockType		      "S-Function"
      Name		      "Mueller-Muller\nTiming Recovery"
      Ports		      [1, 2]
      Position		      [380, 70, 500, 125]
      FunctionName	      "scomtimreclin"
      Parameters	      "sampPerSymbol, propGain, resetMode, 3"
      MaskType		      "Mueller-Muller Timing Recovery"
      MaskDescription	      "Recover the symbol timing phase using the Muell"
"er-Muller method. This decision-directed data-aided feedback method is suitab"
"le for linear binary baseband modulations.\n\nThe method estimates the symbol"
" timing phase offset for each incoming symbol and outputs the signal value co"
"rresponding to the estimated symbol sampling instant.\n\nThe second output re"
"turns the estimated timing phase offset for each symbol, which is a nonnegati"
"ve real number less than N where N is the number of samples per symbol.\n\nTh"
"e error update gain parameter is the step size used for updating the successi"
"ve phase estimates."
      MaskHelp		      "helpview(commbhelp);"
      MaskPromptString	      "Samples per symbol:|Error update gain:|Reset:"
      MaskStyleString	      "edit,edit,popup(None|Every frame|On nonzero inp"
"ut via port)"
      MaskTunableValueString  "on,on,on"
      MaskCallbackString      "||"
      MaskEnableString	      "on,on,on"
      MaskVisibilityString    "on,on,on"
      MaskToolTipString	      "on,on,on"
      MaskVarAliasString      ",,"
      MaskVariables	      "sampPerSymbol=@1;propGain=@2;resetMode=@3;"
      MaskInitialization      "s = commblktimrec(resetMode);"
      MaskDisplay	      "disp('Mueller-Muller\\nTiming Recovery');\nport"
"_label('input', s.i1, s.i1s);\nport_label('input', s.i2, s.i2s);\nport_label("
"'output', s.o1, s.o1s);\nport_label('output', s.o2, s.o2s);\n"
      MaskSelfModifiable      on
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "4|0.05|None"
      MaskTabNameString	      ",,"
    }
    Block {
      BlockType		      SubSystem
      Name		      "Squaring\nTiming Recovery"
      Ports		      [1, 2]
      Position		      [30, 70, 150, 125]
      ErrorFcn		      "commblktimrecechk"
      TreatAsAtomicUnit	      off
      MaskType		      "Squaring Timing Recovery"
      MaskDescription	      "Recover the symbol timing phase using a Squarin"
"g method. This frame-based feed-forward method is suitable for linear baseban"
"d modulations.\n\nThe method estimates the symbol timing phase offset for a s"
"equence of symbols and outputs the symbol spaced signal values by applying th"
"e estimate uniformly over the sequence of data.\n\nThe symbol timing phase of"
"fset is assumed to remain constant for an observation interval equal to the n"
"umber of symbols in each frame.\n \nThe second output returns the estimated t"
"iming phase offset for the data sequence, which is a nonnegative real number "
"less than N where N is the number of samples per symbol."
      MaskHelp		      "helpview(commbhelp);"
      MaskPromptString	      "Symbols per frame:|Samples per symbol:"
      MaskStyleString	      "edit,edit"
      MaskTunableValueString  "on,on"
      MaskCallbackString      "|"
      MaskEnableString	      "on,on"
      MaskVisibilityString    "on,on"
      MaskToolTipString	      "on,on"
      MaskVarAliasString      ","
      MaskVariables	      "numSymb=@1;sampPerSymb=@2;"
      MaskInitialization      "commblksqtimrec2(numSymb, sampPerSymb);"
      MaskDisplay	      "disp('Squaring\\nTiming Recovery');\nport_label"
"('output',1,'Sym');\nport_label('output',2,'Ph');\n"
      MaskSelfModifiable      on
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "100|4"
      MaskTabNameString	      ","
      System {
	Name			"Squaring\nTiming Recovery"
	Location		[20, 636, 788, 840]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "In1"
	  Position		  [15, 33, 45, 47]
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Reference
	  Name			  "Check Signal\nAttributes"
	  Ports			  [1, 1]
	  Position		  [70, 19, 145, 61]
	  SourceBlock		  "dspsigattribs/Check Signal\nAttributes"
	  SourceType		  "Check Signal Attributes"
	  SigAttribCheckMethod	  "Does not match attributes exactly"
	  Complexity		  "Complex"
	  Frame			  "Frame-based"
	  DimsCheckMethod	  "Ignore"
	  Dimensions		  "1-D"
	  DatatypeCheckMethod	  "Ignore"
	  DatatypeGeneral	  "Boolean"
	  DtypeFloatSpecific	  "Any floating-point"
	  DtypeFixedSpecific	  "Any fixed-point"
	  DtypeIntSpecific	  "Any integer"
	  SampleMode		  "Ignore"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Generate Sampling\nInstants"
	  Ports			  [1, 1]
	  Position		  [465, 47, 580, 93]
	  TreatAsAtomicUnit	  off
	  MaskType		  "Generate points"
	  MaskDescription	  "Map the delay estimate to the symbol sampli"
"ng instants for the number of symbols in the observation interval."
	  MaskPromptString	  "Number of symbols:|Samples per symbol:"
	  MaskStyleString	  "edit,edit"
	  MaskTunableValueString  "on,on"
	  MaskCallbackString	  "|"
	  MaskEnableString	  "on,on"
	  MaskVisibilityString	  "on,on"
	  MaskToolTipString	  "on,on"
	  MaskVarAliasString	  ","
	  MaskVariables		  "numSymb=@1;sampPerSymb=@2;"
	  MaskDisplay		  "disp('Generate\\nInstants');\nport_label('i"
"nput',1,'Phase');\nport_label('output',1,'Pts');"
	  MaskSelfModifiable	  on
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "numSymb|sampPerSymb"
	  MaskTabNameString	  ","
	  System {
	    Name		    "Generate Sampling\nInstants"
	    Location		    [179, 396, 509, 521]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "In1"
	      Position		      [25, 33, 55, 47]
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [82, 75, 118, 100]
	      Orientation	      "up"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Value		      "[0:numSymb-1]'"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [225, 70, 255, 100]
	      Orientation	      "up"
	      NamePlacement	      "alternate"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [160, 25, 190, 55]
	      Gain		      "sampPerSymb"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [90, 30, 110, 50]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|++"
	      InputSameDT	      off
	      OutDataTypeMode	      "Inherit via internal rule"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [230, 30, 250, 50]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|++"
	      InputSameDT	      off
	      OutDataTypeMode	      "Inherit via internal rule"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [275, 33, 305, 47]
	      IconDisplay	      "Port number"
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "In1"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Squaring Timing\nPhase Estimator"
	  Ports			  [1, 1]
	  Position		  [175, 98, 315, 152]
	  TreatAsAtomicUnit	  off
	  MaskType		  "Squaring Timing Phase Estimator "
	  MaskDescription	  "A digital squaring timing phase estimator a"
"s proposed by Oerder and Meyr, this is a feed-forward method which uses the n"
"umber of symbols as its observation interval to provide an estimate of the ti"
"ming phase. \n\nThe output timing phase estimate is in the interval [-T/2 T/2"
"] where T is the normalized symbol period.\n\nThe input frame length must be "
"equal to the product of the observation interval length and the number of sam"
"ples per symbol."
	  MaskPromptString	  "Observation interval (in symbols):|Samples "
"per symbol:"
	  MaskStyleString	  "edit,edit"
	  MaskTunableValueString  "on,on"
	  MaskCallbackString	  "|"
	  MaskEnableString	  "on,on"
	  MaskVisibilityString	  "on,on"
	  MaskToolTipString	  "on,on"
	  MaskVarAliasString	  ","
	  MaskVariables		  "obsInt=@1;L=@2;"
	  MaskDisplay		  "disp('Squaring Timing\\n Phase Estimator');"
"\nport_label('output',1,'Ph');\n"
	  MaskSelfModifiable	  on
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "numSymb|sampPerSymb"
	  MaskTabNameString	  ","
	  System {
	    Name		    "Squaring Timing\nPhase Estimator"
	    Location		    [468, 561, 964, 685]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "In1"
	      Position		      [25, 43, 55, 57]
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      ComplexToMagnitudeAngle
	      Name		      "Complex to\nMagnitude-Angle"
	      Ports		      [1, 1]
	      Position		      [305, 35, 335, 65]
	      ShowName		      off
	      Output		      "Angle"
	    }
	    Block {
	      BlockType		      Math
	      Name		      "Math\nFunction"
	      Ports		      [1, 1]
	      Position		      [90, 35, 120, 65]
	      Operator		      "magnitude^2"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Matrix\nSum"
	      Ports		      [1, 1]
	      Position		      [230, 36, 275, 64]
	      SourceBlock	      "dspmtrx3/Matrix\nSum"
	      SourceType	      "Matrix Sum"
	      Dim		      "Columns"
	      additionalParams	      "off"
	      allowOverrides	      "on"
	      outputMode	      "Same as input"
	      outputWordLength	      "32"
	      outputFracLength	      "30"
	      accumMode		      "Inherit via internal rule"
	      accumWordLength	      "40"
	      accumFracLength	      "30"
	      roundingMode	      "Floor"
	      overflowMode	      "off"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Sensitivity1"
	      Position		      [370, 35, 410, 65]
	      ShowName		      off
	      Gain		      "-1/(2*pi) "
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Sensitivity3"
	      Position		      [160, 33, 195, 67]
	      ShowName		      off
	      Gain		      "exp(-i*2*pi*(0:L*obsInt-1)'/L)"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [430, 43, 460, 57]
	      IconDisplay	      "Port number"
	    }
	    Line {
	      SrcBlock		      "Math\nFunction"
	      SrcPort		      1
	      DstBlock		      "Sensitivity3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Matrix\nSum"
	      SrcPort		      1
	      DstBlock		      "Complex to\nMagnitude-Angle"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sensitivity3"
	      SrcPort		      1
	      DstBlock		      "Matrix\nSum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Complex to\nMagnitude-Angle"
	      SrcPort		      1
	      DstBlock		      "Sensitivity1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "In1"
	      SrcPort		      1
	      DstBlock		      "Math\nFunction"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sensitivity1"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Symbol\nSampling"
	  Ports			  [2, 1]
	  Position		  [615, 27, 685, 83]
	  TreatAsAtomicUnit	  off
	  System {
	    Name		    "Symbol\nSampling"
	    Location		    [236, 352, 685, 534]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "Input"
	      Position		      [25, 73, 55, 87]
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "Pts"
	      Position		      [25, 142, 55, 158]
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      ComplexToRealImag
	      Name		      "Complex to\nReal-Imag2"
	      Ports		      [1, 2]
	      Position		      [95, 24, 135, 131]
	      ShowName		      off
	      Output		      "Real and imag"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Interpolation"
	      Ports		      [2, 1]
	      Position		      [200, 39, 285, 81]
	      SourceBlock	      "dspsigops/Interpolation"
	      SourceType	      "Interpolation"
	      InterpSource	      "Input port"
	      InterpPoints	      "[1.1 4.8 2.67 1.6 3.2]'"
	      InterpMode	      "Linear"
	      InterpL		      "3"
	      InterpR		      "3"
	      InterpAlpha	      "0.5"
	      InvalidMode	      "Clip"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Interpolation1"
	      Ports		      [2, 1]
	      Position		      [200, 94, 285, 136]
	      SourceBlock	      "dspsigops/Interpolation"
	      SourceType	      "Interpolation"
	      InterpSource	      "Input port"
	      InterpPoints	      "[1.1 4.8 2.67 1.6 3.2]'"
	      InterpMode	      "Linear"
	      InterpL		      "3"
	      InterpR		      "3"
	      InterpAlpha	      "0.5"
	      InvalidMode	      "Clip"
	    }
	    Block {
	      BlockType		      RealImagToComplex
	      Name		      "Real-Imag to\nComplex"
	      Ports		      [2, 1]
	      Position		      [320, 31, 360, 144]
	      ShowName		      off
	      Input		      "Real and imag"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Symbols"
	      Position		      [400, 83, 430, 97]
	      IconDisplay	      "Port number"
	    }
	    Line {
	      SrcBlock		      "Pts"
	      SrcPort		      1
	      Points		      [105, 0; 0, -25]
	      Branch {
		Points			[0, -55]
		DstBlock		"Interpolation"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Interpolation1"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Real-Imag to\nComplex"
	      SrcPort		      1
	      DstBlock		      "Symbols"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Input"
	      SrcPort		      1
	      DstBlock		      "Complex to\nReal-Imag2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Interpolation1"
	      SrcPort		      1
	      DstBlock		      "Real-Imag to\nComplex"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Interpolation"
	      SrcPort		      1
	      DstBlock		      "Real-Imag to\nComplex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Complex to\nReal-Imag2"
	      SrcPort		      2
	      DstBlock		      "Interpolation1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Complex to\nReal-Imag2"
	      SrcPort		      1
	      DstBlock		      "Interpolation"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Gain
	  Name			  "Vector in terms\nof Samples"
	  Position		  [575, 107, 625, 143]
	  Gain			  "sampPerSymb.*ones(numSymb,1)"
	  Multiplication	  "Matrix(K*u)"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Within [0 T]"
	  Ports			  [1, 1]
	  Position		  [345, 103, 430, 147]
	  TreatAsAtomicUnit	  off
	  MaskType		  "Correct Interval "
	  MaskDescription	  "The block applies a threshold to the estima"
"te input value and then converts the values [-T/2 T/2] to lie in the [0 T] ra"
"nge.\n\nIf the absolute estimate is less than the threshold, it is set to 0. "
"The threshold should be chosen less than 1/L where L is the number of samples"
" per symbol."
	  MaskPromptString	  "Threshold:"
	  MaskStyleString	  "edit"
	  MaskTunableValueString  "on"
	  MaskEnableString	  "on"
	  MaskVisibilityString	  "on"
	  MaskToolTipString	  "on"
	  MaskVariables		  "threshold=@1;"
	  MaskDisplay		  "disp('Correct\\nInterval');\n"
	  MaskSelfModifiable	  on
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "(1/sampPerSymb)/2"
	  System {
	    Name		    "Within [0 T]"
	    Location		    [286, 252, 1074, 543]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "In1"
	      Position		      [25, 48, 55, 62]
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs"
	      Position		      [155, 40, 185, 70]
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "Fcn"
	      Position		      [635, 222, 665, 248]
	      Expr		      "u<0"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Frame Status\nConversion"
	      Ports		      [1, 1]
	      Position		      [75, 37, 125, 73]
	      ShowName		      off
	      SourceBlock	      "dspsigattribs/Frame Status\nConversion"
	      SourceType	      "Frame Status Conversion"
	      growRefPort	      "off"
	      outframe		      "Sample-based"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Frame Status\nConversion1"
	      Ports		      [1, 1]
	      Position		      [540, 177, 590, 213]
	      ShowName		      off
	      SourceBlock	      "dspsigattribs/Frame Status\nConversion"
	      SourceType	      "Frame Status Conversion"
	      growRefPort	      "off"
	      outframe		      "Frame-based"
	    }
	    Block {
	      BlockType		      If
	      Name		      "If"
	      Ports		      [1, 2]
	      Position		      [210, 34, 305, 76]
	      IfExpression	      "u1 < threshold"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "If Action\nSubsystem"
	      Ports		      [1, 1, 0, 0, 0, 0, 0, 1]
	      Position		      [350, 102, 420, 138]
	      TreatAsAtomicUnit	      on
	      System {
		Name			"If Action\nSubsystem"
		Location		[400, 665, 884, 811]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [75, 78, 105, 92]
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  ActionPort
		  Name			  "Action Port"
		  Position		  [40, 15, 99, 43]
		}
		Block {
		  BlockType		  Gain
		  Name			  "Set to zero"
		  Position		  [205, 70, 235, 100]
		  Gain			  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [325, 78, 355, 92]
		  IconDisplay		  "Port number"
		}
		Line {
		  SrcBlock		  "Set to zero"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Set to zero"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "If Action\nSubsystem1"
	      Ports		      [1, 1, 0, 0, 0, 0, 0, 1]
	      Position		      [290, 187, 360, 223]
	      AncestorBlock	      "commsyncprivate/Subsystem/If Action\nSu"
"bsystem"
	      TreatAsAtomicUnit	      on
	      System {
		Name			"If Action\nSubsystem1"
		Location		[400, 665, 884, 811]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [75, 78, 105, 92]
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  ActionPort
		  Name			  "Action Port"
		  Position		  [40, 15, 99, 43]
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [325, 78, 355, 92]
		  IconDisplay		  "Port number"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Merge
	      Name		      "Merge"
	      Ports		      [2, 1]
	      Position		      [465, 175, 505, 215]
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [680, 185, 700, 205]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|++"
	      InputSameDT	      off
	      OutDataTypeMode	      "Inherit via internal rule"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [730, 188, 760, 202]
	      IconDisplay	      "Port number"
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Frame Status\nConversion1"
	      SrcPort		      1
	      Points		      [10, 0; 10, 0]
	      Branch {
		Points			[0, 40]
		DstBlock		"Fcn"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Sum2"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Fcn"
	      SrcPort		      1
	      Points		      [20, 0]
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Abs"
	      SrcPort		      1
	      DstBlock		      "If"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Frame Status\nConversion"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		DstBlock		"Abs"
		DstPort			1
	      }
	      Branch {
		Points			[0, 65]
		Branch {
		  DstBlock		  "If Action\nSubsystem"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 85]
		  DstBlock		  "If Action\nSubsystem1"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "If"
	      SrcPort		      1
	      Points		      [75, 0]
	      DstBlock		      "If Action\nSubsystem"
	      DstPort		      ifaction
	    }
	    Line {
	      SrcBlock		      "In1"
	      SrcPort		      1
	      DstBlock		      "Frame Status\nConversion"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "If"
	      SrcPort		      2
	      Points		      [15, 0]
	      DstBlock		      "If Action\nSubsystem1"
	      DstPort		      ifaction
	    }
	    Line {
	      SrcBlock		      "If Action\nSubsystem1"
	      SrcPort		      1
	      DstBlock		      "Merge"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "If Action\nSubsystem"
	      SrcPort		      1
	      Points		      [15, 0; 0, 65]
	      DstBlock		      "Merge"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Merge"
	      SrcPort		      1
	      DstBlock		      "Frame Status\nConversion1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "Out1"
	  Position		  [710, 48, 740, 62]
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Outport
	  Name			  "Out2"
	  Position		  [715, 118, 745, 132]
	  Port			  "2"
	  IconDisplay		  "Port number"
	}
	Line {
	  SrcBlock		  "Vector in terms\nof Samples"
	  SrcPort		  1
	  DstBlock		  "Out2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Within [0 T]"
	  SrcPort		  1
	  Points		  [10, 0]
	  Branch {
	    Points		    [0, -55]
	    DstBlock		    "Generate Sampling\nInstants"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Vector in terms\nof Samples"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Check Signal\nAttributes"
	  SrcPort		  1
	  Points		  [5, 0]
	  Branch {
	    DstBlock		    "Symbol\nSampling"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, 85]
	    DstBlock		    "Squaring Timing\nPhase Estimator"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Generate Sampling\nInstants"
	  SrcPort		  1
	  DstBlock		  "Symbol\nSampling"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Squaring Timing\nPhase Estimator"
	  SrcPort		  1
	  DstBlock		  "Within [0 T]"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Symbol\nSampling"
	  SrcPort		  1
	  DstBlock		  "Out1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "In1"
	  SrcPort		  1
	  DstBlock		  "Check Signal\nAttributes"
	  DstPort		  1
	}
      }
    }
    Annotation {
      Name		      "Timing Phase Recovery"
      Position		      [271, 31]
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
  }
}
