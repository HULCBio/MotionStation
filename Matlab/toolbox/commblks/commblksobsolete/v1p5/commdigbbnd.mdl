Library {
  Name			  "commdigbbnd"
  Version		  5.0
  SaveDefaultBlockParams  on
  LibraryLinkDisplay	  "none"
  ShowLoopsOnError	  on
  IgnoreBidirectionalLines off
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  covSaveCumulativeToWorkspaceVar on
  CovSaveSingleToWorkspaceVar on
  CovCumulativeReport	  off
  BlockNameDataTip	  off
  BlockParametersDataTip  on
  BlockDescriptionStringDataTip	off
  ToolBar		  off
  StatusBar		  off
  BrowserShowLibraryLinks off
  BrowserLookUnderMasks	  off
  Created		  "Wed Jun 10 18:09:40 1998"
  Creator		  "tdelve"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "mmclerno"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Mon Dec 23 15:59:11 2002"
  ModelVersionFormat	  "1.%<AutoIncrement:45>"
  ConfigurationManager	  "none"
  SimParamPage		  "Solver"
  LinearizationMsg	  "none"
  Profile		  off
  ParamWorkspaceSource	  "MATLABWorkspace"
  ExtModeMexFile	  "ext_comm"
  ExtModeBatchMode	  off
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  SimulationMode	  "normal"
  ConsistencyChecking	  "none"
  ArrayBoundsChecking	  "none"
  AlgebraicLoopMsg	  "warning"
  BlockPriorityViolationMsg "warning"
  MinStepSizeMsg	  "warning"
  InheritedTsInSrcMsg	  "warning"
  DiscreteInheritContinuousMsg "warning"
  MultiTaskRateTransMsg	  "error"
  SingleTaskRateTransMsg  "none"
  CheckForMatrixSingularity "none"
  IntegerOverflowMsg	  "warning"
  Int32ToFloatConvMsg	  "warning"
  ParameterDowncastMsg	  "error"
  ParameterOverflowMsg	  "error"
  ParameterPrecisionLossMsg "warning"
  UnderSpecifiedDataTypeMsg "none"
  UnnecessaryDatatypeConvMsg "none"
  VectorMatrixConversionMsg "none"
  InvalidFcnCallConnMsg	  "error"
  SignalLabelMismatchMsg  "none"
  UnconnectedInputMsg	  "warning"
  UnconnectedOutputMsg	  "warning"
  UnconnectedLineMsg	  "warning"
  SfunCompatibilityCheckMsg "none"
  ProdHWDeviceType	  "Microprocessor"
  ProdHWWordLengths	  "8,16,32,32"
  RTWMakeCommand	  "make_rtw"
  RTWGenerateCodeOnly	  off
  RTWRetainRTWFile	  off
  TLCProfiler		  off
  TLCDebug		  off
  TLCCoverage		  off
  TLCAssertion		  off
  BlockDefaults {
    Orientation		    "right"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
  }
  BlockParameterDefaults {
    Block {
      BlockType		      Abs
      SaturateOnIntegerOverflow	on
      ZeroCross		      on
    }
    Block {
      BlockType		      ComplexToRealImag
      Output		      "Real and imag"
    }
    Block {
      BlockType		      Constant
      Value		      "1"
      VectorParams1D	      on
      ShowAdditionalParam     off
      OutDataTypeMode	      "Inherit from 'Constant value'"
      OutDataType	      "sfix(16)"
      ConRadixGroup	      "Use specified scaling"
      OutScaling	      "2^0"
    }
    Block {
      BlockType		      Demux
      Outputs		      "4"
      DisplayOption	      "none"
      BusSelectionMode	      off
    }
    Block {
      BlockType		      Gain
      Gain		      "1"
      Multiplication	      "Element-wise(K.*u)"
      ShowAdditionalParam     off
      ParameterDataTypeMode   "Same as input"
      ParameterDataType	      "sfix(16)"
      ParameterScalingMode    "Best Precision: Matrix-wise"
      ParameterScaling	      "2^0"
      OutDataTypeMode	      "Same as input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
    }
    Block {
      BlockType		      Inport
      Port		      "1"
      PortDimensions	      "-1"
      SampleTime	      "-1"
      ShowAdditionalParam     off
      LatchInput	      off
      DataType		      "auto"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      SignalType	      "auto"
      SamplingMode	      "auto"
      Interpolate	      on
    }
    Block {
      BlockType		      Lookup
      InputValues	      "[-4:5]"
      OutputValues	      " rand(1,10)-0.5"
      ShowAdditionalParam     off
      LookUpMeth	      "Interpolation-Extrapolation"
      OutDataTypeMode	      "Same as input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
    }
    Block {
      BlockType		      Lookup2D
      RowIndex		      "[0 1]"
      ColumnIndex	      "[0 1]"
      OutputValues	      "[0 0;0 0]"
      ShowAdditionalParam     off
      LookUpMeth	      "Interpolation-Extrapolation"
      InputSameDT	      on
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
    }
    Block {
      BlockType		      MagnitudeAngleToComplex
      Input		      "Magnitude and angle"
      ConstantPart	      "0"
    }
    Block {
      BlockType		      Math
      Operator		      "exp"
      OutputSignalType	      "auto"
    }
    Block {
      BlockType		      Mux
      Inputs		      "4"
      DisplayOption	      "none"
    }
    Block {
      BlockType		      Outport
      Port		      "1"
      OutputWhenDisabled      "held"
      InitialOutput	      "[]"
    }
    Block {
      BlockType		      Product
      Inputs		      "2"
      Multiplication	      "Element-wise(.*)"
      ShowAdditionalParam     off
      InputSameDT	      on
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
    }
    Block {
      BlockType		      Reference
    }
    Block {
      BlockType		      "S-Function"
      FunctionName	      "system"
      PortCounts	      "[]"
      SFunctionModules	      "''"
    }
    Block {
      BlockType		      SubSystem
      ShowPortLabels	      on
      Permissions	      "ReadWrite"
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      SimViewingDevice	      off
      DataTypeOverride	      "UseLocalSettings"
      MinMaxOverflowLogging   "UseLocalSettings"
    }
    Block {
      BlockType		      Sum
      IconShape		      "rectangular"
      Inputs		      "++"
      ShowAdditionalParam     off
      InputSameDT	      on
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
    }
    Block {
      BlockType		      ZeroOrderHold
      SampleTime	      "1"
    }
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  System {
    Name		    "commdigbbnd"
    Location		    [311, 51, 623, 592]
    Open		    on
    ModelBrowserVisibility  off
    ModelBrowserWidth	    200
    ScreenColor		    "white"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    ZoomFactor		    "100"
    ReportName		    "simulink-default.rpt"
    Block {
      BlockType		      SubSystem
      Name		      "A-map QASK\ndemod baseband"
      Ports		      [1, 1]
      Position		      [180, 178, 260, 222]
      TreatAsAtomicUnit	      off
      MaskType		      "Baseband A-QASK demodulation"
      MaskDescription	      "Demodulate the complex envelope of a QASK modul"
"ated signal. The arbitrary constellation is defined by in-phase and quadratur"
"e vectors."
      MaskHelp		      "This block demodulates the complex envelope of "
"a QASK modulated signal with user-defined arbitrary constellation. The vector"
" length of the in-phase and quadrature components vectors should have the sam"
"e length. The outputs are integers in the range [0, M-1], where M is the vect"
"or length of in-phase or quadrature. When the symbol interval is a two-elemen"
"t vector, the second element is the offset (default 0)."
      MaskPromptString	      "Constellation in-phase component:|Constellation"
" quadrature component:|Symbol interval and offset (sec):|Lowpass filter [num;"
" den], a 2 row matrix:|Initial phase (rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVarAliasString      ",,,,,"
      MaskVariables	      "y1=@1;y2=@2;td=@3;num=@4;Ph=@5;ts=@6;"
      MaskInitialization      "den=num(2,:);num=num(1,:);\n\n"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10 20] [20:"
".8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) 0 0 sin(["
"20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndisp('A-QASK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "real(exp(j*[0:16-1]/16*pi*2))|imag(exp(j*[0:16-"
"1]/16*pi*2))|0.1|[1;1]|0|0.001"
      System {
	Name			"A-map QASK\ndemod baseband"
	Location		[360, 100, 736, 234]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [10, 50, 30, 70]
	}
	Block {
	  BlockType		  Reference
	  Name			  "QADM\nbaseband"
	  Ports			  [1, 2]
	  Position		  [65, 38, 145, 82]
	  SourceBlock		  "commanabbnd/QADM\nbaseband"
	  SourceType		  "QM DSB-SC ADM CE"
	  num			  "num"
	  den			  "den"
	  Ph			  "Ph"
	  ts			  "ts"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "QASK\narbitrary-demap"
	  Ports			  [2, 1]
	  Position		  [175, 38, 255, 82]
	  TreatAsAtomicUnit	  off
	  MaskType		  "QASK A-demap"
	  MaskDescription	  "Reverse the QASK map. Input in-phase and qu"
"adrature components from the two inputs. Output demapped signal."
	  MaskHelp		  "This block demaps a QASK mapped signal usin"
"g user defined arbitrary constellation. You can place this block after a QAM "
"demodulation block. The in-phase and quadrature constellation vectors must ha"
"ve the same length, which equals to M, the M-ary number of the QASK. The outp"
"ut symbols are integers in the range [0, M-1]. The symbol interval can be a t"
"wo elements vector with the first element being offset. The default offset is"
" zero."
	  MaskPromptString	  "Constellation for in-phase component:|Const"
"ellation for quadrature component:|Symbol interval and offset (sec):"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVarAliasString	  ",,"
	  MaskVariables		  "y1=@1;y2=@2;td=@3;"
	  MaskDisplay		  "disp('QASK\\nA-demap')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "y1|y2|td"
	  System {
	    Name		    "QASK\narbitrary-demap"
	    Location		    [410, 150, 959, 385]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "real"
	      Position		      [45, 35, 65, 55]
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "imag"
	      Position		      [45, 120, 65, 140]
	      Port		      "2"
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "Minimum1"
	      Ports		      [1, 1]
	      Position		      [415, 85, 475, 105]
	      FunctionName	      "arymimai"
	      Parameters	      "'min'"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [300, 45, 325, 65]
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product1"
	      Ports		      [2, 1]
	      Position		      [300, 130, 325, 150]
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [230, 38, 250, 67]
	      ForegroundColor	      "red"
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [370, 78, 390, 107]
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum6"
	      Ports		      [2, 1]
	      Position		      [230, 123, 250, 152]
	      ForegroundColor	      "blue"
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold"
	      Position		      [120, 29, 155, 61]
	      ForegroundColor	      "red"
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold1"
	      Position		      [120, 114, 155, 146]
	      ForegroundColor	      "blue"
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "imag_pt"
	      Position		      [165, 169, 190, 191]
	      BackgroundColor	      "yellow"
	      Value		      "y2"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "real_pt"
	      Position		      [170, 84, 195, 106]
	      BackgroundColor	      "green"
	      Value		      "y1"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [495, 85, 515, 105]
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Minimum1"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "Minimum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product1"
	      SrcPort		      1
	      Points		      [10, 0; 0, -40]
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      Points		      [10, 0; 0, 30]
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum6"
	      SrcPort		      1
	      Points		      [15, 0; 0, 0]
	      Branch {
		Points			[0, -5]
		DstBlock		"Product1"
		DstPort			1
	      }
	      Branch {
		Points			[0, 5]
		DstBlock		"Product1"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [15, 0; 0, 0]
	      Branch {
		Points			[0, -5]
		DstBlock		"Product"
		DstPort			1
	      }
	      Branch {
		Points			[0, 5]
		DstBlock		"Product"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "imag_pt"
	      SrcPort		      1
	      Points		      [10, 0; 0, -35]
	      DstBlock		      "Sum6"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold1"
	      SrcPort		      1
	      DstBlock		      "Sum6"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "real_pt"
	      SrcPort		      1
	      Points		      [5, 0; 0, -35]
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "imag"
	      SrcPort		      1
	      DstBlock		      "Zero-Order\nHold1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "real"
	      SrcPort		      1
	      DstBlock		      "Zero-Order\nHold"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [285, 50, 305, 70]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "QADM\nbaseband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QASK\narbitrary-demap"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QADM\nbaseband"
	  SrcPort		  1
	  DstBlock		  "QASK\narbitrary-demap"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QADM\nbaseband"
	  SrcPort		  2
	  DstBlock		  "QASK\narbitrary-demap"
	  DstPort		  2
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "A-map QASK\nmod baseband"
      Ports		      [1, 1]
      Position		      [45, 178, 125, 222]
      TreatAsAtomicUnit	      off
      MaskType		      "Baseband A-QASK modulation"
      MaskDescription	      "Output the complex envelope of QASK modulation."
" The arbitrary constellation is defined by in-phase and quadrature vectors.  "
"                             "
      MaskHelp		      "This block outputs the complex envelope of a QA"
"SK modulated signal with user-defined arbitrary constellation. The vector len"
"gth of the in-phase and quadrature components vectors should be the same leng"
"th. The inputs are integers in the range [0, M-1], where M is the vector leng"
"th of in-phase or quadrature. When the symbol interval is a two-element vecto"
"r, the second element is the offset (default 0)."
      MaskPromptString	      "Constellation in-phase component:|Constellation"
" quadrature component:|Input symbol interval and offset (sec):|Initial phase "
"(rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on"
      MaskCallbackString      "||||"
      MaskEnableString	      "on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on"
      MaskVarAliasString      ",,,,"
      MaskVariables	      "y1=@1;y2=@2;td=@3;Ph=@4;ts=@5;"
      MaskDisplay	      "plot(0,0,100,100,[5+15*[0 1 1 2 2 3] 50 50 50 5"
"0+1.5*[[0:.8:10] [10 20] [20:.8:30]]],[85+8*[1 1 -1 -1 1 1] 85 99 75 85+10*[s"
"in([0:.8:10]*pi*2/5) 0 0 sin([20:.8:30]*pi*2/5)]]);\ndisp('A-QASK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "real(exp(j*[0:16-1]/16*pi*2))|imag(exp(j*[0:16-"
"1]/16*pi*2))|0.1|0|0.001"
      System {
	Name			"A-map QASK\nmod baseband"
	Location		[360, 100, 706, 197]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [20, 40, 40, 60]
	}
	Block {
	  BlockType		  Reference
	  Name			  "QAM\nbaseband"
	  Ports			  [2, 1]
	  Position		  [185, 28, 265, 72]
	  ShowName		  off
	  SourceBlock		  "commanabbnd/QAM\nbaseband"
	  SourceType		  "QM DSB-SC AM CE"
	  Ph			  "Ph"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "QASK\narbitrary-map"
	  Ports			  [1, 2]
	  Position		  [70, 28, 150, 72]
	  ShowName		  off
	  TreatAsAtomicUnit	  off
	  MaskType		  "QASK A-map"
	  MaskDescription	  "QASK mapping for arbitrary defined map. Ass"
"ume input digit is K. 1st outport outputs in-phase(K+1). 2nd outport outputs "
"quadrature(K+1)."
	  MaskHelp		  "This block maps a digital signal onto in-ph"
"ase and quadratic components, which are outputs in the first and second outpu"
"t port respectively. The in-phase and quadrature constellation vectors must h"
"ave the same length, which equals to M, the M-ary number of the QASK. The inp"
"ut signal is in the range of [0, M-1]. The symbol interval can be a two eleme"
"nts vector with the first element being offset. The default offset is zero."
	  MaskPromptString	  "Constellation for in-phase component:|Const"
"ellation for quadrature component:|Symbol interval and offset (sec):"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVarAliasString	  ",,"
	  MaskVariables		  "y1=@1;y2=@2;td=@3;"
	  MaskInitialization	  "ly=length(y1);x=[-10 1:ly-1;1:ly-1 10*ly]-."
"5;x=x(:);y1=y1(:)';y1=[y1;y1];y1=y1(:);y2=y2(:)';y2=[y2;y2];y2=y2(:);"
	  MaskDisplay		  "disp('QASK\\nA-map')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "y1|y2|td"
	  System {
	    Name		    "QASK\narbitrary-map"
	    Location		    [410, 150, 755, 315]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "in_1"
	      Position		      [25, 20, 45, 40]
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold1"
	      Position		      [80, 14, 115, 46]
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "imag part1"
	      Position		      [175, 97, 210, 123]
	      InputValues	      "x"
	      OutputValues	      "y2"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "real part"
	      Position		      [180, 17, 215, 43]
	      InputValues	      "x"
	      OutputValues	      "y1"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Real"
	      Position		      [275, 20, 295, 40]
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Imag"
	      Position		      [275, 100, 295, 120]
	      Port		      "2"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "imag part1"
	      SrcPort		      1
	      DstBlock		      "Imag"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "real part"
	      SrcPort		      1
	      DstBlock		      "Real"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold1"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		DstBlock		"real part"
		DstPort			1
	      }
	      Branch {
		Points			[0, 80]
		DstBlock		"imag part1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "in_1"
	      SrcPort		      1
	      DstBlock		      "Zero-Order\nHold1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [290, 40, 310, 60]
	  ShowName		  off
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "QAM\nbaseband"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "QASK\narbitrary-map"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QASK\narbitrary-map"
	  SrcPort		  1
	  DstBlock		  "QAM\nbaseband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QASK\narbitrary-map"
	  SrcPort		  2
	  DstBlock		  "QAM\nbaseband"
	  DstPort		  2
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Coh MFSK\ndemod baseband"
      Ports		      [1, 1]
      Position		      [180, 253, 260, 297]
      TreatAsAtomicUnit	      off
      MaskType		      "Baseband coherent MFSK demodulation"
      MaskDescription	      "Demodulate the complex envelope of a MFSK modul"
"ated signal using coherent correlation method.                 "
      MaskHelp		      "This block demodulates the complex envelope of "
"a MFSK modulated signal using coherent method. The coherence demodulation met"
"hod is phase sensitive. The tone space is the frequency distance between two "
"successive after the modulation. The inputs are integers in the range [0, M-1"
"], where M is the M-ary number. When the symbol interval is a two-element vec"
"tor, the second element is the offset (default 0)."
      MaskPromptString	      "M-ary number (output digits in range [0, M-1]):"
"|Tone space (Hz):|Symbol interval (sec):|Initial phase (rad):|Sample time (se"
"c):"
      MaskStyleString	      "edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on"
      MaskCallbackString      "||||"
      MaskEnableString	      "on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on"
      MaskVarAliasString      ",,,,"
      MaskVariables	      "M=@1;Ton=@2;td=@3;Ph=@4;ts=@5;"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10:1.6:20] "
"[20:.8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) sin(["
"10:1.6:20]*pi/5) sin([20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndi"
"sp(' Co-MFSK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "16|16/.2/5|0.1|0|0.001"
      System {
	Name			"Coh MFSK\ndemod baseband"
	Location		[360, 100, 779, 235]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [30, 40, 50, 60]
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Coh MFSK demod\ncorr baseband"
	  Ports			  [1, 1]
	  Position		  [105, 28, 185, 72]
	  TreatAsAtomicUnit	  off
	  MaskType		  "Baseband coherent MFSK correlation"
	  MaskDescription	  "Compute baseband MFSK correlation. Take MFS"
"K CE modulated signal. Output a vector of correlation result."
	  MaskHelp		  "This block calculates the coherent correlat"
"ion value of the input signal with a vector of sinusoidal signals. These sinu"
"soidal signals have their frequency the same as that of FM modulated signal o"
"f possible resulting digits. The output is an M length vector. M is the M-ary"
" number. The MFSK demodulation result is the index of the largest output. The"
" computation is phase sensitive. The input of this block is complex signal."
	  MaskPromptString	  "M-ary number (input in range [0, M-1]):|Ton"
"e space (Hz):|Symbol interval and offset (sec):|Initial phase (rad):|Sample t"
"ime (sec):"
	  MaskStyleString	  "edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on"
	  MaskCallbackString	  "||||"
	  MaskEnableString	  "on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on"
	  MaskVarAliasString	  ",,,,"
	  MaskVariables		  "N=@1;Ton=@2;td=@3;Ph=@4;ts=@5;"
	  MaskInitialization	  "pi2=2*pi;sft=[0:N-1]*Ton*pi2;[u,v]=cmplxicn"
"(0,50,get_param(gcb,'orientation'));"
	  MaskDisplay		  "plot(0,0,100,100,[4 16 10 4 16 10 10 10],[5"
"4 46 50 46 54 50 58 42]);\ndisp('   Co MFSK')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "M|Ton|td|Ph|ts"
	  System {
	    Name		    "Coh MFSK demod\ncorr baseband"
	    Location		    [410, 150, 1002, 291]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "In"
	      Position		      [260, 28, 290, 42]
	    }
	    Block {
	      BlockType		      ComplexToRealImag
	      Name		      "ComplexToRealImag"
	      Ports		      [1, 1]
	      Position		      [365, 53, 405, 77]
	      ShowName		      off
	      Output		      "Real"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Initial phase"
	      Position		      [120, 45, 140, 65]
	      Orientation	      "down"
	      ShowName		      off
	      Value		      "Ph"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Limited-length\nintegrator"
	      Ports		      [1, 1]
	      Position		      [425, 43, 505, 87]
	      SourceBlock	      "commutil/Limited-length\nintegrator"
	      SourceType	      "Windowed integration"
	      vec		      "N"
	      T			      "td"
	      sample_time	      "ts"
	      method		      "'backward'"
	    }
	    Block {
	      BlockType		      MagnitudeAngleToComplex
	      Name		      "MagnitudeAngleToComplex"
	      Ports		      [1, 1]
	      Position		      [190, 78, 240, 112]
	      ShowName		      off
	      Input		      "Angle"
	      ConstantPart	      "1"
	    }
	    Block {
	      BlockType		      Math
	      Name		      "Math\nFunction"
	      Ports		      [1, 1]
	      Position		      [260, 80, 290, 110]
	      ShowName		      off
	      Operator		      "conj"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [325, 55, 345, 75]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Scheduled\nreset-int1"
	      Ports		      [1, 1]
	      Position		      [60, 84, 120, 116]
	      ShowName		      off
	      SourceBlock	      "commutil/Scheduled\nreset-int"
	      SourceType	      "Scheduled reset integration"
	      td		      "td"
	      ts		      "ts"
	      limit		      "Inf"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Shift key"
	      Position		      [20, 88, 40, 112]
	      ShowName		      off
	      Value		      "sft"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [145, 77, 170, 108]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out"
	      Position		      [525, 58, 555, 72]
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Limited-length\nintegrator"
	      SrcPort		      1
	      DstBlock		      "Out"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ComplexToRealImag"
	      SrcPort		      1
	      DstBlock		      "Limited-length\nintegrator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "ComplexToRealImag"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Initial phase"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Shift key"
	      SrcPort		      1
	      DstBlock		      "Scheduled\nreset-int1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Scheduled\nreset-int1"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "In"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Math\nFunction"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "MagnitudeAngleToComplex"
	      SrcPort		      1
	      DstBlock		      "Math\nFunction"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "MagnitudeAngleToComplex"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Min/max index"
	  Ports			  [1, 1]
	  Position		  [235, 28, 315, 72]
	  TreatAsAtomicUnit	  off
	  MaskType		  "Maximum/minimum index."
	  MaskDescription	  "Choose the index of the input vector with m"
"ax/min value at sampling point. Hold the value for the rest of the period."
	  MaskHelp		  "This block outputs the index of the vector "
"element that has the maximum or minimum value in the input vector. The comput"
"ation starts at the sampling time point. The block holds the value for the re"
"st of the interval."
	  MaskPromptString	  "Symbol interval (sec):|'max' or 'min':"
	  MaskStyleString	  "edit,edit"
	  MaskTunableValueString  "on,on"
	  MaskCallbackString	  "|"
	  MaskEnableString	  "on,on"
	  MaskVisibilityString	  "on,on"
	  MaskToolTipString	  "on,on"
	  MaskVarAliasString	  ","
	  MaskVariables		  "td=@1;mima=@2;"
	  MaskDisplay		  "disp('Min/Max\\ndemap')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "td|'max'"
	  System {
	    Name		    "Min/max index"
	    Location		    [410, 150, 841, 253]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "in_1"
	      Position		      [65, 20, 85, 40]
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "Maximum"
	      Ports		      [1, 1]
	      Position		      [240, 20, 320, 40]
	      FunctionName	      "arymimai"
	      Parameters	      "mima"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold"
	      Position		      [165, 14, 200, 46]
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [335, 20, 355, 40]
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold"
	      SrcPort		      1
	      DstBlock		      "Maximum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Maximum"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "in_1"
	      SrcPort		      1
	      DstBlock		      "Zero-Order\nHold"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [360, 40, 380, 60]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "Coh MFSK demod\ncorr baseband"
	  SrcPort		  1
	  DstBlock		  "Min/max index"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "Coh MFSK demod\ncorr baseband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Min/max index"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "MASK demod\nbaseband"
      Ports		      [1, 1]
      Position		      [180, 28, 260, 72]
      TreatAsAtomicUnit	      off
      MaskType		      "Baseband MASK demodulation"
      MaskDescription	      "Demodulate the complex envelope of a MASK modul"
"ated signal.              "
      MaskHelp		      "This block demodulates the complex envelope of "
"a MASK modulated signal. The output signal are digits in the range [0, M-1]. "
"When the output symbol interval is a two-element vector, the second element i"
"s the offset (default 0). A lowpass filter is required in the demodulation. Y"
"ou can set both numerator and denominator to one for not using the lowpass fi"
"lter."
      MaskPromptString	      "M-ary number (output integer in range [0, M-1])"
":|Output symbol interval and offset (sec):|Initial phase (rad):|Lowpass filte"
"r numerator:|Lowpass filter denominator:|Filter sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVarAliasString      ",,,,,"
      MaskVariables	      "M=@1;td=@2;Ph=@3;num=@4;den=@5;ts=@6;"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10 20] [20:"
".8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) 0 0 sin(["
"20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndisp('MASK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "16|[.1, .1-.01]|0|1|1|0.001"
      System {
	Name			"MASK demod\nbaseband"
	Location		[360, 100, 731, 196]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [15, 35, 35, 55]
	}
	Block {
	  BlockType		  Reference
	  Name			  "DSB-ADM\nbaseband"
	  Ports			  [1, 1]
	  Position		  [85, 23, 165, 67]
	  ShowName		  off
	  SourceBlock		  "commanabbnd/DSB-ADM\nbaseband"
	  SourceType		  "DSB-SC ADM CE"
	  num			  "num"
	  den			  "den"
	  Ph			  "Ph"
	  ts			  "ts"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "MASK demap"
	  Ports			  [1, 1]
	  Position		  [215, 23, 295, 67]
	  ShowName		  off
	  TreatAsAtomicUnit	  off
	  MaskType		  "MASK demap"
	  MaskDescription	  "Reverse the MASK mapping process. Convert ["
"-1 1] analog signal to [0, M-1] symbols."
	  MaskHelp		  "This block demaps a MASK mapped signal back"
" to digit symbols. You can place this block after a amplitude demodulation bl"
"ock. The input of this block is an analog signal in the range [-1, 1]. The de"
"modulation decides the closest integer fitting in [0,M-1] range. When the inp"
"ut symbol interval is a two-elements vector, the second element is offset. Th"
"e default offset value is 0."
	  MaskPromptString	  "M-ary number (output integer in range [0, M"
"-1]):|Output symbol interval and offset (sec):"
	  MaskStyleString	  "edit,edit"
	  MaskTunableValueString  "on,on"
	  MaskCallbackString	  "|"
	  MaskEnableString	  "on,on"
	  MaskVisibilityString	  "on,on"
	  MaskToolTipString	  "on,on"
	  MaskVarAliasString	  ","
	  MaskVariables		  "M=@1;td=@2;"
	  MaskInitialization	  "Ac=1;sft=[0:M-1]*Ac*2/(M-1)-Ac;"
	  MaskDisplay		  "disp('MASK\\ndemap')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "M|td"
	  System {
	    Name		    "MASK demap"
	    Location		    [410, 150, 851, 290]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "in_1"
	      Position		      [30, 35, 50, 55]
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs"
	      Position		      [235, 42, 270, 68]
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "Minimum"
	      Ports		      [1, 1]
	      Position		      [315, 45, 370, 65]
	      FunctionName	      "arymimai"
	      Parameters	      "'min'"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Shift key"
	      Position		      [115, 93, 135, 117]
	      Value		      "sft"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [180, 38, 200, 67]
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold"
	      Position		      [85, 29, 120, 61]
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [400, 45, 420, 65]
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "Abs"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Shift key"
	      SrcPort		      1
	      Points		      [15, 0; 0, -45]
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Minimum"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Abs"
	      SrcPort		      1
	      DstBlock		      "Minimum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "in_1"
	      SrcPort		      1
	      DstBlock		      "Zero-Order\nHold"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [330, 35, 350, 55]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "DSB-ADM\nbaseband"
	  SrcPort		  1
	  DstBlock		  "MASK demap"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "MASK demap"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "DSB-ADM\nbaseband"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "MASK mod\nbaseband"
      Ports		      [1, 1]
      Position		      [45, 28, 125, 72]
      TreatAsAtomicUnit	      off
      MaskType		      "Baseband MASK modulation"
      MaskDescription	      "Output the complex envelope of the amplitude sh"
"ift keying modulated signal."
      MaskHelp		      "This block outputs the complex envelope of MASK"
" modulated signal. The inputs are integers in the range [0, M-1], where M is "
"the M-ary number. The maximum amplitude of the output is 1. When the symbol i"
"nterval is a two-element vector, the second element is the offset (default 0)"
". The block takes the input value at the sampling time point."
      MaskPromptString	      "M-ary number (input integers in the range [0, M"
"-1]):|Input symbol interval and offset (sec):|Initial phase (rad):"
      MaskStyleString	      "edit,edit,edit"
      MaskTunableValueString  "on,on,on"
      MaskCallbackString      "||"
      MaskEnableString	      "on,on,on"
      MaskVisibilityString    "on,on,on"
      MaskToolTipString	      "on,on,on"
      MaskVarAliasString      ",,"
      MaskVariables	      "M=@1;td=@2;Ph=@3;"
      MaskInitialization      "\n"
      MaskDisplay	      "plot(0,0,100,100,[5+15*[0 1 1 2 2 3] 50 50 50 5"
"0+1.5*[[0:.8:10] [10 20] [20:.8:30]]],[85+8*[1 1 -1 -1 1 1] 85 99 75 85+10*[s"
"in([0:.8:10]*pi*2/5) 0 0 sin([20:.8:30]*pi*2/5)]]);\ndisp('MASK')            "
"                                                                             "
"                                                                             "
"                                                 "
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "port"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "16|0.1|0"
      System {
	Name			"MASK mod\nbaseband"
	Location		[360, 100, 722, 211]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [25, 45, 45, 65]
	}
	Block {
	  BlockType		  Reference
	  Name			  "DSB AM\nbaseband"
	  Ports			  [1, 1]
	  Position		  [180, 33, 260, 77]
	  SourceBlock		  "commanabbnd/DSB AM\nbaseband"
	  SourceType		  "DSB-SC AM CE"
	  Ph			  "Ph"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "MASK map"
	  Ports			  [1, 1]
	  Position		  [75, 33, 155, 77]
	  TreatAsAtomicUnit	  off
	  MaskType		  "MASK map"
	  MaskDescription	  "Map a digital symbol onto an analog signal "
"in the range [-1, 1] using M-ary amplitude shift keying modulation mapping."
	  MaskHelp		  "This block maps an input digit signal onto "
"a signal in the range [-1, 1]. The coded signal can be modulated using analog"
"\\nmodulation blocks. Input digits are in the range [0, M-1], where M is the "
"M-ary number. The input symbol interval can be a two-element vector with the "
"second element being offset. The default value offset is 0. Use the MODMAP fu"
"nction to see the constellation."
	  MaskPromptString	  "M-ary number (input integers in range [0, M"
"-1]):|Input symbol interval and offset (sec):"
	  MaskStyleString	  "edit,edit"
	  MaskTunableValueString  "on,on"
	  MaskCallbackString	  "|"
	  MaskEnableString	  "on,on"
	  MaskVisibilityString	  "on,on"
	  MaskToolTipString	  "on,on"
	  MaskVarAliasString	  ","
	  MaskVariables		  "N=@1;td=@2;"
	  MaskInitialization	  "Ac=1;Kc=Ac*2/(N-1);"
	  MaskDisplay		  "disp('MASK\\nmap')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "M|td"
	  System {
	    Name		    "MASK map"
	    Location		    [410, 150, 792, 323]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "in_1"
	      Position		      [40, 30, 60, 50]
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [180, 25, 220, 55]
	      Gain		      "Kc"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Gain diff"
	      Position		      [180, 96, 215, 124]
	      Value		      "Ac"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [250, 63, 270, 87]
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold"
	      Position		      [100, 24, 135, 56]
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [315, 65, 335, 85]
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold"
	      SrcPort		      1
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "in_1"
	      SrcPort		      1
	      DstBlock		      "Zero-Order\nHold"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain diff"
	      SrcPort		      1
	      Points		      [10, 0; 0, -30]
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      Points		      [5, 0; 0, 30]
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [300, 45, 320, 65]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "DSB AM\nbaseband"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "MASK map"
	  SrcPort		  1
	  DstBlock		  "DSB AM\nbaseband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "MASK map"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "MFSK mod\nbaseband"
      Ports		      [1, 1]
      Position		      [45, 253, 125, 297]
      TreatAsAtomicUnit	      off
      MaskType		      "Baseband MFSK modulation"
      MaskDescription	      "Output the complex envelope of the multiple-fre"
"quency shift keying modulation."
      MaskHelp		      "This block outputs the complex envelop of MFSK "
"modulated signal. The input signal is integers in the range [0, M-1]. The max"
"imum amplitude of the output is 1. When the symbol interval is a two-element "
"vector, the second element is the offset (default 0). The block takes the inp"
"ut value at the sampling time point."
      MaskPromptString	      "Tone space(Hz):|Symbol interval (sec):|Initial "
"phase (rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on"
      MaskCallbackString      "|||"
      MaskEnableString	      "on,on,on,on"
      MaskVisibilityString    "on,on,on,on"
      MaskToolTipString	      "on,on,on,on"
      MaskVarAliasString      ",,,"
      MaskVariables	      "Ton=@1;td=@2;Ph=@3;ts=@4;"
      MaskInitialization      "if isinf(td),td=realmax;end;\n"
      MaskDisplay	      "plot(0,0,100,100,[5+15*[0 1 1 2 2 3] 50 50 50 5"
"0+1.5*[[0:.8:10] [10:1.6:20] [20:.8:30]]],[85+8*[1 1 -1 -1 1 1] 85 99 75 85+1"
"0*[sin([0:.8:10]*pi*2/5) sin([10:1.6:20]*pi/5) sin([20:.8:30]*pi*2/5)]]);\ndi"
"sp('MFSK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "16/.2/5|0.1|0|0.001"
      System {
	Name			"MFSK mod\nbaseband"
	Location		[360, 100, 706, 241]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [15, 60, 35, 80]
	}
	Block {
	  BlockType		  Reference
	  Name			  "FM\nbaseband"
	  Ports			  [1, 1]
	  Position		  [185, 48, 265, 92]
	  SourceBlock		  "commanabbnd/FM\nbaseband"
	  SourceType		  "FM CE"
	  Ph			  "Ph"
	  HzPerV		  "1"
	  ts			  "ts"
	  td			  "td"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "MFSK map"
	  Ports			  [1, 1]
	  Position		  [70, 48, 150, 92]
	  TreatAsAtomicUnit	  off
	  MaskType		  "MFSK map"
	  MaskDescription	  "Map input digital signal to analog tone spa"
"ce for FM modulation. The tone space is the frequency distance between two co"
"nsective digit numbers."
	  MaskHelp		  "This block maps the input digital signal to"
" the analog signal, which is ready for the FM modulation. The input are integ"
"ers in the range [0, M-1], where M is the M-ary number. Tone space is the fre"
"quency separation between two consective digits for the input signal. After F"
"M, the modulated signal has a frequency in the range of [Fc, Fc+B]. B is the "
"bandwidth of the FSK, B=(M-1) * Tone_space."
	  MaskPromptString	  "Tone space (Hz):|Input symbol interval and "
"offset (sec):"
	  MaskStyleString	  "edit,edit"
	  MaskTunableValueString  "on,on"
	  MaskCallbackString	  "|"
	  MaskEnableString	  "on,on"
	  MaskVisibilityString	  "on,on"
	  MaskToolTipString	  "on,on"
	  MaskVarAliasString	  ","
	  MaskVariables		  "Ton=@1;td=@2;"
	  MaskDisplay		  "disp('MFSK\\nmap')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "Ton|td"
	  System {
	    Name		    "MFSK map"
	    Location		    [410, 150, 727, 273]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "in_1"
	      Position		      [45, 45, 65, 65]
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [175, 38, 225, 72]
	      Gain		      "Ton"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold1"
	      Position		      [105, 39, 140, 71]
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [260, 45, 280, 65]
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "in_1"
	      SrcPort		      1
	      DstBlock		      "Zero-Order\nHold1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold1"
	      SrcPort		      1
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [290, 60, 310, 80]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "MFSK map"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "MFSK map"
	  SrcPort		  1
	  DstBlock		  "FM\nbaseband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "FM\nbaseband"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "MPSK demod\nbaseband"
      Ports		      [1, 1]
      Position		      [180, 403, 260, 447]
      TreatAsAtomicUnit	      off
      MaskType		      "Baseband MPSK demodulation"
      MaskDescription	      "Demodulate the complex envelope of a MPSK modul"
"ated signal.              "
      MaskHelp		      "This block outputs the complex envelope of a MP"
"SK modulated signal using correlation method. The output signal are digits in"
" the range [0, M-1], where M is the M-ary number. When the symbol interval is"
" a two-element vector, the second element is the offset (default 0)."
      MaskPromptString	      "M-ary number (integer in range [0, M-1]):|Symbo"
"l interval and offset (sec):|Initial phase (rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on"
      MaskCallbackString      "|||"
      MaskEnableString	      "on,on,on,on"
      MaskVisibilityString    "on,on,on,on"
      MaskToolTipString	      "on,on,on,on"
      MaskVarAliasString      ",,,"
      MaskVariables	      "M=@1;td=@2;Ph=@3;ts=@4;"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10:1.6:20] "
"[20:.8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) sin(["
"10:1.6:20]*pi/5) sin([20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndi"
"sp('MPSK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "16|0.1|0|0.001"
      System {
	Name			"MPSK demod\nbaseband"
	Location		[360, 100, 761, 283]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [10, 65, 30, 85]
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "MPSK demod\ncorr baseband"
	  Ports			  [1, 1]
	  Position		  [60, 53, 140, 97]
	  TreatAsAtomicUnit	  off
	  MaskType		  "Baseband MPSK correlationA"
	  MaskDescription	  "Compute Baseband MPSK correlation. Take MPS"
"K CE modulated signal. Output a vector of correlation result."
	  MaskHelp		  "This block calculates the correlation value"
" of the input signal with a vector of sinusoidal signals. These sinusoidal si"
"gnals have their phase shift the same as that of PM modulated signal of possi"
"ble resulting digits. The output is an M length vector. M is the M-ary number"
". The MPSK demodulation result is the index of the largest output, using the "
"Min/max demap block. The input of this block is complex signal."
	  MaskPromptString	  "M-ary number (integer in range [0, M-1]):|S"
"ymbol interval and offset (sec):|Initial phase (rad):|Sample time (sec):"
	  MaskStyleString	  "edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on"
	  MaskCallbackString	  "|||"
	  MaskEnableString	  "on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on"
	  MaskToolTipString	  "on,on,on,on"
	  MaskVarAliasString	  ",,,"
	  MaskVariables		  "N=@1;td=@2;Ph=@3;ts=@4;"
	  MaskInitialization	  "pi2=2*pi;sft=[0:N-1]*pi2/N;\n"
	  MaskDisplay		  "plot(0,0,100,100,[4 16 10 4 16 10 10 10],[5"
"4 46 50 46 54 50 58 42]);disp('  MPSK corr')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "M|td|Ph|ts"
	  System {
	    Name		    "MPSK demod\ncorr baseband"
	    Location		    [410, 150, 948, 289]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "In"
	      Position		      [200, 28, 230, 42]
	    }
	    Block {
	      BlockType		      ComplexToRealImag
	      Name		      "ComplexToRealImag"
	      Ports		      [1, 1]
	      Position		      [305, 48, 345, 72]
	      ShowName		      off
	      Output		      "Real"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Initial phase"
	      Position		      [30, 73, 50, 97]
	      Value		      "Ph"
	    }
	    Block {
	      BlockType		      MagnitudeAngleToComplex
	      Name		      "MagnitudeAngleToComplex"
	      Ports		      [1, 1]
	      Position		      [135, 63, 185, 97]
	      ShowName		      off
	      Input		      "Angle"
	      ConstantPart	      "1"
	    }
	    Block {
	      BlockType		      Math
	      Name		      "Math\nFunction"
	      Ports		      [1, 1]
	      Position		      [205, 65, 235, 95]
	      ShowName		      off
	      Operator		      "conj"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [265, 50, 285, 70]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Scheduled\nreset-int"
	      Ports		      [1, 1]
	      Position		      [370, 36, 430, 84]
	      SourceBlock	      "commutil/Scheduled\nreset-int"
	      SourceType	      "Scheduled reset integration"
	      td		      "td"
	      ts		      "ts"
	      limit		      "Inf"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Shift key"
	      Position		      [60, 45, 80, 65]
	      Orientation	      "down"
	      NamePlacement	      "alternate"
	      Value		      "sft"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [95, 60, 115, 95]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out"
	      Position		      [450, 53, 480, 67]
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Scheduled\nreset-int"
	      SrcPort		      1
	      DstBlock		      "Out"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ComplexToRealImag"
	      SrcPort		      1
	      DstBlock		      "Scheduled\nreset-int"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "In"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Math\nFunction"
	      SrcPort		      1
	      Points		      [10, 0]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "ComplexToRealImag"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "MagnitudeAngleToComplex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "MagnitudeAngleToComplex"
	      SrcPort		      1
	      DstBlock		      "Math\nFunction"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Shift key"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Initial phase"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	  }
	}
	Block {
	  BlockType		  Reference
	  Name			  "Min/max index"
	  Ports			  [1, 1]
	  Position		  [180, 53, 260, 97]
	  SourceBlock		  "commdigbbnd/Coh MFSK\ndemod baseband/Min//m"
"ax index"
	  SourceType		  "Maximum/minimum index."
	  td			  "td"
	  mima			  "'max'"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [295, 65, 315, 85]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "MPSK demod\ncorr baseband"
	  SrcPort		  1
	  DstBlock		  "Min/max index"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "MPSK demod\ncorr baseband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Min/max index"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "MPSK mod\nbaseband"
      Ports		      [1, 1]
      Position		      [45, 403, 125, 447]
      TreatAsAtomicUnit	      off
      MaskType		      "Baseband MPSK modulation"
      MaskDescription	      "Output the complex envelope of the M-ary phase "
"shift keying modulation."
      MaskHelp		      "This block outputs the complex envelope of MPSK"
" modulated signal. The inputs are integers in the range [0, M-1], where M is "
"the M-ary number. When the symbol interval is a two-element vector, the secon"
"d element is the offset (default 0). The block keeps a same input value in th"
"e symbol interval."
      MaskPromptString	      "M-ary number (input integers in the range [0, M"
"-1]):|Symbol interval and offset (sec):|Initial phase (rad):"
      MaskStyleString	      "edit,edit,edit"
      MaskTunableValueString  "on,on,on"
      MaskCallbackString      "||"
      MaskEnableString	      "on,on,on"
      MaskVisibilityString    "on,on,on"
      MaskToolTipString	      "on,on,on"
      MaskVarAliasString      ",,"
      MaskVariables	      "M=@1;td=@2;Ph=@3;"
      MaskDisplay	      "plot(0,0,100,100,[5+15*[0 1 1 2 2 3] 50 50 50 5"
"0+1.5*[[0:.8:10] [10:1.6:20] [20:.8:30]]],[85+8*[1 1 -1 -1 1 1] 85 99 75 85+1"
"0*[sin([0:.8:10]*pi*2/5) sin([10:1.6:20]*pi/5) sin([20:.8:30]*pi*2/5)]]);\ndi"
"sp('MPSK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "16|0.1|0"
      System {
	Name			"MPSK mod\nbaseband"
	Location		[360, 100, 678, 249]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [10, 65, 30, 85]
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "MPSK map"
	  Ports			  [1, 1]
	  Position		  [55, 53, 135, 97]
	  TreatAsAtomicUnit	  off
	  MaskType		  "MPSK map"
	  MaskDescription	  "Map input digital signal to analog phase sh"
"ift."
	  MaskHelp		  "This block maps the input digital signal to"
" the analog signal, which is ready for the PM modulation. The input are integ"
"ers in the range [0, M-1], where M is the M-ary number. You can view the MPSK"
" constellation using the MODMAP function."
	  MaskPromptString	  "M-ary number (input integer in range [0, M-"
"1]):|Input symbol interval and offset (sec):"
	  MaskStyleString	  "edit,edit"
	  MaskTunableValueString  "on,on"
	  MaskCallbackString	  "|"
	  MaskEnableString	  "on,on"
	  MaskVisibilityString	  "on,on"
	  MaskToolTipString	  "on,on"
	  MaskVarAliasString	  ","
	  MaskVariables		  "td=@2;"
	  MaskInitialization	  "pi2=2*pi;Sft=pi2/@1;"
	  MaskDisplay		  "disp('MPSK\\nmap')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "M|td"
	  System {
	    Name		    "MPSK map"
	    Location		    [410, 150, 758, 324]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "in_1"
	      Position		      [60, 35, 80, 55]
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Multiple factor"
	      Position		      [130, 108, 150, 132]
	      Value		      "Sft"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [235, 76, 260, 109]
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold1"
	      Position		      [130, 29, 165, 61]
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [310, 85, 330, 105]
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Multiple factor"
	      SrcPort		      1
	      Points		      [45, 0; 0, -20]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "in_1"
	      SrcPort		      1
	      DstBlock		      "Zero-Order\nHold1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold1"
	      SrcPort		      1
	      Points		      [30, 0; 0, 40]
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Reference
	  Name			  "PM\nbaseband"
	  Ports			  [1, 1]
	  Position		  [165, 53, 245, 97]
	  SourceBlock		  "commanabbnd/PM\nbaseband"
	  SourceType		  "PM CE"
	  Ph			  "Ph"
	  Kc			  "1"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [275, 65, 295, 85]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "MPSK map"
	  SrcPort		  1
	  DstBlock		  "PM\nbaseband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "PM\nbaseband"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "MPSK map"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Noncoh MFSK\ndemod baseband"
      Ports		      [1, 1]
      Position		      [180, 328, 260, 372]
      TreatAsAtomicUnit	      off
      MaskType		      "Baseband noncoherent MFSK demodulation"
      MaskDescription	      "Demodulate the complex envelope of a MFSK modul"
"ated signal using noncoherent correlation method.                      "
      MaskHelp		      "This block demodulates the complex envelope of "
"a MFSK modulated signal using noncoherent method. The coherence demodulation "
"method is phase insensitive. The tone space is the frequency distance between"
" two successive after the modulation. The inputs are integers in the range [0"
", M-1], where M is the M-ary number. When the symbol interval is a two elemen"
"t vector, the second element is the offset (default 0)."
      MaskPromptString	      "M-ary number (output digits in range [0, M-1]):"
"|Tone space (Hz):|Symbol interval (sec):|Initial phase (rad):|Sample time (se"
"c):"
      MaskStyleString	      "edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on"
      MaskCallbackString      "||||"
      MaskEnableString	      "on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on"
      MaskVarAliasString      ",,,,"
      MaskVariables	      "M=@1;Ton=@2;td=@3;Ph=@4;ts=@5;"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10:1.6:20] "
"[20:.8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) sin(["
"10:1.6:20]*pi/5) sin([20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndi"
"sp(' NC-MFSK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "16|18/.2/5|0.1|0|0.001"
      System {
	Name			"Noncoh MFSK\ndemod baseband"
	Location		[360, 100, 817, 283]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [25, 80, 45, 100]
	}
	Block {
	  BlockType		  Reference
	  Name			  "Min/max index"
	  Ports			  [1, 1]
	  Position		  [250, 68, 330, 112]
	  SourceBlock		  "commdigbbnd/Coh MFSK\ndemod baseband/Min//m"
"ax index"
	  SourceType		  "Maximum/minimum index."
	  td			  "td"
	  mima			  "'max'"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Non-coh MFSK dm\ncorr baseband"
	  Ports			  [1, 1]
	  Position		  [110, 68, 190, 112]
	  TreatAsAtomicUnit	  off
	  MaskType		  "Baseband non-coherent MFSK correlation"
	  MaskDescription	  "Compute baseband MFSK correlation. Take MFS"
"K CE modulated signal. Output a vector of correlation result.                "
"   "
	  MaskHelp		  "This block calculates the noncoherent corre"
"lation value of the input signal with a vector of sinusoidal signals. These s"
"inusoidal signals have their frequency the same as that of FM modulated signa"
"l of possible resulting digits. The output is an M length vector. M is the M-"
"ary number. The MFSK demodulation result is the index of the largest output, "
"using the Min/max demap block. The input of this block is complex signal."
	  MaskPromptString	  "M-ary number (input in range [0, M-1]):|Ton"
"e space (Hz):|Symbol interval and offset (sec):|Initial phase (rad):|Sample t"
"ime (sec):"
	  MaskStyleString	  "edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on"
	  MaskCallbackString	  "||||"
	  MaskEnableString	  "on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on"
	  MaskVarAliasString	  ",,,,"
	  MaskVariables		  "N=@1;Ton=@2;td=@3;Ph=@4;ts=@5;"
	  MaskInitialization	  "pi2=2*pi;sft=[0:N-1]*Ton*pi2;\n"
	  MaskDisplay		  "plot(0,0,100,100, [4 16 10 4 16 10 10 10],["
"54 46 50 46 54 50 58 42]);\ndisp('  NC MFSK')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "M|Ton|td|Ph|ts"
	  System {
	    Name		    "Non-coh MFSK dm\ncorr baseband"
	    Location		    [410, 150, 1275, 310]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "In"
	      Position		      [435, 48, 465, 62]
	    }
	    Block {
	      BlockType		      ComplexToRealImag
	      Name		      "ComplexToRealImag"
	      Ports		      [1, 1]
	      Position		      [535, 68, 575, 92]
	      ShowName		      off
	      Output		      "Real"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [745, 61, 750, 99]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Initial phase"
	      Position		      [50, 113, 70, 137]
	      Value		      "Ph"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Limited-length\nintegrator"
	      Ports		      [1, 1]
	      Position		      [600, 58, 680, 102]
	      SourceBlock	      "commutil/Limited-length\nintegrator"
	      SourceType	      "Windowed integration"
	      vec		      "N*2"
	      T			      "td"
	      sample_time	      "ts"
	      method		      "'backward'"
	    }
	    Block {
	      BlockType		      MagnitudeAngleToComplex
	      Name		      "MagnitudeAngleToComplex"
	      Ports		      [1, 1]
	      Position		      [330, 83, 380, 117]
	      ShowName		      off
	      Input		      "Angle"
	      ConstantPart	      "1"
	    }
	    Block {
	      BlockType		      Math
	      Name		      "Math\nFunction"
	      Ports		      [1, 1]
	      Position		      [400, 85, 430, 115]
	      ShowName		      off
	      Operator		      "conj"
	    }
	    Block {
	      BlockType		      Math
	      Name		      "Math\nFunction1"
	      Ports		      [1, 1]
	      Position		      [700, 65, 730, 95]
	      ShowName		      off
	      Operator		      "square"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [280, 78, 310, 122]
	      ShowName		      off
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [490, 70, 510, 90]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Scheduled\nreset-int1"
	      Ports		      [1, 1]
	      Position		      [90, 21, 150, 69]
	      ShowName		      off
	      SourceBlock	      "commutil/Scheduled\nreset-int"
	      SourceType	      "Scheduled reset integration"
	      td		      "td"
	      ts		      "ts"
	      limit		      "Inf"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Shift key"
	      Position		      [50, 33, 70, 57]
	      Value		      "sft"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [175, 62, 200, 93]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [230, 103, 250, 132]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum4"
	      Ports		      [2, 1]
	      Position		      [770, 60, 790, 100]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out"
	      Position		      [810, 73, 840, 87]
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "Sum4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "Sum4"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Limited-length\nintegrator"
	      SrcPort		      1
	      DstBlock		      "Math\nFunction1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum4"
	      SrcPort		      1
	      DstBlock		      "Out"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Math\nFunction1"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ComplexToRealImag"
	      SrcPort		      1
	      DstBlock		      "Limited-length\nintegrator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "ComplexToRealImag"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "MagnitudeAngleToComplex"
	      SrcPort		      1
	      DstBlock		      "Math\nFunction"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Math\nFunction"
	      SrcPort		      1
	      Points		      [40, 0]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "In"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "MagnitudeAngleToComplex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      Points		      [10, 0]
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Shift key"
	      SrcPort		      1
	      DstBlock		      "Scheduled\nreset-int1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Scheduled\nreset-int1"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		Points			[0, 30]
		DstBlock		"Sum3"
		DstPort			1
	      }
	      Branch {
		Points			[55, 0]
		DstBlock		"Mux"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Initial phase"
	      SrcPort		      1
	      Points		      [85, 0]
	      Branch {
		DstBlock		"Sum3"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Sum1"
		DstPort			2
	      }
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [375, 80, 395, 100]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "Non-coh MFSK dm\ncorr baseband"
	  SrcPort		  1
	  DstBlock		  "Min/max index"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "Non-coh MFSK dm\ncorr baseband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Min/max index"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "S-map QASK\ndemod baseband"
      Ports		      [1, 1]
      Position		      [180, 103, 260, 147]
      TreatAsAtomicUnit	      off
      MaskType		      "Baseband S-QASK demodulation"
      MaskDescription	      "Demodulate the complex envelope of a QASK modul"
"ated signal.  This block uses a fixed square constellation with M-ary number "
"M=2^K, where K is an integer."
      MaskHelp		      "This block demodulates a QASK modulated signal "
"using square constellation. The output signals are digits in the range [0, M-"
"1], where M is the M-ary number, M=2^K, K is an integer. When the symbol inte"
"rval is a two-element vector, the second element is the offset (default 0). "
      MaskPromptString	      "M-ary number (integer in range [0 M-1]):|Symbol"
" interval and offset (sec):|Lowpass filter numerator:|Lowpass filter denomina"
"tor:|Initial phase (rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVarAliasString      ",,,,,"
      MaskVariables	      "M=@1;td=@2;num=@3;den=@4;Ph=@5;ts=@6;"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10 20] [20:"
".8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) 0 0 sin(["
"20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndisp('S-QASK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "16|0.1|1|1|0|0.001"
      System {
	Name			"S-map QASK\ndemod baseband"
	Location		[360, 100, 740, 212]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [40, 40, 60, 60]
	}
	Block {
	  BlockType		  Reference
	  Name			  "QADM\nbaseband"
	  Ports			  [1, 2]
	  Position		  [90, 28, 170, 72]
	  ShowName		  off
	  SourceBlock		  "commanabbnd/QADM\nbaseband"
	  SourceType		  "QM DSB-SC ADM CE"
	  num			  "num"
	  den			  "den"
	  Ph			  "Ph"
	  ts			  "ts"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "QASK\nsquare-demap"
	  Ports			  [2, 1]
	  Position		  [205, 28, 285, 72]
	  ShowName		  off
	  TreatAsAtomicUnit	  off
	  MaskType		  "QASK S-demap"
	  MaskDescription	  "Reverse the QASK map. Input in-phase and qu"
"adrature components from the two inputs. Output demapped signal."
	  MaskHelp		  "This block demaps a QASK mapped signal usin"
"g square constellation. You can place this block after a QAM demodulation blo"
"ck. This block assumes the maximum amplitude of the input signals is 1. The o"
"utput symbols are integers in the range [0, M-1]. The input symbol interval c"
"an be a two-element vector with the second element being offset. The default "
"value offset is 0."
	  MaskPromptString	  "QASK M-ary number (outputs are in range [0,"
" M-1]):|Output symbol interval and offset (sec):"
	  MaskStyleString	  "edit,edit"
	  MaskTunableValueString  "on,on"
	  MaskCallbackString	  "|"
	  MaskEnableString	  "on,on"
	  MaskVisibilityString	  "on,on"
	  MaskToolTipString	  "on,on"
	  MaskVarAliasString	  ","
	  MaskVariables		  "N=@1;td=@2;"
	  MaskInitialization	  "Ac=1;K=log(N)/log(2);tab=flipud(constlay(K)"
");[leny,lenx]=size(tab);sftx=[1:lenx]*2-lenx-1;sfty=[1:leny]*2-leny-1;xx=max("
"sftx);sftx=sftx/((xx==0)+xx)*Ac;yy=max(sfty);sfty=sfty/((yy==0)+yy)*Ac;x=[1:l"
"ength(sftx)];y=[1:length(sfty)];\nif length(y)==1, y=[y;2*y];tab=[tab;tab];en"
"d;"
	  MaskDisplay		  "disp('QASK\\nS-demap')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "M|td"
	  System {
	    Name		    "QASK\nsquare-demap"
	    Location		    [410, 150, 1083, 331]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "in_1"
	      Position		      [25, 30, 45, 50]
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "in_2"
	      Position		      [25, 120, 45, 140]
	      Port		      "2"
	    }
	    Block {
	      BlockType		      Lookup2D
	      Name		      "2-D Look-Up\nTable"
	      Position		      [475, 66, 550, 99]
	      RowIndex		      "x"
	      ColumnIndex	      "y"
	      OutputValues	      "tab'"
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs"
	      Position		      [260, 128, 290, 152]
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs1"
	      Position		      [265, 38, 295, 62]
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "Minimum"
	      Ports		      [1, 1]
	      Position		      [315, 130, 380, 150]
	      FunctionName	      "arymimai"
	      Parameters	      "'min'"
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "Minimum1"
	      Ports		      [1, 1]
	      Position		      [320, 40, 380, 60]
	      FunctionName	      "arymimai"
	      Parameters	      "'min'"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Shift key"
	      Position		      [140, 134, 165, 156]
	      Value		      "sfty"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Shift key1"
	      Position		      [145, 44, 170, 66]
	      Value		      "sftx"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Shift key2"
	      Position		      [315, 84, 340, 106]
	      BackgroundColor	      "yellow"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [220, 33, 240, 62]
	      ForegroundColor	      "red"
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [215, 123, 235, 152]
	      ForegroundColor	      "red"
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum4"
	      Ports		      [2, 1]
	      Position		      [415, 43, 435, 72]
	      ForegroundColor	      "red"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum5"
	      Ports		      [2, 1]
	      Position		      [410, 118, 430, 147]
	      ForegroundColor	      "red"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold"
	      Position		      [75, 24, 110, 56]
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold1"
	      Position		      [75, 114, 110, 146]
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold2"
	      Position		      [570, 69, 605, 101]
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [640, 75, 660, 95]
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Shift key1"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Abs1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Abs1"
	      SrcPort		      1
	      DstBlock		      "Minimum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum4"
	      SrcPort		      1
	      Points		      [20, 0]
	      DstBlock		      "2-D Look-Up\nTable"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Minimum1"
	      SrcPort		      1
	      DstBlock		      "Sum4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Shift key2"
	      SrcPort		      1
	      Points		      [35, 0]
	      Branch {
		Points			[0, -30]
		DstBlock		"Sum4"
		DstPort			2
	      }
	      Branch {
		Points			[0, 30]
		DstBlock		"Sum5"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Sum5"
	      SrcPort		      1
	      Points		      [25, 0]
	      DstBlock		      "2-D Look-Up\nTable"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Minimum"
	      SrcPort		      1
	      DstBlock		      "Sum5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold1"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Shift key"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "Abs"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Abs"
	      SrcPort		      1
	      DstBlock		      "Minimum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold2"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "2-D Look-Up\nTable"
	      SrcPort		      1
	      DstBlock		      "Zero-Order\nHold2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "in_1"
	      SrcPort		      1
	      DstBlock		      "Zero-Order\nHold"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "in_2"
	      SrcPort		      1
	      DstBlock		      "Zero-Order\nHold1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [320, 40, 340, 60]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "QADM\nbaseband"
	  SrcPort		  1
	  DstBlock		  "QASK\nsquare-demap"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QADM\nbaseband"
	  SrcPort		  2
	  DstBlock		  "QASK\nsquare-demap"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "QASK\nsquare-demap"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "QADM\nbaseband"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "S-map QASK\nmod baseband"
      Ports		      [1, 1]
      Position		      [45, 103, 125, 147]
      TreatAsAtomicUnit	      off
      MaskType		      "Baseband S-QASK modulation"
      MaskDescription	      "Output the complex envelope of the QASK modulat"
"ed signal. This block uses a square constellation with M-ary number M=2^K, K "
"is an integer.                          "
      MaskHelp		      "This block outputs the complex envelope of a QA"
"SK modulated signal. This block uses square constellation. The inputs are int"
"egers in the range [0, M-1], where M is the M-ary number, M=2^K, and K is an "
"integer. When the symbol interval is a two-element vector, the second element"
" is the offset (default 0). "
      MaskPromptString	      "M-ary number (input digits in range [0, M-1]):|"
"Symbol interval and offset (sec):|Initial phase (rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on"
      MaskCallbackString      "|||"
      MaskEnableString	      "on,on,on,on"
      MaskVisibilityString    "on,on,on,on"
      MaskToolTipString	      "on,on,on,on"
      MaskVarAliasString      ",,,"
      MaskVariables	      "M=@1;td=@2;Ph=@3;ts=@4;"
      MaskDisplay	      "plot(0,0,100,100,[5+15*[0 1 1 2 2 3] 50 50 50 5"
"0+1.5*[[0:.8:10] [10 20] [20:.8:30]]],[85+8*[1 1 -1 -1 1 1] 85 99 75 85+10*[s"
"in([0:.8:10]*pi*2/5) 0 0 sin([20:.8:30]*pi*2/5)]]);\ndisp('S-QASK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "16|0.1|0|0.001"
      System {
	Name			"S-map QASK\nmod baseband"
	Location		[360, 100, 717, 213]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [25, 45, 45, 65]
	}
	Block {
	  BlockType		  Reference
	  Name			  "QAM\nbaseband"
	  Ports			  [2, 1]
	  Position		  [195, 33, 275, 77]
	  ShowName		  off
	  SourceBlock		  "commanabbnd/QAM\nbaseband"
	  SourceType		  "QM DSB-SC AM CE"
	  Ph			  "Ph"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "QASK\nsquare-map"
	  Ports			  [1, 2]
	  Position		  [75, 33, 155, 77]
	  ShowName		  off
	  TreatAsAtomicUnit	  off
	  MaskType		  "QASK S-map"
	  MaskDescription	  "Use square constellation to map the input d"
"igital signal into in-phase and quadrature components. M must be M=2^K with i"
"nteger K."
	  MaskHelp		  "This block maps a digital signal onto in-ph"
"ase and quadratic components, which are outputs in the first and second outpu"
"t port respectively. The M-ary number must be M=2^K with integer K. The input"
" symbol interval can be a two-element vector with the second element being of"
"fset. The default value offset is 0. The maximum amplitudes for the outputs a"
"re 1."
	  MaskPromptString	  "M-ary number (input integers in range [0, M"
"-1]):|Input symbol interval and offset (sec):"
	  MaskStyleString	  "edit,edit"
	  MaskTunableValueString  "on,on"
	  MaskCallbackString	  "|"
	  MaskEnableString	  "on,on"
	  MaskVisibilityString	  "on,on"
	  MaskToolTipString	  "on,on"
	  MaskVarAliasString	  ","
	  MaskVariables		  "N=@1;td=@2;"
	  MaskInitialization	  "Ac=1;z=[[1:N];[1:N]];z=z(:);[x,y]=qaskenco("
"z-1,N);z=z-1.5;z=[z(2:2*N);N-.5];xx=max(x);yy=max(y);x=x/((xx==0)+xx);y=y/((y"
"y==0)+yy);"
	  MaskDisplay		  "disp('QASK\\nS-map')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "M|td"
	  System {
	    Name		    "QASK\nsquare-map"
	    Location		    [410, 150, 838, 319]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "in_1"
	      Position		      [45, 30, 65, 50]
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold"
	      Position		      [110, 24, 145, 56]
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "c-y axis"
	      Position		      [245, 90, 280, 120]
	      InputValues	      "z"
	      OutputValues	      "y"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "s-x axis"
	      Position		      [245, 25, 280, 55]
	      InputValues	      "z"
	      OutputValues	      "x"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [325, 30, 345, 50]
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_2"
	      Position		      [325, 95, 345, 115]
	      Port		      "2"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "in_1"
	      SrcPort		      1
	      DstBlock		      "Zero-Order\nHold"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold"
	      SrcPort		      1
	      Points		      [35, 0]
	      Branch {
		DstBlock		"s-x axis"
		DstPort			1
	      }
	      Branch {
		Points			[0, 65]
		DstBlock		"c-y axis"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "c-y axis"
	      SrcPort		      1
	      DstBlock		      "out_2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "s-x axis"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [300, 45, 320, 65]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "QASK\nsquare-map"
	  SrcPort		  1
	  DstBlock		  "QAM\nbaseband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QASK\nsquare-map"
	  SrcPort		  2
	  DstBlock		  "QAM\nbaseband"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "QAM\nbaseband"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "QASK\nsquare-map"
	  DstPort		  1
	}
      }
    }
    Annotation {
      Name		      "Warning:  This library is obsolete and may be\n"
"removed in the future."
      Position		      [155, 509]
      FontName		      "Arial"
      FontSize		      14
    }
  }
}
