Library {
  Name			  "commdigpbnd"
  Version		  5.0
  SaveDefaultBlockParams  on
  LibraryLinkDisplay	  "none"
  ShowLoopsOnError	  on
  IgnoreBidirectionalLines off
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  covSaveCumulativeToWorkspaceVar on
  CovSaveSingleToWorkspaceVar on
  CovCumulativeReport	  off
  BlockNameDataTip	  off
  BlockParametersDataTip  on
  BlockDescriptionStringDataTip	off
  ToolBar		  off
  StatusBar		  off
  BrowserShowLibraryLinks off
  BrowserLookUnderMasks	  off
  Created		  "Wed Jun 10 14:51:50 1998"
  Creator		  "tdelve"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "mmclerno"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Mon Dec 23 16:00:26 2002"
  ModelVersionFormat	  "1.%<AutoIncrement:46>"
  ConfigurationManager	  "none"
  SimParamPage		  "Solver"
  LinearizationMsg	  "none"
  Profile		  off
  ParamWorkspaceSource	  "MATLABWorkspace"
  ExtModeMexFile	  "ext_comm"
  ExtModeBatchMode	  off
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  SimulationMode	  "normal"
  ConsistencyChecking	  "none"
  ArrayBoundsChecking	  "none"
  AlgebraicLoopMsg	  "warning"
  BlockPriorityViolationMsg "warning"
  MinStepSizeMsg	  "warning"
  InheritedTsInSrcMsg	  "warning"
  DiscreteInheritContinuousMsg "warning"
  MultiTaskRateTransMsg	  "error"
  SingleTaskRateTransMsg  "none"
  CheckForMatrixSingularity "none"
  IntegerOverflowMsg	  "warning"
  Int32ToFloatConvMsg	  "warning"
  ParameterDowncastMsg	  "error"
  ParameterOverflowMsg	  "error"
  ParameterPrecisionLossMsg "warning"
  UnderSpecifiedDataTypeMsg "none"
  UnnecessaryDatatypeConvMsg "none"
  VectorMatrixConversionMsg "none"
  InvalidFcnCallConnMsg	  "error"
  SignalLabelMismatchMsg  "none"
  UnconnectedInputMsg	  "warning"
  UnconnectedOutputMsg	  "warning"
  UnconnectedLineMsg	  "warning"
  SfunCompatibilityCheckMsg "none"
  ProdHWDeviceType	  "Microprocessor"
  ProdHWWordLengths	  "8,16,32,32"
  RTWMakeCommand	  "make_rtw"
  RTWGenerateCodeOnly	  off
  RTWRetainRTWFile	  off
  TLCProfiler		  off
  TLCDebug		  off
  TLCCoverage		  off
  TLCAssertion		  off
  BlockDefaults {
    Orientation		    "right"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
  }
  BlockParameterDefaults {
    Block {
      BlockType		      Clock
      DisplayTime	      off
    }
    Block {
      BlockType		      Constant
      Value		      "1"
      VectorParams1D	      on
      ShowAdditionalParam     off
      OutDataTypeMode	      "Inherit from 'Constant value'"
      OutDataType	      "sfix(16)"
      ConRadixGroup	      "Use specified scaling"
      OutScaling	      "2^0"
    }
    Block {
      BlockType		      Demux
      Outputs		      "4"
      DisplayOption	      "none"
      BusSelectionMode	      off
    }
    Block {
      BlockType		      Fcn
      Expr		      "sin(u[1])"
    }
    Block {
      BlockType		      Gain
      Gain		      "1"
      Multiplication	      "Element-wise(K.*u)"
      ShowAdditionalParam     off
      ParameterDataTypeMode   "Same as input"
      ParameterDataType	      "sfix(16)"
      ParameterScalingMode    "Best Precision: Matrix-wise"
      ParameterScaling	      "2^0"
      OutDataTypeMode	      "Same as input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
    }
    Block {
      BlockType		      Inport
      Port		      "1"
      PortDimensions	      "-1"
      SampleTime	      "-1"
      ShowAdditionalParam     off
      LatchInput	      off
      DataType		      "auto"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      SignalType	      "auto"
      SamplingMode	      "auto"
      Interpolate	      on
    }
    Block {
      BlockType		      Lookup
      InputValues	      "[-4:5]"
      OutputValues	      " rand(1,10)-0.5"
      ShowAdditionalParam     off
      LookUpMeth	      "Interpolation-Extrapolation"
      OutDataTypeMode	      "Same as input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
    }
    Block {
      BlockType		      Mux
      Inputs		      "4"
      DisplayOption	      "none"
    }
    Block {
      BlockType		      Outport
      Port		      "1"
      OutputWhenDisabled      "held"
      InitialOutput	      "[]"
    }
    Block {
      BlockType		      Product
      Inputs		      "2"
      Multiplication	      "Element-wise(.*)"
      ShowAdditionalParam     off
      InputSameDT	      on
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
    }
    Block {
      BlockType		      Reference
    }
    Block {
      BlockType		      "S-Function"
      FunctionName	      "system"
      PortCounts	      "[]"
      SFunctionModules	      "''"
    }
    Block {
      BlockType		      Signum
      ZeroCross		      on
    }
    Block {
      BlockType		      SubSystem
      ShowPortLabels	      on
      Permissions	      "ReadWrite"
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      SimViewingDevice	      off
      DataTypeOverride	      "UseLocalSettings"
      MinMaxOverflowLogging   "UseLocalSettings"
    }
    Block {
      BlockType		      Sum
      IconShape		      "rectangular"
      Inputs		      "++"
      ShowAdditionalParam     off
      InputSameDT	      on
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
    }
    Block {
      BlockType		      Switch
      Criteria		      "u2 >= Threshold"
      Threshold		      "0"
      ShowAdditionalParam     off
      InputSameDT	      on
      OutDataTypeMode	      "Inherit via internal rule"
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      ZeroCross		      on
    }
    Block {
      BlockType		      ZeroOrderHold
      SampleTime	      "1"
    }
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  System {
    Name		    "commdigpbnd"
    Location		    [310, 51, 832, 575]
    Open		    on
    ModelBrowserVisibility  off
    ModelBrowserWidth	    200
    ScreenColor		    "white"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    ZoomFactor		    "100"
    ReportName		    "simulink-default.rpt"
    Block {
      BlockType		      SubSystem
      Name		      "Arbitrary-map\nQASK demod"
      Ports		      [1, 1]
      Position		      [155, 168, 235, 212]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband A-map QASK demodulation"
      MaskDescription	      "Demodulate a QASK modulated signal with user-de"
"fined arbitrary constellation."
      MaskHelp		      "This block demodulates a QASK modulated signal "
"using user-defined arbitrary constellation. The arbitrary defined map is give"
"n in in-phase and quadrature component vector. The vector length of in-phase "
"and quadrature components should have the same length. This block uses a defa"
"ult lowpass filter, which is [num,den]=butter(5,Fc*2*ts). Ungroup this block "
"to define your own filter."
      MaskPromptString	      "Vector of in-phase component:|Vector of quadrat"
"ure component:|Symbol interval (sec):|Carrier frequency (Hz):|Initial phase ("
"rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVarAliasString      ",,,,,"
      MaskVariables	      "y1=@1;y2=@2;td=@3;Fc=@4;Ph=@5;ts=@6;"
      MaskInitialization      "[num,den]=butter(5,Fc*2*ts);\n"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10 20] [20:"
".8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) 0 0 sin(["
"20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndisp('\\nPassband\\nA-QA"
"SK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "real(exp(j*[0:8-1]/8*pi*2))|imag(exp(j*[0:8-1]/"
"8*pi*2))|0.1|100|0|0.001"
      System {
	Name			"Arbitrary-map\nQASK demod"
	Location		[360, 100, 695, 230]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [10, 50, 30, 70]
	  ShowName		  off
	}
	Block {
	  BlockType		  Reference
	  Name			  "QADM\npassband"
	  Ports			  [1, 2]
	  Position		  [65, 38, 145, 82]
	  SourceBlock		  "commanapbnd/QADM\npassband"
	  SourceType		  "Passband DSB-SC QADM"
	  Fc			  "Fc"
	  num			  "num"
	  den			  "den"
	  Ph			  "Ph"
	  ts			  "ts"
	}
	Block {
	  BlockType		  Reference
	  Name			  "QASK\narbitrary-demap"
	  Ports			  [2, 1]
	  Position		  [175, 38, 255, 82]
	  SourceBlock		  "commdigbbnd/A-map QASK\ndemod baseband/QASK"
"\narbitrary-demap"
	  SourceType		  "QASK A-demap"
	  y1			  "y1"
	  y2			  "y2"
	  td			  "td"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [285, 50, 305, 70]
	  ShowName		  off
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "QADM\npassband"
	  SrcPort		  2
	  DstBlock		  "QASK\narbitrary-demap"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "QADM\npassband"
	  SrcPort		  1
	  DstBlock		  "QASK\narbitrary-demap"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QASK\narbitrary-demap"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "QADM\npassband"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Arbitrary-map\nQASK mod"
      Ports		      [1, 1]
      Position		      [25, 168, 105, 212]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband A-map QASK modulation"
      MaskDescription	      "Modulate the input digital signal using quadrat"
"ure amplitude shift keying method with arbitrary constellation.   "
      MaskHelp		      "This block modulates a digital signal using QAS"
"K method with user-defined arbitrary constellation. The vector length of the "
"in-phase and quadrature components vector should have the same length. The in"
"puts are integers in the range [0, M-1], where M is the M-ary number. When th"
"e symbol interval is a two-element vector, the second element is the offset ("
"default 0)."
      MaskPromptString	      "Vector of in-phase component:|Vector of quadrat"
"ure component:|Symbol interval (sec):|Carrier frequency (Hz):|Initial phase ("
"rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVarAliasString      ",,,,,"
      MaskVariables	      "y1=@1;y2=@2;td=@3;Fc=@4;Ph=@5;ts=@6;"
      MaskDisplay	      "plot(0,0,100,100,[5+15*[0 1 1 2 2 3] 50 50 50 5"
"0+1.5*[[0:.8:10] [10 20] [20:.8:30]]],[85+8*[1 1 -1 -1 1 1] 85 99 75 85+10*[s"
"in([0:.8:10]*pi*2/5) 0 0 sin([20:.8:30]*pi*2/5)]]);\ndisp('\\nPassband\\nA-QA"
"SK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "real(exp(j*[0:8-1]/8*pi*2))|imag(exp(j*[0:8-1]/"
"8*pi*2))|0.1|100|0|0.001"
      System {
	Name			"Arbitrary-map\nQASK mod"
	Location		[360, 100, 691, 212]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [20, 30, 40, 50]
	}
	Block {
	  BlockType		  Reference
	  Name			  "QAM\npassband"
	  Ports			  [2, 1]
	  Position		  [175, 18, 255, 62]
	  ShowName		  off
	  SourceBlock		  "commanapbnd/QAM\npassband"
	  SourceType		  "Passband DSB-SC QAM"
	  Fc			  "Fc"
	  Ph			  "Ph"
	  ts			  "ts"
	}
	Block {
	  BlockType		  Reference
	  Name			  "QASK\narbitrary-map1"
	  Ports			  [1, 2]
	  Position		  [70, 18, 150, 62]
	  ShowName		  off
	  SourceBlock		  "commdigbbnd/A-map QASK\nmod baseband/QASK\n"
"arbitrary-map"
	  SourceType		  "QASK A-map"
	  y1			  "y1"
	  y2			  "y2"
	  td			  "td"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [295, 30, 315, 50]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "QASK\narbitrary-map1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QAM\npassband"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QASK\narbitrary-map1"
	  SrcPort		  1
	  DstBlock		  "QAM\npassband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QASK\narbitrary-map1"
	  SrcPort		  2
	  DstBlock		  "QAM\npassband"
	  DstPort		  2
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Coherent\nMFSK demod"
      Ports		      [1, 1]
      Position		      [155, 253, 235, 297]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband MFSK demodulation"
      MaskDescription	      "Demodulate a MFSK modulated signal using cohere"
"nt demodulation method."
      MaskHelp		      "This block demodulates a MFSK modulated signal "
"using coherent method. The coherence demodulation method is phase sensitive. "
"The tone space is the frequency distance between two consecutive digit after "
"the modulation. The inputs are integers in the range [0, M-1], where M is the"
" M-ary number. When the symbol interval is a two-element vector, the second e"
"lement is the offset (default 0)."
      MaskPromptString	      "M-ary number (output digits in range [0, M-1]):"
"|Tone space (Hz):|Symbol interval (sec):|Carrier frequency (Hz):|Initial phas"
"e (rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVarAliasString      ",,,,,"
      MaskVariables	      "M=@1;Ton=@2;td=@3;Fc=@4;Ph=@5;ts=@6;"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10:1.6:20] "
"[20:.8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) sin(["
"10:1.6:20]*pi/5) sin([20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndi"
"sp('\\nPassband\\nCohe MFSK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "8|8/.1/5|0.1|100|0|0.001"
      System {
	Name			"Coherent\nMFSK demod"
	Location		[360, 100, 770, 195]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [30, 40, 50, 60]
	  ShowName		  off
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Coh MFSK demod\ncorr passband"
	  Ports			  [1, 1]
	  Position		  [100, 28, 180, 72]
	  ShowName		  off
	  TreatAsAtomicUnit	  off
	  MaskType		  "Passband coherent MFSK correlation"
	  MaskDescription	  "Compute MFSK correlation. Take MFSK modulat"
"ed signal. Output a vector of correlation result."
	  MaskHelp		  "This block calculates the coherent correlat"
"ion value of the input signal with a vector of sinusoidal signals. These sinu"
"soidal signals have their frequency the same as that of FM modulated signal o"
"f possible resulting digits. The output is an M length vector. M is the M-ary"
" number. The MFSK demodulation result is the index of the largest output, usi"
"ng the Min/max demap block. The computation is phase sensitive."
	  MaskPromptString	  "M-ary number (input in range [0, M-1]):|Ton"
"e space (Hz):|Symbol interval and offset (sec):|Carrier frequency (Hz):|Initi"
"al phase (rad):|Sample time (sec):"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on"
	  MaskCallbackString	  "|||||"
	  MaskEnableString	  "on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,"
	  MaskVariables		  "N=@1;Ton=@2;td=@3;Ph=@5;ts=@6;"
	  MaskInitialization	  "pi2=2*pi;Fc=@4*pi2;sft=[0:N-1]*Ton*pi2;"
	  MaskDisplay		  "disp('Coh corr\\nMFSK dm')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "M|Ton|td|Fc|Ph|ts"
	  System {
	    Name		    "Coh MFSK demod\ncorr passband"
	    Location		    [410, 150, 1020, 403]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "in_1"
	      Position		      [365, 45, 385, 65]
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "Array sin"
	      Ports		      [1, 1]
	      Position		      [325, 85, 375, 105]
	      FunctionName	      "arysin"
	      Parameters	      "'cos'"
	    }
	    Block {
	      BlockType		      Clock
	      Name		      "Clock"
	      Position		      [35, 160, 55, 180]
	      Decimation	      "10"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [70, 155, 110, 185]
	      Gain		      "Fc"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Initial phase"
	      Position		      [80, 113, 100, 137]
	      Value		      "Ph"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [415, 46, 440, 79]
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Scheduled\nreset-int2"
	      Ports		      [1, 1]
	      Position		      [125, 38, 205, 82]
	      ShowName		      off
	      SourceBlock	      "commutil/Scheduled\nreset-int"
	      SourceType	      "Scheduled reset integration"
	      td		      "td"
	      ts		      "ts"
	      limit		      "Inf"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Scheduled\nreset-int3"
	      Ports		      [1, 1]
	      Position		      [465, 43, 545, 87]
	      ShowName		      off
	      SourceBlock	      "commutil/Scheduled\nreset-int"
	      SourceType	      "Scheduled reset integration"
	      td		      "td"
	      ts		      "ts"
	      limit		      "Inf"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Shift key"
	      Position		      [60, 48, 80, 72]
	      Value		      "sft"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [3, 1]
	      Position		      [265, 75, 290, 115]
	      Inputs		      "+++"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [205, 160, 230, 195]
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold"
	      Position		      [135, 184, 170, 216]
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [560, 55, 580, 75]
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Scheduled\nreset-int3"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "in_1"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Scheduled\nreset-int3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Array sin"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Array sin"
	      SrcPort		      1
	      Points		      [20, 0]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Shift key"
	      SrcPort		      1
	      DstBlock		      "Scheduled\nreset-int2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Scheduled\nreset-int2"
	      SrcPort		      1
	      Points		      [15, 0; 0, 20]
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Initial phase"
	      SrcPort		      1
	      Points		      [125, 0; 0, -30]
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Clock"
	      SrcPort		      1
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Sum1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		DstBlock		"Sum2"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Zero-Order\nHold"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold"
	      SrcPort		      1
	      Points		      [5, 0; 0, -15]
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	  }
	}
	Block {
	  BlockType		  Reference
	  Name			  "Min/max index"
	  Ports			  [1, 1]
	  Position		  [225, 28, 305, 72]
	  ShowName		  off
	  SourceBlock		  "commdigbbnd/Coh MFSK\ndemod baseband/Min//m"
"ax index"
	  SourceType		  "Maximum/minimum index."
	  td			  "td"
	  mima			  "'max'"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [360, 40, 380, 60]
	  ShowName		  off
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "Min/max index"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "Coh MFSK demod\ncorr passband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Coh MFSK demod\ncorr passband"
	  SrcPort		  1
	  DstBlock		  "Min/max index"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "DPSK demod"
      Ports		      [1, 1]
      Position		      [420, 88, 500, 132]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband DPSK demodulation"
      MaskDescription	      "Demodulate a DPSK modulated signal."
      MaskHelp		      "This block demodulates a DPSK modulated signal "
"using the digital MPSK Demod block and the Differential Decoder block. The in"
"put is a modulated analog signal and the output is a demodulated binary signa"
"l. Match the parameters to the ones used in the corresponding DPSK Mod block."
" The offset value in Symbol interval can be different."
      MaskPromptString	      "Symbol interval (sec):|Carrier frequency (Hz):|"
"Initial phase (rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on"
      MaskCallbackString      "|||"
      MaskEnableString	      "on,on,on,on"
      MaskVisibilityString    "on,on,on,on"
      MaskToolTipString	      "on,on,on,on"
      MaskVarAliasString      ",,,"
      MaskVariables	      "td=@1;Fc=@2;Ph=@3;ts=@4;"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10:1.6:20] "
"[20:.8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) sin(["
"10:1.6:20]*pi/5) sin([20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndi"
"sp('\\nPassband\\nDPSK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "0.1|100|0|0.001"
      System {
	Name			"DPSK demod"
	Location		[360, 100, 808, 209]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [20, 40, 40, 60]
	}
	Block {
	  BlockType		  Reference
	  Name			  "Differential decode1"
	  Ports			  [1, 1]
	  Position		  [300, 27, 380, 73]
	  ShowName		  off
	  SourceBlock		  "commutil/Differential decode"
	  SourceType		  "Binary differential decoder"
	  td			  "td"
	}
	Block {
	  BlockType		  Reference
	  Name			  "MPSK demod\ncorr passband1"
	  Ports			  [1, 1]
	  Position		  [70, 28, 150, 72]
	  ShowName		  off
	  SourceBlock		  "commdigpbnd/MPSK demod/MPSK demod\ncorr pas"
"sband"
	  SourceType		  "Passband MPSK coherent MPSK correlation"
	  N			  "2"
	  td			  "td"
	  MaskParam3		  "Fc"
	  Ph			  "Ph"
	  ts			  "ts"
	}
	Block {
	  BlockType		  Reference
	  Name			  "Min/max index"
	  Ports			  [1, 1]
	  Position		  [185, 28, 265, 72]
	  ShowName		  off
	  SourceBlock		  "commdigbbnd/Coh MFSK\ndemod baseband/Min//m"
"ax index"
	  SourceType		  "Maximum/minimum index."
	  td			  "td"
	  mima			  "'max'"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [405, 40, 425, 60]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "MPSK demod\ncorr passband1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "MPSK demod\ncorr passband1"
	  SrcPort		  1
	  DstBlock		  "Min/max index"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Min/max index"
	  SrcPort		  1
	  DstBlock		  "Differential decode1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Differential decode1"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "DPSK mod"
      Ports		      [1, 1]
      Position		      [290, 88, 370, 132]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband DPSK modulation"
      MaskDescription	      "Modulate the input signal using differential ph"
"ase shift keying method."
      MaskHelp		      "This block modulates a digital signal with a gi"
"ven carrier frequency using the DPSK method. The input to this block is a bin"
"ary signal. When the symbol interval is a two-element vector, the second elem"
"ent is the offset (default is 0). The output is a modulated analog signal wit"
"h a maximum amplitude equal to 1."
      MaskPromptString	      "Symbol interval (sec):|Carrier frequency (Hz):|"
"Initial phase (rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on"
      MaskCallbackString      "|||"
      MaskEnableString	      "on,on,on,on"
      MaskVisibilityString    "on,on,on,on"
      MaskToolTipString	      "on,on,on,on"
      MaskVarAliasString      ",,,"
      MaskVariables	      "td=@1;Fc=@2;Ph=@3;ts=@4;"
      MaskDisplay	      "plot(0,0,100,100,[5+15*[0 1 1 2 2 3] 50 50 50 5"
"0+1.5*[[0:.8:10] [10:1.6:20] [20:.8:30]]],[85+8*[1 1 -1 -1 1 1] 85 99 75 85+1"
"0*[sin([0:.8:10]*pi*2/5) sin([10:1.6:20]*pi/5) sin([20:.8:30]*pi*2/5)]]);\ndi"
"sp('\\nPassband\\nDPSK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "0.1|100|0|0.001"
      System {
	Name			"DPSK mod"
	Location		[360, 100, 800, 224]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [15, 40, 35, 60]
	  ShowName		  off
	}
	Block {
	  BlockType		  Reference
	  Name			  "Differential encode"
	  Ports			  [1, 1]
	  Position		  [60, 28, 140, 72]
	  ShowName		  off
	  SourceBlock		  "commutil/Differential encode"
	  SourceType		  "Binary differential encoder"
	  td			  "td"
	}
	Block {
	  BlockType		  Reference
	  Name			  "MPSK map1"
	  Ports			  [1, 1]
	  Position		  [170, 28, 250, 72]
	  ShowName		  off
	  SourceBlock		  "commdigbbnd/MPSK mod\nbaseband/MPSK map"
	  SourceType		  "MPSK map"
	  MaskParam1		  "2"
	  td			  "td"
	}
	Block {
	  BlockType		  Reference
	  Name			  "PM\npassband"
	  Ports			  [1, 1]
	  Position		  [275, 28, 355, 72]
	  ShowName		  off
	  SourceBlock		  "commanapbnd/PM\npassband"
	  SourceType		  "Passband PM"
	  Fc			  "Fc"
	  Ph			  "Ph"
	  Kc			  "1"
	  td			  "td"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [385, 40, 405, 60]
	  ShowName		  off
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "MPSK map1"
	  SrcPort		  1
	  DstBlock		  "PM\npassband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "PM\npassband"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "Differential encode"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Differential encode"
	  SrcPort		  1
	  DstBlock		  "MPSK map1"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "MASK demod"
      Ports		      [1, 1]
      Position		      [155, 18, 235, 62]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband MASK demodulation"
      MaskDescription	      "Demodulate a MASK modulated signal."
      MaskHelp		      "This block demodulates a MASK modulated signal."
" The output signals are digits in range [0, M-1]. When the symbol interval is"
" a two element vector, the second element is the offset (default 0). A defaul"
"t lowpass filter is used in the demodulation, which is [num, den]=butter(5, F"
"c*2*ts). Ungroup this block to specify the numerator and denominator of the l"
"owpass filter."
      MaskPromptString	      "M-ary number (output integer in range [0, M-1])"
":|Symbol interval (sec):|Carrier Frequency (Hz):|Initial phase (rad):|Sample "
"time (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on"
      MaskCallbackString      "||||"
      MaskEnableString	      "on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on"
      MaskVarAliasString      ",,,,"
      MaskVariables	      "M=@1;td=@2;Fc=@3;Ph=@4;ts=@5;"
      MaskInitialization      "[num,den]=butter(5,Fc*2*ts);\n\n"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10 20] [20:"
".8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) 0 0 sin(["
"20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndisp('\\nPassband\\nMASK"
"');"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "8|0.1|100|0|0.001"
      System {
	Name			"MASK demod"
	Location		[360, 100, 752, 186]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [30, 30, 50, 50]
	}
	Block {
	  BlockType		  Reference
	  Name			  "DSB-SC-ADM\npassband"
	  Ports			  [1, 1]
	  Position		  [90, 18, 170, 62]
	  ShowName		  off
	  SourceBlock		  "commanapbnd/DSB-SC-ADM\npassband"
	  SourceType		  "Passband DSB-SC ADM"
	  MaskParam1		  "Fc"
	  MaskParam2		  "num"
	  MaskParam3		  "den"
	  MaskParam4		  "Ph"
	  MaskParam5		  "ts"
	}
	Block {
	  BlockType		  Reference
	  Name			  "MASK demap1"
	  Ports			  [1, 1]
	  Position		  [215, 18, 295, 62]
	  ShowName		  off
	  SourceBlock		  "commdigbbnd/MASK demod\nbaseband/MASK demap"
	  SourceType		  "MASK demap"
	  M			  "M"
	  td			  "td"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [340, 30, 360, 50]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "MASK demap1"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "DSB-SC-ADM\npassband"
	  SrcPort		  1
	  DstBlock		  "MASK demap1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "DSB-SC-ADM\npassband"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "MASK mod"
      Ports		      [1, 1]
      Position		      [25, 18, 105, 62]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband MASK modulation"
      MaskDescription	      "Modulate the input digital signal using M-ary a"
"mplitude shift keying method."
      MaskHelp		      "This block modulates a digital signal using MAS"
"K method. The inputs are integers in the range [0, M-1], where M is the M-ary"
" number. When the symbol interval is a two-element vector, the second element"
" is the offset (default 0). The block keeps the input value at the offset tim"
"e point for the entire interval."
      MaskPromptString	      "M-ary number (input integer in range [0, M-1]):"
"|Input symbol interval (sec):|Carrier frequency (Hz):|Carrier initial phase ("
"rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on"
      MaskCallbackString      "||||"
      MaskEnableString	      "on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on"
      MaskVarAliasString      ",,,,"
      MaskVariables	      "M=@1;td=@2;Fc=@3;Ph=@4;ts=@5;"
      MaskDisplay	      "plot(0,0,100,100,[5+15*[0 1 1 2 2 3] 50 50 50 5"
"0+1.5*[[0:.8:10] [10 20] [20:.8:30]]],[85+8*[1 1 -1 -1 1 1] 85 99 75 85+10*[s"
"in([0:.8:10]*pi*2/5) 0 0 sin([20:.8:30]*pi*2/5)]]);\ndisp('\\nPassband\\nMASK"
"')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "8|0.1|100|0|0.001"
      System {
	Name			"MASK mod"
	Location		[360, 100, 711, 195]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [30, 25, 50, 45]
	}
	Block {
	  BlockType		  Reference
	  Name			  "DSB-SC AM\npassband"
	  Ports			  [1, 1]
	  Position		  [195, 13, 275, 57]
	  SourceBlock		  "commanapbnd/DSB-SC AM\npassband"
	  SourceType		  "Passband DSB-SC AM"
	  MaskParam1		  "Fc"
	  MaskParam2		  "Ph"
	  MaskParam3		  "ts"
	}
	Block {
	  BlockType		  Reference
	  Name			  "MASK map"
	  Ports			  [1, 1]
	  Position		  [80, 13, 160, 57]
	  SourceBlock		  "commdigbbnd/MASK mod\nbaseband/MASK map"
	  SourceType		  "MASK map"
	  N			  "M"
	  td			  "td"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [300, 25, 320, 45]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "DSB-SC AM\npassband"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "MASK map"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "MASK map"
	  SrcPort		  1
	  DstBlock		  "DSB-SC AM\npassband"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "MFSK mod"
      Ports		      [1, 1]
      Position		      [25, 253, 105, 297]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband FSK modulation"
      MaskDescription	      "Modulate the input digital signal using M-ary f"
"requency shift keying method."
      MaskHelp		      "This block modulates a digital signal using FSK"
" method. The modulation resets the modulation phase to be the specified initi"
"al phase at the beginning of each digit. Tone space is the frequency distance"
" between two consecutive digits after modulation. The output signal has its f"
"requency in the range [Fc, Fc + Tone_space*Max_In_Value], where Fc is the car"
"rier frequency."
      MaskPromptString	      "Tone space(Hz):|Symbol interval (sec):|Carrier "
"frequency (Hz):|Initial phase (rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on"
      MaskCallbackString      "||||"
      MaskEnableString	      "on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on"
      MaskVarAliasString      ",,,,"
      MaskVariables	      "Ton=@1;td=@2;Fc=@3;Ph=@4;ts=@5;"
      MaskDisplay	      "plot(0,0,100,100,[5+15*[0 1 1 2 2 3] 50 50 50 5"
"0+1.5*[[0:.8:10] [10:1.6:20] [20:.8:30]]],[85+8*[1 1 -1 -1 1 1] 85 99 75 85+1"
"0*[sin([0:.8:10]*pi*2/5) sin([10:1.6:20]*pi/5) sin([20:.8:30]*pi*2/5)]]);\ndi"
"sp('\\nPassband\\nMFSK');"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "8/.1/5|0.1|100|0|0.001"
      System {
	Name			"MFSK mod"
	Location		[360, 100, 706, 247]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [15, 60, 35, 80]
	}
	Block {
	  BlockType		  Reference
	  Name			  "FM\npassband"
	  Ports			  [1, 1]
	  Position		  [185, 48, 265, 92]
	  SourceBlock		  "commanapbnd/FM\npassband"
	  SourceType		  "Passband FM"
	  Fc			  "Fc"
	  Ph			  "Ph"
	  HzPerV		  "1"
	  ts			  "ts"
	  td			  "td"
	}
	Block {
	  BlockType		  Reference
	  Name			  "MFSK map"
	  Ports			  [1, 1]
	  Position		  [75, 48, 155, 92]
	  SourceBlock		  "commdigbbnd/MFSK mod\nbaseband/MFSK map"
	  SourceType		  "MFSK map"
	  Ton			  "Ton"
	  td			  "td"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [290, 60, 310, 80]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "MFSK map"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "FM\npassband"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "MFSK map"
	  SrcPort		  1
	  DstBlock		  "FM\npassband"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "MPSK demod"
      Ports		      [1, 1]
      Position		      [420, 18, 500, 62]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband MPSK demodulation"
      MaskDescription	      "Demodulate a MPSK modulated signal using correl"
"ation method."
      MaskHelp		      "This block demodulates a MPSK modulated signal "
"using correlation method. The output signals are digits in range [0, M-1], wh"
"ere M is the M-ary number. When the symbol interval is a two-element vector, "
"the second element is the offset (default 0)."
      MaskPromptString	      "M-ary number (output integer in range [0, M-1])"
":|Symbol interval (sec):|Carrier frequency (Hz):|Initial phase (rad):|Sample "
"time (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on"
      MaskCallbackString      "||||"
      MaskEnableString	      "on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on"
      MaskVarAliasString      ",,,,"
      MaskVariables	      "M=@1;td=@2;Fc=@3;Ph=@4;ts=@5;"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10:1.6:20] "
"[20:.8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) sin(["
"10:1.6:20]*pi/5) sin([20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndi"
"sp('\\nPassband\\nMPSK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "8|0.1|100|0|0.001"
      System {
	Name			"MPSK demod"
	Location		[360, 100, 694, 264]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [10, 65, 30, 85]
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "MPSK demod\ncorr passband"
	  Ports			  [1, 1]
	  Position		  [60, 53, 140, 97]
	  TreatAsAtomicUnit	  off
	  MaskType		  "Passband MPSK coherent MPSK correlation"
	  MaskDescription	  "Compute MPSK correlation. Take MPSK modulat"
"ed signal. Output a vector of correlation result."
	  MaskHelp		  "This block calculates the correlation value"
" of the input signal with a vector of sinusoidal signals. These sinusoidal si"
"gnals have their phase shift the same as that of PM modulated signal of possi"
"ble resulting digits. The output is an M length vector. M is the M-ary number"
". The MPSK demodulation result is the index of the largest output, using the "
"Min/max demap block. The computation is phase sensitive."
	  MaskPromptString	  "M-ary number (integer in range [0, M-1]):|S"
"ymbol interval and offset (sec):|Carrier frequency (Hz):|Initial phase (rad):"
"|Sample time (sec):"
	  MaskStyleString	  "edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on"
	  MaskCallbackString	  "||||"
	  MaskEnableString	  "on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on"
	  MaskVarAliasString	  ",,,,"
	  MaskVariables		  "N=@1;td=@2;Ph=@4;ts=@5;"
	  MaskInitialization	  "pi2=2*pi;sft=[0:N-1]*pi2/N;Fc=@3*pi2;"
	  MaskDisplay		  "disp('Corr MPSK\\ndemod')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "M|td|Fc|Ph|ts"
	  System {
	    Name		    "MPSK demod\ncorr passband"
	    Location		    [410, 150, 982, 348]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "in_1"
	      Position		      [305, 100, 325, 120]
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "Array sin"
	      Ports		      [1, 1]
	      Position		      [295, 50, 345, 70]
	      FunctionName	      "arysin"
	      Parameters	      "'cos'"
	    }
	    Block {
	      BlockType		      Clock
	      Name		      "Clock"
	      Position		      [15, 90, 35, 110]
	      Decimation	      "10"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [65, 85, 105, 115]
	      Gain		      "Fc"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Initial phase"
	      Position		      [165, 48, 185, 72]
	      Value		      "Ph"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [385, 51, 410, 84]
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Scheduled\nreset-int"
	      Ports		      [1, 1]
	      Position		      [440, 46, 500, 94]
	      SourceBlock	      "commutil/Scheduled\nreset-int"
	      SourceType	      "Scheduled reset integration"
	      td		      "td"
	      ts		      "ts"
	      limit		      "Inf"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Shift key"
	      Position		      [115, 13, 135, 37]
	      Value		      "sft"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [3, 1]
	      Position		      [240, 40, 265, 80]
	      Inputs		      "+++"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [185, 90, 210, 125]
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold"
	      Position		      [125, 119, 160, 151]
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [525, 60, 545, 80]
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "in_1"
	      SrcPort		      1
	      Points		      [30, 0; 0, -35]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Array sin"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold"
	      SrcPort		      1
	      Points		      [0, -20]
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"Zero-Order\nHold"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Sum2"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      Points		      [10, 0]
	      DstBlock		      "Sum1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Clock"
	      SrcPort		      1
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Initial phase"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Shift key"
	      SrcPort		      1
	      Points		      [85, 0]
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Array sin"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Scheduled\nreset-int"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Scheduled\nreset-int"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Reference
	  Name			  "Min/max index"
	  Ports			  [1, 1]
	  Position		  [180, 53, 260, 97]
	  ShowName		  off
	  SourceBlock		  "commdigbbnd/Coh MFSK\ndemod baseband/Min//m"
"ax index"
	  SourceType		  "Maximum/minimum index."
	  td			  "td"
	  mima			  "'max'"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [295, 65, 315, 85]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "Min/max index"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "MPSK demod\ncorr passband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "MPSK demod\ncorr passband"
	  SrcPort		  1
	  DstBlock		  "Min/max index"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "MPSK mod"
      Ports		      [1, 1]
      Position		      [290, 18, 370, 62]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband MPSK modulation"
      MaskDescription	      "Modulate the input signal using M-ary phase shi"
"ft keying method."
      MaskHelp		      "This block modulates a digital signal with a gi"
"ven carrier frequency using MPSK method. The inputs are integers in the range"
" [0, M-1], where M is the M-ary number. When the symbol interval is a two ele"
"ment vector, the second element is the offset (default 0). The block keeps th"
"e input value at the offset time point for the entire interval."
      MaskPromptString	      "M-ary number (input integer in range [0, M-1]):"
"|Symbol interval (sec):|Carrier frequency (Hz):|Initial phase (rad):|Sample t"
"ime (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on"
      MaskCallbackString      "||||"
      MaskEnableString	      "on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on"
      MaskVarAliasString      ",,,,"
      MaskVariables	      "M=@1;td=@2;Fc=@3;Ph=@4;ts=@5;"
      MaskDisplay	      "plot(0,0,100,100,[5+15*[0 1 1 2 2 3] 50 50 50 5"
"0+1.5*[[0:.8:10] [10:1.6:20] [20:.8:30]]],[85+8*[1 1 -1 -1 1 1] 85 99 75 85+1"
"0*[sin([0:.8:10]*pi*2/5) sin([10:1.6:20]*pi/5) sin([20:.8:30]*pi*2/5)]]);\ndi"
"sp('\\nPassband\\nMPSK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "8|0.1|100|0|0.001"
      System {
	Name			"MPSK mod"
	Location		[360, 100, 678, 235]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [10, 65, 30, 85]
	  ShowName		  off
	}
	Block {
	  BlockType		  Reference
	  Name			  "MPSK map"
	  Ports			  [1, 1]
	  Position		  [60, 53, 140, 97]
	  ShowName		  off
	  SourceBlock		  "commdigbbnd/MPSK mod\nbaseband/MPSK map"
	  SourceType		  "MPSK map"
	  MaskParam1		  "M"
	  td			  "td"
	}
	Block {
	  BlockType		  Reference
	  Name			  "PM\npassband"
	  Ports			  [1, 1]
	  Position		  [165, 53, 245, 97]
	  ShowName		  off
	  SourceBlock		  "commanapbnd/PM\npassband"
	  SourceType		  "Passband PM"
	  Fc			  "Fc"
	  Ph			  "Ph"
	  Kc			  "1"
	  td			  "td"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [275, 65, 295, 85]
	  ShowName		  off
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "MPSK map"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "PM\npassband"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "MPSK map"
	  SrcPort		  1
	  DstBlock		  "PM\npassband"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "MSK demod"
      Ports		      [1, 1]
      Position		      [155, 408, 235, 452]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband MSK demodulation"
      MaskDescription	      "Demodulate an MSK modulated signal.       "
      MaskHelp		      "This block demodulates an MSK modulated signal."
" It uses a matched filter to process the input signal and detect the in-phase"
" and quadrature components of the signal. The filtered output is fed to an OQ"
"PSK Demap block resulting in a binary signal. Match the parameters to the one"
"s used in the corresponding MSK Mod block. The offset value in Symbol interva"
"l can be different."
      MaskPromptString	      "Symbol interval (sec):|Carrier frequency (Hz):|"
"Initial phase (rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on"
      MaskCallbackString      "|||"
      MaskEnableString	      "on,on,on,on"
      MaskVisibilityString    "on,on,on,on"
      MaskToolTipString	      "on,on,on,on"
      MaskVarAliasString      ",,,"
      MaskVariables	      "td=@1;Fc=@2;Ph=@3;ts=@4;"
      MaskInitialization      "T(1)=td(1);T2=2*T(1);if length(td)>1,T(2)=td(2)"
"; else, T(2)=0;end\n"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10 20] [20:"
".8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) 0 0 sin(["
"20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndisp('\\nPassband\\nMSK'"
")"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "0.1|100|0 |0.001"
      System {
	Name			"MSK demod"
	Location		[360, 100, 1213, 303]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [340, 85, 360, 105]
	  ShowName		  off
	}
	Block {
	  BlockType		  Clock
	  Name			  "Clock"
	  Position		  [20, 85, 40, 105]
	  ShowName		  off
	  Decimation		  "10"
	}
	Block {
	  BlockType		  Fcn
	  Name			  "Fcn"
	  Position		  [200, 40, 295, 70]
	  ShowName		  off
	  Expr			  "cos(u[1]+Ph)/2"
	}
	Block {
	  BlockType		  Fcn
	  Name			  "Fcn1"
	  Position		  [200, 120, 295, 150]
	  ShowName		  off
	  Expr			  "cos(u[1]+Ph)/2"
	}
	Block {
	  BlockType		  Gain
	  Name			  "Gain"
	  Position		  [80, 36, 185, 74]
	  ShowName		  off
	  Gain			  "pi*(Fc*2+1/2/T(1))"
	}
	Block {
	  BlockType		  Gain
	  Name			  "Gain1"
	  Position		  [80, 115, 185, 155]
	  ShowName		  off
	  Gain			  "pi*(Fc*2-1/2/T(1))"
	}
	Block {
	  BlockType		  Reference
	  Name			  "OQPSK demap"
	  Ports			  [2, 1]
	  Position		  [665, 78, 745, 122]
	  SourceBlock		  "commdigpbnd/OQPSK demod/OQPSK demap"
	  SourceType		  "OQPSK demap"
	  td			  "td"
	}
	Block {
	  BlockType		  Product
	  Name			  "Product"
	  Ports			  [2, 1]
	  Position		  [395, 57, 425, 88]
	  ShowName		  off
	}
	Block {
	  BlockType		  Product
	  Name			  "Product1"
	  Ports			  [2, 1]
	  Position		  [395, 107, 425, 138]
	  ShowName		  off
	}
	Block {
	  BlockType		  Reference
	  Name			  "Scheduled\nreset-int1"
	  Ports			  [1, 1]
	  Position		  [450, 53, 530, 97]
	  ShowName		  off
	  SourceBlock		  "commutil/Scheduled\nreset-int"
	  SourceType		  "Scheduled reset integration"
	  td			  "[2*T(1), T(1)+T(2)]"
	  ts			  "ts"
	  limit			  "Inf"
	}
	Block {
	  BlockType		  Reference
	  Name			  "Scheduled\nreset-int2"
	  Ports			  [1, 1]
	  Position		  [450, 103, 530, 147]
	  ShowName		  off
	  SourceBlock		  "commutil/Scheduled\nreset-int"
	  SourceType		  "Scheduled reset integration"
	  td			  "[2*T(1), T(2)]"
	  ts			  "ts"
	  limit			  "Inf"
	}
	Block {
	  BlockType		  Signum
	  Name			  "Sign"
	  Position		  [600, 59, 635, 91]
	}
	Block {
	  BlockType		  Signum
	  Name			  "Sign1"
	  Position		  [600, 109, 635, 141]
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum"
	  Ports			  [2, 1]
	  Position		  [340, 49, 370, 76]
	  ShowName		  off
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum1"
	  Ports			  [2, 1]
	  Position		  [340, 114, 370, 141]
	  ShowName		  off
	  Inputs		  "-+"
	}
	Block {
	  BlockType		  ZeroOrderHold
	  Name			  "Zero-Order\nHold"
	  Position		  [550, 110, 580, 140]
	  ShowName		  off
	  SampleTime		  "[2*T(1), T(2)]"
	}
	Block {
	  BlockType		  ZeroOrderHold
	  Name			  "Zero-Order\nHold1"
	  Position		  [550, 60, 580, 90]
	  ShowName		  off
	  SampleTime		  "[2*T(1), T(1)+T(2)]"
	}
	Block {
	  BlockType		  ZeroOrderHold
	  Name			  "Zero-Order\nHold2"
	  Position		  [765, 82, 800, 118]
	  SampleTime		  "T"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [820, 90, 840, 110]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "Sign1"
	  SrcPort		  1
	  Points		  [10, 0]
	  DstBlock		  "OQPSK demap"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Sign"
	  SrcPort		  1
	  Points		  [10, 0]
	  DstBlock		  "OQPSK demap"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Zero-Order\nHold"
	  SrcPort		  1
	  DstBlock		  "Sign1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Zero-Order\nHold1"
	  SrcPort		  1
	  DstBlock		  "Sign"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Scheduled\nreset-int2"
	  SrcPort		  1
	  DstBlock		  "Zero-Order\nHold"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Scheduled\nreset-int1"
	  SrcPort		  1
	  DstBlock		  "Zero-Order\nHold1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Product1"
	  SrcPort		  1
	  DstBlock		  "Scheduled\nreset-int2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Product"
	  SrcPort		  1
	  DstBlock		  "Scheduled\nreset-int1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  Points		  [15, 0]
	  Branch {
	    DstBlock		    "Product1"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Product"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "Fcn"
	  SrcPort		  1
	  Points		  [-5, 0]
	  Branch {
	    DstBlock		    "Sum1"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Sum"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Gain"
	  SrcPort		  1
	  DstBlock		  "Fcn"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Fcn1"
	  SrcPort		  1
	  Points		  [-5, 0]
	  Branch {
	    DstBlock		    "Sum1"
	    DstPort		    2
	  }
	  Branch {
	    DstBlock		    "Sum"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "Gain1"
	  SrcPort		  1
	  DstBlock		  "Fcn1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Sum"
	  SrcPort		  1
	  DstBlock		  "Product"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Sum1"
	  SrcPort		  1
	  DstBlock		  "Product1"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Clock"
	  SrcPort		  1
	  Points		  [15, 0]
	  Branch {
	    Points		    [0, 40]
	    DstBlock		    "Gain1"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -40]
	    DstBlock		    "Gain"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "OQPSK demap"
	  SrcPort		  1
	  DstBlock		  "Zero-Order\nHold2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Zero-Order\nHold2"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "MSK mod"
      Ports		      [1, 1]
      Position		      [20, 408, 100, 452]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband MSK modulation"
      MaskDescription	      "Modulate the input signal using minimum phase s"
"hift keying method."
      MaskHelp		      "This block modulates a digital signal with a gi"
"ven carrier frequency using the MSK method. It uses the OQPSK Map block to ma"
"p the binary input signal to the in-phase and quadrature components. When the"
" symbol interval is a two-element vector, the second element is the offset (d"
"efault is 0). The output is a modulated analog signal with a maximum amplitud"
"e equal to 1."
      MaskPromptString	      "Symbol interval (sec):|Carrier frequency (Hz):|"
"Initial phase (rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on"
      MaskCallbackString      "|||"
      MaskEnableString	      "on,on,on,on"
      MaskVisibilityString    "on,on,on,on"
      MaskToolTipString	      "on,on,on,on"
      MaskVarAliasString      ",,,"
      MaskVariables	      "td=@1;Fc=@2;Ph=@3;ts=@4;"
      MaskDisplay	      "plot(0,0,100,100,[5+15*[0 1 1 2 2 3] 50 50 50 5"
"0+1.5*[[0:.8:10] [10:1.6:20] [20:.8:30]]],[85+8*[1 1 -1 -1 1 1] 85 99 75 85+1"
"0*[sin([0:.8:10]*pi*2/5) sin([10:1.6:20]*pi/5) sin([20:.8:30]*pi*2/5)]]);\ndi"
"sp('\\nPassband\\nMSK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "0.1|100|0|0.001"
      System {
	Name			"MSK mod"
	Location		[360, 100, 1014, 262]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [15, 65, 35, 85]
	  ShowName		  off
	}
	Block {
	  BlockType		  Clock
	  Name			  "Clock"
	  Position		  [145, 65, 165, 85]
	  ShowName		  off
	  Decimation		  "10"
	}
	Block {
	  BlockType		  Fcn
	  Name			  "Fcn"
	  Position		  [325, 35, 420, 65]
	  ShowName		  off
	  Expr			  "cos(u[1]+Ph)/2"
	}
	Block {
	  BlockType		  Fcn
	  Name			  "Fcn1"
	  Position		  [325, 85, 420, 115]
	  ShowName		  off
	  Expr			  "cos(u[1]+Ph)/2"
	}
	Block {
	  BlockType		  Gain
	  Name			  "Gain"
	  Position		  [205, 31, 310, 69]
	  ShowName		  off
	  Gain			  "pi*(Fc*2+1/2/td(1))"
	}
	Block {
	  BlockType		  Gain
	  Name			  "Gain1"
	  Position		  [205, 80, 310, 120]
	  ShowName		  off
	  Gain			  "pi*(Fc*2-1/2/td(1))"
	}
	Block {
	  BlockType		  Reference
	  Name			  "OQPSK map"
	  Ports			  [1, 2]
	  Position		  [50, 53, 130, 97]
	  SourceBlock		  "commdigpbnd/OQPSK mod/OQPSK map"
	  SourceType		  "OQPSK map"
	  T			  "td"
	}
	Block {
	  BlockType		  Product
	  Name			  "Product"
	  Ports			  [2, 1]
	  Position		  [520, 37, 550, 68]
	  ShowName		  off
	}
	Block {
	  BlockType		  Product
	  Name			  "Product1"
	  Ports			  [2, 1]
	  Position		  [520, 87, 550, 118]
	  ShowName		  off
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum"
	  Ports			  [2, 1]
	  Position		  [465, 44, 495, 71]
	  ShowName		  off
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum1"
	  Ports			  [2, 1]
	  Position		  [465, 79, 495, 106]
	  ShowName		  off
	  Inputs		  "-+"
	}
	Block {
	  BlockType		  Sum
	  Name			  "Sum2"
	  Ports			  [2, 1]
	  Position		  [575, 49, 605, 76]
	  ShowName		  off
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [620, 55, 640, 75]
	  ShowName		  off
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "OQPSK map"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Gain"
	  SrcPort		  1
	  DstBlock		  "Fcn"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Clock"
	  SrcPort		  1
	  Points		  [15, 0]
	  Branch {
	    Points		    [0, 25]
	    DstBlock		    "Gain1"
	    DstPort		    1
	  }
	  Branch {
	    Points		    [0, -25]
	    DstBlock		    "Gain"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Fcn"
	  SrcPort		  1
	  Points		  [-5, 0]
	  Branch {
	    DstBlock		    "Sum1"
	    DstPort		    1
	  }
	  Branch {
	    DstBlock		    "Sum"
	    DstPort		    1
	  }
	}
	Line {
	  SrcBlock		  "Gain1"
	  SrcPort		  1
	  DstBlock		  "Fcn1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Fcn1"
	  SrcPort		  1
	  Points		  [-5, 0]
	  Branch {
	    DstBlock		    "Sum1"
	    DstPort		    2
	  }
	  Branch {
	    Points		    [30, -36]
	    DstBlock		    "Sum"
	    DstPort		    2
	  }
	}
	Line {
	  SrcBlock		  "Sum1"
	  SrcPort		  1
	  DstBlock		  "Product1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Sum"
	  SrcPort		  1
	  DstBlock		  "Product"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "Product"
	  SrcPort		  1
	  DstBlock		  "Sum2"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Product1"
	  SrcPort		  1
	  Points		  [5, 0]
	  DstBlock		  "Sum2"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "OQPSK map"
	  SrcPort		  2
	  Points		  [0, 50; 370, 0]
	  DstBlock		  "Product1"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "OQPSK map"
	  SrcPort		  1
	  Points		  [0, -55; 370, 0]
	  DstBlock		  "Product"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Sum2"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Noncoherent\nMFSK demod"
      Ports		      [1, 1]
      Position		      [155, 333, 235, 377]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband MPSK demodulation"
      MaskDescription	      "Demodulate a MFSK modulated signal using noncoh"
"erent method."
      MaskHelp		      "This block demodulates a MFSK modulated signal "
"using noncoherent method. The tone space is the frequency distance between tw"
"o consecutive after the modulation. The inputs are integers in the range [0, "
"M-1], where M is the M-ary number. When the symbol interval is a two-element "
"vector, the second element is the offset (default 0)."
      MaskPromptString	      "M-ary number (output digits in range [0, M-1]):"
"|Tone space (Hz):|Symbol interval (sec):|Carrier frequency (Hz):|Initial phas"
"e (rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on,on"
      MaskCallbackString      "|||||"
      MaskEnableString	      "on,on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on,on"
      MaskVarAliasString      ",,,,,"
      MaskVariables	      "M=@1;Ton=@2;td=@3;Fc=@4;Ph=@5;ts=@6;"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10:1.6:20] "
"[20:.8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) sin(["
"10:1.6:20]*pi/5) sin([20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndi"
"sp('\\nPassband\\nNonc MFSK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "8|8/.1/5|0.1|100|pi/6|0.001"
      System {
	Name			"Noncoherent\nMFSK demod"
	Location		[360, 100, 817, 283]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [25, 80, 45, 100]
	}
	Block {
	  BlockType		  Reference
	  Name			  "Min/max index"
	  Ports			  [1, 1]
	  Position		  [230, 68, 310, 112]
	  ShowName		  off
	  SourceBlock		  "commdigbbnd/Coh MFSK\ndemod baseband/Min//m"
"ax index"
	  SourceType		  "Maximum/minimum index."
	  td			  "td"
	  mima			  "'max'"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Non-coh MFSK dm\ncorr passband"
	  Ports			  [1, 1]
	  Position		  [105, 68, 185, 112]
	  TreatAsAtomicUnit	  off
	  MaskType		  "Passband non-coherent MFSK correlation"
	  MaskDescription	  "Compute MFSK correlation. Take MFSK modulat"
"ed signal. Output a vector of correlation result."
	  MaskHelp		  "This block calculates the noncoherent corre"
"lation value of the input signal with a vector of sinusoidal signals. These s"
"inusoidal signals have their frequency the same as that of FM modulated signa"
"l of possible resulting digits. The output is an M length vector. M is the M-"
"ary number. The MFSK demodulation result is the index of the largest output, "
"using the Min/max demap block."
	  MaskPromptString	  "M-ary number (input in range [0, M-1]):|Ton"
"e space (Hz):|Symbol interval and offset (sec):|Carrier frequency (Hz):|Initi"
"al phase (rad):|Sample time (sec):"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on"
	  MaskCallbackString	  "|||||"
	  MaskEnableString	  "on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,"
	  MaskVariables		  "N=@1;Ton=@2;td=@3;Ph=@5;ts=@6;"
	  MaskInitialization	  "pi2=2*pi;Fc=@4*pi2;sft=[0:N-1]*Ton*pi2;"
	  MaskDisplay		  "disp('Noncoh corr\\nMFSK dm')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "M|Ton|td|Fc|Ph|ts"
	  System {
	    Name		    "Non-coh MFSK dm\ncorr passband"
	    Location		    [410, 150, 1195, 394]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "in_1"
	      Position		      [410, 35, 430, 55]
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "Array sin"
	      Ports		      [1, 1]
	      Position		      [390, 80, 440, 100]
	      FunctionName	      "arysin"
	      Parameters	      "'cos'"
	    }
	    Block {
	      BlockType		      Clock
	      Name		      "Clock"
	      Position		      [15, 145, 35, 165]
	      Decimation	      "10"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [640, 65, 680, 100]
	      Outputs		      "[N N]"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [65, 145, 85, 165]
	      Gain		      "Fc"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Initial phase"
	      Position		      [60, 98, 80, 122]
	      Value		      "Ph"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Initial phase1"
	      Position		      [255, 143, 275, 167]
	      Value		      "Ph"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [345, 68, 375, 112]
	      Inputs		      "[N N]"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [460, 66, 485, 99]
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product1"
	      Ports		      [2, 1]
	      Position		      [595, 66, 620, 99]
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Scheduled\nreset-int2"
	      Ports		      [1, 1]
	      Position		      [115, 21, 175, 69]
	      ShowName		      off
	      SourceBlock	      "commutil/Scheduled\nreset-int"
	      SourceType	      "Scheduled reset integration"
	      td		      "td"
	      ts		      "ts"
	      limit		      "Inf"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Scheduled\nreset-int3"
	      Ports		      [1, 1]
	      Position		      [500, 61, 560, 109]
	      ShowName		      off
	      SourceBlock	      "commutil/Scheduled\nreset-int"
	      SourceType	      "Scheduled reset integration"
	      td		      "td"
	      ts		      "ts"
	      limit		      "Inf"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Shift key"
	      Position		      [40, 33, 60, 57]
	      Value		      "sft"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [3, 1]
	      Position		      [245, 60, 270, 100]
	      Inputs		      "+++"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [185, 145, 210, 180]
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [305, 103, 325, 132]
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum4"
	      Ports		      [2, 1]
	      Position		      [705, 68, 725, 97]
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold"
	      Position		      [115, 169, 150, 201]
	      SampleTime	      "td"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [745, 75, 765, 95]
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Sum4"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "in_1"
	      SrcPort		      1
	      Points		      [0, 30]
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "Sum4"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "Sum4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product1"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Scheduled\nreset-int3"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		Points			[10, 0; 0, 5]
		DstBlock		"Product1"
		DstPort			2
	      }
	      Branch {
		Points			[10, 0; 0, -10]
		DstBlock		"Product1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Scheduled\nreset-int3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Array sin"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Array sin"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Initial phase1"
	      SrcPort		      1
	      Points		      [10, 0]
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"Mux"
		DstPort			1
	      }
	      Branch {
		Points			[15, 0]
		DstBlock		"Sum3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold"
	      SrcPort		      1
	      Points		      [5, 0; 0, -15]
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		DstBlock		"Sum2"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Zero-Order\nHold"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Sum1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Clock"
	      SrcPort		      1
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Initial phase"
	      SrcPort		      1
	      Points		      [125, 0; 0, -30]
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Scheduled\nreset-int2"
	      SrcPort		      1
	      Points		      [25, 0; 0, 20]
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Shift key"
	      SrcPort		      1
	      DstBlock		      "Scheduled\nreset-int2"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [375, 80, 395, 100]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "Min/max index"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "Non-coh MFSK dm\ncorr passband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "Non-coh MFSK dm\ncorr passband"
	  SrcPort		  1
	  DstBlock		  "Min/max index"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "OQPSK demod"
      Ports		      [1, 1]
      Position		      [420, 168, 500, 212]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband OQPSK demodulation"
      MaskDescription	      "Demodulate an OQPSK modulated signal."
      MaskHelp		      "This block demodulates an OQPSK modulated signa"
"l. The inputs are the in-phase and quadrature components of the QAM demodulat"
"ed (QADM) signal. The output is a scalar binary signal with sample time T."
      MaskPromptString	      "Symbol interval (sec):|Carrier frequency (Hz):|"
"Initial phase (rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on"
      MaskCallbackString      "|||"
      MaskEnableString	      "on,on,on,on"
      MaskVisibilityString    "on,on,on,on"
      MaskToolTipString	      "on,on,on,on"
      MaskVarAliasString      ",,,"
      MaskVariables	      "td=@1;Fc=@2;Ph=@3;ts=@4;"
      MaskInitialization      "[num,den]=butter(5,Fc*2*ts);NIR=4;AIR=1/sqrt(2)"
";PIR=pi/4;\n"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10 20] [20:"
".8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) 0 0 sin(["
"20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndisp('\\nPassband\\nOQPS"
"K')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "0.1|100|0|0.001"
      System {
	Name			"OQPSK demod"
	Location		[360, 100, 705, 201]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [30, 30, 50, 50]
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "OQPSK demap"
	  Ports			  [2, 1]
	  Position		  [190, 18, 270, 62]
	  TreatAsAtomicUnit	  off
	  MaskType		  "OQPSK demap"
	  MaskDescription	  "Reverse the OQPSK map. Input in-phase and q"
"uadrature components from the two inputs and output the demapped signal."
	  MaskHelp		  "This block demaps an OQPSK mapped signal. Y"
"ou can place this block after a QAM demodulation (QADM) block. The two inputs"
" are the in-phase and quadrature elements of the QAM demodulated  (QADM)signa"
"l. The output is a binary signal with sample time T."
	  MaskPromptString	  "Symbol interval and offset (sec):"
	  MaskStyleString	  "edit"
	  MaskTunableValueString  "on"
	  MaskEnableString	  "on"
	  MaskVisibilityString	  "on"
	  MaskToolTipString	  "on"
	  MaskVariables		  "td=@1;"
	  MaskInitialization	  "N=4;A=1/sqrt(2);P=pi/4;y1=apkconst(N,A,P);y"
"2=imag(y1);y1=real(y1);T=td(1);T2=2*T;if length(td)>1,Offset=td(2); else, Off"
"set=0;end"
	  MaskDisplay		  "disp('OQPSK\\ndemap')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "td"
	  System {
	    Name		    "OQPSK demap"
	    Location		    [410, 150, 840, 352]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "real"
	      Position		      [15, 105, 35, 125]
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "imag"
	      Position		      [15, 20, 35, 40]
	      Port		      "2"
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "Minimum1"
	      Ports		      [1, 1]
	      Position		      [230, 30, 290, 50]
	      ShowName		      off
	      FunctionName	      "arymimai"
	      Parameters	      "'min'"
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "Minimum2"
	      Ports		      [1, 1]
	      Position		      [230, 115, 290, 135]
	      ShowName		      off
	      FunctionName	      "arymimai"
	      Parameters	      "'min'"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [185, 30, 210, 50]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product1"
	      Ports		      [2, 1]
	      Position		      [185, 115, 210, 135]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Pulses divide\nsample time1"
	      Ports		      [0, 1]
	      Position		      [205, 63, 285, 107]
	      ShowName		      off
	      SourceBlock	      "commsource/Pulses divide\nsample time"
	      SourceType	      "Pulse generator"
	      samp_time		      "T2"
	      out_divid		      "1"
	      offset		      "Offset"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [135, 23, 155, 52]
	      ForegroundColor	      "red"
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum6"
	      Ports		      [2, 1]
	      Position		      [135, 108, 155, 137]
	      ForegroundColor	      "blue"
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [315, 70, 345, 100]
	      ShowName		      off
	      Threshold		      ".5"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold"
	      Position		      [60, 14, 95, 46]
	      ForegroundColor	      "red"
	      ShowName		      off
	      SampleTime	      "[T2, Offset]"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold1"
	      Position		      [70, 99, 105, 131]
	      ForegroundColor	      "blue"
	      ShowName		      off
	      SampleTime	      "[T2, Offset+T]"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "imag_pt"
	      Position		      [50, 149, 85, 171]
	      BackgroundColor	      "yellow"
	      Value		      "[-1 1]"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "real_pt"
	      Position		      [50, 59, 85, 81]
	      BackgroundColor	      "green"
	      Value		      "[-1 1]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "out_1"
	      Position		      [365, 75, 385, 95]
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Pulses divide\nsample time1"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold1"
	      SrcPort		      1
	      DstBlock		      "Sum6"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "imag_pt"
	      SrcPort		      1
	      Points		      [20, 0; 0, -30]
	      DstBlock		      "Sum6"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Minimum2"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Minimum1"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "out_1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product1"
	      SrcPort		      1
	      DstBlock		      "Minimum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Minimum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum6"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		DstBlock		"Product1"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Product1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		DstBlock		"Product"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Product"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "real_pt"
	      SrcPort		      1
	      Points		      [20, 0; 0, -25]
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "real"
	      SrcPort		      1
	      DstBlock		      "Zero-Order\nHold1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "imag"
	      SrcPort		      1
	      DstBlock		      "Zero-Order\nHold"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Reference
	  Name			  "QADM\npassband"
	  Ports			  [1, 2]
	  Position		  [75, 18, 155, 62]
	  SourceBlock		  "commanapbnd/QADM\npassband"
	  SourceType		  "Passband DSB-SC QADM"
	  Fc			  "Fc"
	  num			  "num"
	  den			  "den"
	  Ph			  "Ph"
	  ts			  "ts"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [305, 30, 325, 50]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "QADM\npassband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QADM\npassband"
	  SrcPort		  1
	  DstBlock		  "OQPSK demap"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QADM\npassband"
	  SrcPort		  2
	  DstBlock		  "OQPSK demap"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "OQPSK demap"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "OQPSK mod"
      Ports		      [1, 1]
      Position		      [290, 168, 370, 212]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband OQPSK modulation"
      MaskDescription	      "Modulate the input signal using offset quadratu"
"re phase shift keying method."
      MaskHelp		      "This block modulates a digital signal with a gi"
"ven carrier frequency using the OQPSK method. The input to this block is a bi"
"nary signal. When the symbol interval is a two-element vector, the second ele"
"ment is the offset (default is 0). The block uses the OQPSK Map block before "
"feeding the signal to the QAM block. The output is a modulated analog signal "
"with maximum amplitude equal to 1."
      MaskPromptString	      "Symbol interval (sec):|Carrier frequency (Hz):|"
"Initial phase (rad):|Sample time (sec):"
      MaskStyleString	      "edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on"
      MaskCallbackString      "|||"
      MaskEnableString	      "on,on,on,on"
      MaskVisibilityString    "on,on,on,on"
      MaskToolTipString	      "on,on,on,on"
      MaskVarAliasString      ",,,"
      MaskVariables	      "td=@1;Fc=@2;Ph=@3;ts=@4;"
      MaskDisplay	      "plot(0,0,100,100,[5+15*[0 1 1 2 2 3] 50 50 50 5"
"0+1.5*[[0:.8:10] [10:1.6:20] [20:.8:30]]],[85+8*[1 1 -1 -1 1 1] 85 99 75 85+1"
"0*[sin([0:.8:10]*pi*2/5) sin([10:1.6:20]*pi/5) sin([20:.8:30]*pi*2/5)]]);\ndi"
"sp('\\nPassband\\nOQPSK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "0.1|100|0|0.001"
      System {
	Name			"OQPSK mod"
	Location		[360, 100, 654, 207]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [15, 40, 35, 60]
	  ShowName		  off
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "OQPSK map"
	  Ports			  [1, 2]
	  Position		  [50, 28, 130, 72]
	  TreatAsAtomicUnit	  off
	  MaskType		  "OQPSK map"
	  MaskDescription	  "The input binary signal, with sample time T"
", is mapped into the 1/-1 value in-phase component with sample time 2T and of"
"fset 0, and into the quadrature component with sample time 2T and offset T."
	  MaskHelp		  "This block maps the scalar binary input sig"
"nal to the offset QPSK encoded signal. The value of the output of this block "
"is either 1 or -1. The first output is the in-phase component. The second out"
"put of this block is the quadrature component. Note the difference between QP"
"SK and OQPSK. This block does not introduce any delay."
	  MaskPromptString	  "Symbol interval (sec):"
	  MaskStyleString	  "edit"
	  MaskTunableValueString  "on"
	  MaskEnableString	  "on"
	  MaskVisibilityString	  "on"
	  MaskToolTipString	  "on"
	  MaskVariables		  "T=@1;"
	  MaskInitialization	  "if length(T)<2, T=[T, 0]; end;"
	  MaskDisplay		  "disp('OQPSK\\nmap')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "td"
	  System {
	    Name		    "OQPSK map"
	    Location		    [410, 150, 740, 319]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "In1"
	      Position		      [25, 63, 55, 77]
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "Look-Up\nTable"
	      Position		      [80, 55, 110, 85]
	      InputValues	      "[0 .5 .5 1]"
	      OutputValues	      "[-1 -1 1 1]"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold"
	      Position		      [165, 95, 195, 125]
	      SampleTime	      "[2*T(1), T(2)]"
	    }
	    Block {
	      BlockType		      ZeroOrderHold
	      Name		      "Zero-Order\nHold1"
	      Position		      [165, 15, 195, 45]
	      SampleTime	      "[2*T(1), T(1)+T(2)]"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [240, 23, 270, 37]
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out2"
	      Position		      [235, 103, 265, 117]
	      Port		      "2"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Look-Up\nTable"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Points			[0, -40]
		DstBlock		"Zero-Order\nHold1"
		DstPort			1
	      }
	      Branch {
		Points			[0, 40]
		DstBlock		"Zero-Order\nHold"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "In1"
	      SrcPort		      1
	      DstBlock		      "Look-Up\nTable"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold1"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Zero-Order\nHold"
	      SrcPort		      1
	      DstBlock		      "Out2"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Reference
	  Name			  "QAM\npassband"
	  Ports			  [2, 1]
	  Position		  [160, 28, 240, 72]
	  SourceBlock		  "commanapbnd/QAM\npassband"
	  SourceType		  "Passband DSB-SC QAM"
	  Fc			  "Fc"
	  Ph			  "Ph"
	  ts			  "ts"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [265, 40, 285, 60]
	  ShowName		  off
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "OQPSK map"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QAM\npassband"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "OQPSK map"
	  SrcPort		  2
	  DstBlock		  "QAM\npassband"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "OQPSK map"
	  SrcPort		  1
	  DstBlock		  "QAM\npassband"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Square-map\nQASK demod"
      Ports		      [1, 1]
      Position		      [155, 88, 235, 132]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband S-QASK demodulation"
      MaskDescription	      "Demodulate a QASK modulated signal using square"
" constellation.       "
      MaskHelp		      "This block demodulates a MQASK modulated signal"
". The output signals are digits in the range [0, M-1]. When the symbol interv"
"al is a two-element vector, the second element is the offset (default 0). A d"
"efault lowpass filter is used in the demodulation, which is [num, den]=butter"
"(5, Fc*2*ts). Ungroup this block to specify the numerator and denominator of "
"the lowpass filter."
      MaskPromptString	      "M-ary number (output integer in range [0 M-1]):"
"|Symbol interval (sec):|Carrier Frequency (Hz):|Initial phase (rad):|Sample t"
"ime (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on"
      MaskCallbackString      "||||"
      MaskEnableString	      "on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on"
      MaskVarAliasString      ",,,,"
      MaskVariables	      "M=@1;td=@2;Fc=@3;Ph=@4;ts=@5;"
      MaskInitialization      "[num,den]=butter(5,Fc*2*ts);\n"
      MaskDisplay	      "plot(0,0,100,100,[5+1.5*[[0:.8:10] [10 20] [20:"
".8:30]] 50 50 50 50+15*[0 1 1 2 2 3]],[85+10*[sin([0:.8:10]*pi*2/5) 0 0 sin(["
"20:.8:30]*pi*2/5)] 85 99 75 85+8*[1 1 -1 -1 1 1]]);\ndisp('\\nPassband\\nS-QA"
"SK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "8|0.1|100|0|0.001"
      System {
	Name			"Square-map\nQASK demod"
	Location		[360, 100, 743, 209]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [40, 40, 60, 60]
	}
	Block {
	  BlockType		  Reference
	  Name			  "QADM\npassband"
	  Ports			  [1, 2]
	  Position		  [90, 28, 170, 72]
	  ShowName		  off
	  SourceBlock		  "commanapbnd/QADM\npassband"
	  SourceType		  "Passband DSB-SC QADM"
	  Fc			  "Fc"
	  num			  "num"
	  den			  "den"
	  Ph			  "Ph"
	  ts			  "ts"
	}
	Block {
	  BlockType		  Reference
	  Name			  "QASK\nsquare-demap"
	  Ports			  [2, 1]
	  Position		  [205, 28, 285, 72]
	  ShowName		  off
	  SourceBlock		  "commdigbbnd/S-map QASK\ndemod baseband/QASK"
"\nsquare-demap"
	  SourceType		  "QASK S-demap"
	  N			  "M"
	  td			  "td"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [320, 40, 340, 60]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "QADM\npassband"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QASK\nsquare-demap"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QADM\npassband"
	  SrcPort		  1
	  DstBlock		  "QASK\nsquare-demap"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QADM\npassband"
	  SrcPort		  2
	  DstBlock		  "QASK\nsquare-demap"
	  DstPort		  2
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Square-map\nQASK mod"
      Ports		      [1, 1]
      Position		      [25, 88, 105, 132]
      TreatAsAtomicUnit	      off
      MaskType		      "Passband S-QASK modulation"
      MaskDescription	      "Modulate the input signal using quadrature ampl"
"itude shift keying modulation method with square constellation."
      MaskHelp		      "This block modulates a digital signal using QAS"
"K method with square constellation. The inputs are integers in the range [0, "
"M-1], where M is the M-ary number, which is M=2^K. K is an integer. When the "
"symbol interval is a two element vector, the second element is the offset (de"
"fault 0). "
      MaskPromptString	      "M-ary number (input digits in range [0, M-1]):|"
"Symbol interval (sec):|Carrier frequency (Hz):|Initial phase (rad):|Sample ti"
"me (sec):"
      MaskStyleString	      "edit,edit,edit,edit,edit"
      MaskTunableValueString  "on,on,on,on,on"
      MaskCallbackString      "||||"
      MaskEnableString	      "on,on,on,on,on"
      MaskVisibilityString    "on,on,on,on,on"
      MaskToolTipString	      "on,on,on,on,on"
      MaskVarAliasString      ",,,,"
      MaskVariables	      "M=@1;td=@2;Fc=@3;Ph=@4;ts=@5;"
      MaskDisplay	      "plot(0,0,100,100,[5+15*[0 1 1 2 2 3] 50 50 50 5"
"0+1.5*[[0:.8:10] [10 20] [20:.8:30]]],[85+8*[1 1 -1 -1 1 1] 85 99 75 85+10*[s"
"in([0:.8:10]*pi*2/5) 0 0 sin([20:.8:30]*pi*2/5)]]);\ndisp('\\nPassband\\nS-QA"
"SK')"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      MaskValueString	      "8|0.1|100|0|0.001"
      System {
	Name			"Square-map\nQASK mod"
	Location		[360, 100, 684, 257]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "in_1"
	  Position		  [15, 65, 35, 85]
	}
	Block {
	  BlockType		  Reference
	  Name			  "QAM\npassband"
	  Ports			  [2, 1]
	  Position		  [175, 53, 255, 97]
	  SourceBlock		  "commanapbnd/QAM\npassband"
	  SourceType		  "Passband DSB-SC QAM"
	  Fc			  "Fc"
	  Ph			  "Ph"
	  ts			  "ts"
	}
	Block {
	  BlockType		  Reference
	  Name			  "QASK\nsquare-map1"
	  Ports			  [1, 2]
	  Position		  [65, 53, 145, 97]
	  ShowName		  off
	  SourceBlock		  "commdigbbnd/S-map QASK\nmod baseband/QASK\n"
"square-map"
	  SourceType		  "QASK S-map"
	  N			  "M"
	  td			  "td"
	}
	Block {
	  BlockType		  Outport
	  Name			  "out_1"
	  Position		  [290, 65, 310, 85]
	  InitialOutput		  "0"
	}
	Line {
	  SrcBlock		  "in_1"
	  SrcPort		  1
	  DstBlock		  "QASK\nsquare-map1"
	  DstPort		  1
	}
	Line {
	  SrcBlock		  "QAM\npassband"
	  SrcPort		  1
	  DstBlock		  "out_1"
	  DstPort		  1
	}
	Line {
	  Labels		  [0, 0]
	  SrcBlock		  "QASK\nsquare-map1"
	  SrcPort		  2
	  DstBlock		  "QAM\npassband"
	  DstPort		  2
	}
	Line {
	  SrcBlock		  "QASK\nsquare-map1"
	  SrcPort		  1
	  DstBlock		  "QAM\npassband"
	  DstPort		  1
	}
      }
    }
    Annotation {
      Name		      "Warning:  This library is obsolete and may be r"
"emoved in the future."
      Position		      [272, 498]
      FontName		      "Arial"
      FontSize		      14
    }
  }
}
