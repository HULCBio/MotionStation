Library {
  Name			  "powerlib_modelsV2"
  Version		  6.0
  RequirementInfo	  "9"
  SavedCharacterEncoding  "US-ASCII"
  SaveDefaultBlockParams  on
  LibraryLinkDisplay	  "none"
  ShowLoopsOnError	  on
  IgnoreBidirectionalLines off
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  covSaveCumulativeToWorkspaceVar on
  CovSaveSingleToWorkspaceVar on
  CovCumulativeReport	  off
  CovReportOnPause	  on
  ScopeRefreshTime	  0.035000
  OverrideScopeRefreshTime on
  DisableAllScopes	  off
  BlockNameDataTip	  off
  BlockParametersDataTip  on
  BlockDescriptionStringDataTip	off
  ToolBar		  off
  StatusBar		  off
  BrowserShowLibraryLinks off
  BrowserLookUnderMasks	  off
  Created		  "Tue Aug  4 13:46:34 1998"
  Creator		  "patrice"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "batserve"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Fri May  7 04:12:43 2004"
  ModifiedComment	  " -- Tue Aug 22 15:28:00 2000 -- Version 1.317\n"
  ModifiedHistory	  "Transfo a hysteresis installe. Discret and continuo"
"us."
  ModelVersionFormat	  "1.%<AutoIncrement:620>"
  ConfigurationManager	  "none"
  LinearizationMsg	  "none"
  Profile		  off
  ParamWorkspaceSource	  "MATLABWorkspace"
  ExtModeBatchMode	  off
  ExtModeEnableFloating	  on
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigDurationFloating "auto"
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock off
  ProdHWDeviceType	  "32-bit Generic"
  ShowModelReferenceBlockVersion off
  ShowModelReferenceBlockIO off
  Array {
    Type		    "Handle"
    Dimension		    1
    Simulink.ConfigSet {
      $ObjectID		      1
      Version		      "1.0.4"
      Array {
	Type			"Handle"
	Dimension		7
	Simulink.SolverCC {
	  $ObjectID		  2
	  Version		  "1.0.4"
	  StartTime		  "0.0"
	  StopTime		  "10.0"
	  AbsTol		  "auto"
	  FixedStep		  "auto"
	  InitialStep		  "auto"
	  MaxNumMinSteps	  "-1"
	  MaxOrder		  5
	  ExtrapolationOrder	  4
	  NumberNewtonIterations  1
	  MaxStep		  "auto"
	  MinStep		  "auto"
	  RelTol		  "1e-3"
	  SolverMode		  "SingleTasking"
	  Solver		  "ode45"
	  ZeroCrossControl	  "UseLocalSettings"
	  PositivePriorityOrder	  off
	  AutoInsertRateTranBlk	  off
	  SampleTimeConstraint	  "Unconstrained"
	  RateTranMode		  "Deterministic"
	}
	Simulink.DataIOCC {
	  $ObjectID		  3
	  Version		  "1.0.4"
	  Decimation		  "1"
	  ExternalInput		  "[t, u]"
	  FinalStateName	  "xFinal"
	  InitialState		  "xInitial"
	  LimitDataPoints	  on
	  MaxDataPoints		  "1000"
	  LoadExternalInput	  off
	  LoadInitialState	  off
	  SaveFinalState	  off
	  SaveFormat		  "Array"
	  SaveOutput		  on
	  SaveState		  off
	  SaveTime		  on
	  StateSaveName		  "xout"
	  TimeSaveName		  "tout"
	  OutputSaveName	  "yout"
	  SignalLoggingName	  "logsOut"
	  OutputOption		  "RefineOutputTimes"
	  OutputTimes		  "[]"
	  Refine		  "1"
	}
	Simulink.OptimizationCC {
	  $ObjectID		  4
	  Array {
	    Type		    "Cell"
	    Dimension		    4
	    Cell		    "ZeroExternalMemoryAtStartup"
	    Cell		    "ZeroInternalMemoryAtStartup"
	    Cell		    "InitFltsAndDblsToZero"
	    Cell		    "OptimizeModelRefInitCode"
	    PropName		    "DisabledProps"
	  }
	  Version		  "1.0.4"
	  BlockReduction	  on
	  BooleanDataType	  off
	  ConditionallyExecuteInputs on
	  ConditionalExecOptimization "on_for_testing"
	  InlineParams		  off
	  InlineInvariantSignals  on
	  OptimizeBlockIOStorage  on
	  BufferReuse		  on
	  EnforceIntegerDowncast  on
	  ExpressionFolding	  on
	  FoldNonRolledExpr	  on
	  LocalBlockOutputs	  on
	  ParameterPooling	  on
	  RollThreshold		  5
	  SystemCodeInlineAuto	  off
	  StateBitsets		  off
	  DataBitsets		  off
	  UseTempVars		  off
	  ZeroExternalMemoryAtStartup on
	  ZeroInternalMemoryAtStartup on
	  InitFltsAndDblsToZero	  on
	  NoFixptDivByZeroProtection off
	  OptimizeModelRefInitCode off
	  LifeSpan		  "inf"
	}
	Simulink.DebuggingCC {
	  $ObjectID		  5
	  Version		  "1.0.4"
	  ConsistencyChecking	  "none"
	  ArrayBoundsChecking	  "none"
	  AlgebraicLoopMsg	  "warning"
	  ArtificialAlgebraicLoopMsg "warning"
	  CheckSSInitialOutputMsg on
	  CheckExecutionContextPreStartOutputMsg on
	  CheckExecutionContextRuntimeOutputMsg	on
	  SignalResolutionControl "TryResolveAllWithWarning"
	  BlockPriorityViolationMsg "warning"
	  MinStepSizeMsg	  "warning"
	  SolverPrmCheckMsg	  "none"
	  InheritedTsInSrcMsg	  "warning"
	  DiscreteInheritContinuousMsg "warning"
	  MultiTaskRateTransMsg	  "error"
	  SingleTaskRateTransMsg  "none"
	  TasksWithSamePriorityMsg "warning"
	  CheckMatrixSingularityMsg "none"
	  IntegerOverflowMsg	  "warning"
	  Int32ToFloatConvMsg	  "warning"
	  ParameterDowncastMsg	  "error"
	  ParameterOverflowMsg	  "error"
	  ParameterPrecisionLossMsg "warning"
	  UnderSpecifiedDataTypeMsg "none"
	  UnnecessaryDatatypeConvMsg "none"
	  VectorMatrixConversionMsg "none"
	  InvalidFcnCallConnMsg	  "error"
	  SignalLabelMismatchMsg  "none"
	  UnconnectedInputMsg	  "warning"
	  UnconnectedOutputMsg	  "warning"
	  UnconnectedLineMsg	  "warning"
	  SFcnCompatibilityMsg	  "none"
	  UniqueDataStoreMsg	  "none"
	  RootOutportRequireBusObject "warning"
	  AssertControl		  "UseLocalSettings"
	  EnableOverflowDetection off
	  ModelReferenceIOMsg	  "none"
	  ModelReferenceVersionMismatchMessage "none"
	  ModelReferenceIOMismatchMessage "none"
	  ModelReferenceCSMismatchMessage "none"
	  ModelReferenceSimTargetVerbose off
	  UnknownTsInhSupMsg	  "warning"
	  ModelReferenceDataLoggingMessage "warning"
	  ModelReferenceSymbolNameMessage "warning"
	}
	Simulink.HardwareCC {
	  $ObjectID		  6
	  Version		  "1.0.4"
	  ProdBitPerChar	  8
	  ProdBitPerShort	  16
	  ProdBitPerInt		  32
	  ProdBitPerLong	  32
	  ProdIntDivRoundTo	  "Undefined"
	  ProdEndianess		  "Unspecified"
	  ProdWordSize		  32
	  ProdShiftRightIntArith  on
	  ProdHWDeviceType	  "32-bit Generic"
	  TargetBitPerChar	  8
	  TargetBitPerShort	  16
	  TargetBitPerInt	  32
	  TargetBitPerLong	  32
	  TargetShiftRightIntArith on
	  TargetIntDivRoundTo	  "Undefined"
	  TargetEndianess	  "Unspecified"
	  TargetWordSize	  32
	  TargetTypeEmulationWarnSuppressLevel 0
	  TargetPreprocMaxBitsSint 32
	  TargetPreprocMaxBitsUint 32
	  TargetHWDeviceType	  "Specified"
	  TargetUnknown		  on
	  ProdEqTarget		  on
	}
	Simulink.ModelReferenceCC {
	  $ObjectID		  7
	  Version		  "1.0.4"
	  UpdateModelReferenceTargets "IfOutOfDate"
	  CheckModelReferenceTargetMessage "error"
	  ModelReferenceNumInstancesAllowed "Multi"
	  ModelReferencePassRootInputsByReference on
	  ModelReferenceMinAlgLoopOccurrences off
	}
	Simulink.RTWCC {
	  $BackupClass		  "Simulink.RTWCC"
	  $ObjectID		  8
	  Array {
	    Type		    "Cell"
	    Dimension		    1
	    Cell		    "IncludeHyperlinkInReport"
	    PropName		    "DisabledProps"
	  }
	  Version		  "1.0.4"
	  SystemTargetFile	  "grt.tlc"
	  GenCodeOnly		  off
	  MakeCommand		  "make_rtw"
	  TemplateMakefile	  "grt_default_tmf"
	  GenerateReport	  off
	  SaveLog		  off
	  RTWVerbose		  on
	  RetainRTWFile		  off
	  ProfileTLC		  off
	  TLCDebug		  off
	  TLCCoverage		  off
	  TLCAssert		  off
	  ProcessScriptMode	  "Default"
	  ConfigurationMode	  "Optimized"
	  ConfigAtBuild		  off
	  IncludeHyperlinkInReport off
	  LaunchReport		  off
	  Array {
	    Type		    "Handle"
	    Dimension		    2
	    Simulink.CodeAppCC {
	      $ObjectID		      9
	      Array {
		Type			"Cell"
		Dimension		8
		Cell			"IgnoreCustomStorageClasses"
		Cell			"InsertBlockDesc"
		Cell			"SFDataObjDesc"
		Cell			"SimulinkDataObjDesc"
		Cell			"DefineNamingRule"
		Cell			"SignalNamingRule"
		Cell			"ParamNamingRule"
		Cell			"InlinedPrmAccess"
		PropName		"DisabledProps"
	      }
	      Version		      "1.0.4"
	      ForceParamTrailComments off
	      GenerateComments	      on
	      IgnoreCustomStorageClasses on
	      IncHierarchyInIds	      off
	      MaxIdLength	      31
	      PreserveName	      off
	      PreserveNameWithParent  off
	      ShowEliminatedStatement off
	      IncAutoGenComments      off
	      SimulinkDataObjDesc     off
	      SFDataObjDesc	      off
	      IncDataTypeInIds	      off
	      PrefixModelToSubsysFcnNames on
	      CustomSymbolStr	      "$R$N$M"
	      MangleLength	      1
	      DefineNamingRule	      "None"
	      ParamNamingRule	      "None"
	      SignalNamingRule	      "None"
	      InsertBlockDesc	      off
	      SimulinkBlockComments   on
	      EnableCustomComments    off
	      InlinedPrmAccess	      "Literals"
	      ReqsInCode	      off
	    }
	    Simulink.GRTTargetCC {
	      $BackupClass	      "Simulink.TargetCC"
	      $ObjectID		      10
	      Array {
		Type			"Cell"
		Dimension		14
		Cell			"IncludeMdlTerminateFcn"
		Cell			"CombineOutputUpdateFcns"
		Cell			"SuppressErrorStatus"
		Cell			"ERTCustomFileBanners"
		Cell			"GenerateSampleERTMain"
		Cell			"MultiInstanceERTCode"
		Cell			"PurelyIntegerCode"
		Cell			"SupportNonFinite"
		Cell			"SupportComplex"
		Cell			"SupportContinuousTime"
		Cell			"SupportNonInlinedSFcns"
		Cell			"LifeSpan"
		Cell			"NoFixptDivByZeroProtection"
		Cell			"CustomSymbolStr"
		PropName		"DisabledProps"
	      }
	      Version		      "1.0.4"
	      TargetFcnLib	      "ansi_tfl_tmw.mat"
	      GenFloatMathFcnCalls    "ANSI_C"
	      UtilityFuncGeneration   "Auto"
	      GenerateFullHeader      on
	      GenerateSampleERTMain   off
	      IsPILTarget	      off
	      ModelReferenceCompliant on
	      IncludeMdlTerminateFcn  on
	      CombineOutputUpdateFcns off
	      SuppressErrorStatus     off
	      IncludeFileDelimiter    "Auto"
	      ERTCustomFileBanners    off
	      SupportAbsoluteTime     on
	      LogVarNameModifier      "rt_"
	      MatFileLogging	      on
	      MultiInstanceERTCode    off
	      SupportNonFinite	      on
	      SupportComplex	      on
	      PurelyIntegerCode	      off
	      SupportContinuousTime   on
	      SupportNonInlinedSFcns  on
	      ExtMode		      off
	      ExtModeStaticAlloc      off
	      ExtModeTesting	      off
	      ExtModeStaticAllocSize  1000000
	      ExtModeTransport	      0
	      ExtModeMexFile	      "ext_comm"
	      RTWCAPISignals	      off
	      RTWCAPIParams	      off
	      RTWCAPIStates	      off
	      GenerateASAP2	      off
	    }
	    PropName		    "Components"
	  }
	}
	PropName		"Components"
      }
      Name		      "Configuration"
      SimulationMode	      "normal"
      CurrentDlgPage	      "Solver"
    }
    PropName		    "ConfigurationSets"
  }
  Simulink.ConfigSet {
    $PropName		    "ActiveConfigurationSet"
    $ObjectID		    1
  }
  BlockDefaults {
    Orientation		    "right"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
  }
  BlockParameterDefaults {
    Block {
      BlockType		      Abs
      SaturateOnIntegerOverflow	on
      ZeroCross		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Clock
      DisplayTime	      off
    }
    Block {
      BlockType		      ComplexToMagnitudeAngle
      Output		      "Magnitude and angle"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      ComplexToRealImag
      Output		      "Real and imag"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Constant
      Value		      "1"
      VectorParams1D	      on
      OutDataTypeMode	      "Inherit from 'Constant value'"
      OutDataType	      "sfix(16)"
      ConRadixGroup	      "Use specified scaling"
      OutScaling	      "2^0"
      SampleTime	      "inf"
    }
    Block {
      BlockType		      DataTypeConversion
      OutDataTypeMode	      "Inherit via back propagation"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      ConvertRealWorld	      "Real World Value (RWV)"
      RndMeth		      "Zero"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Demux
      Outputs		      "4"
      DisplayOption	      "none"
      BusSelectionMode	      off
    }
    Block {
      BlockType		      DigitalClock
      SampleTime	      "1"
    }
    Block {
      BlockType		      DiscreteIntegrator
      IntegratorMethod	      "Integration: Forward Euler"
      gainval		      "1.0"
      ExternalReset	      "none"
      InitialConditionSource  "internal"
      InitialCondition	      "0"
      InitialConditionMode    "State and output"
      SampleTime	      "1"
      OutDataTypeMode	      "Inherit via internal rule"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	off
      LimitOutput	      off
      UpperSaturationLimit    "inf"
      LowerSaturationLimit    "-inf"
      ShowSaturationPort      off
      ShowStatePort	      off
      StateMustResolveToSignalObject off
      RTWStateStorageClass    "Auto"
    }
    Block {
      BlockType		      DiscreteStateSpace
      A			      "1"
      B			      "1"
      C			      "1"
      D			      "1"
      X0		      "0"
      SampleTime	      "1"
      StateMustResolveToSignalObject off
      RTWStateStorageClass    "Auto"
      Realization	      "auto"
    }
    Block {
      BlockType		      DiscreteTransferFcn
      Numerator		      "[1]"
      Denominator	      "[1 0.5]"
      SampleTime	      "1"
      StateMustResolveToSignalObject off
      RTWStateStorageClass    "Auto"
      Realization	      "auto"
    }
    Block {
      BlockType		      Display
      Format		      "short"
      Decimation	      "10"
      Floating		      off
      SampleTime	      "-1"
    }
    Block {
      BlockType		      ElementaryMath
      Operator		      "sin"
    }
    Block {
      BlockType		      EnablePort
      StatesWhenEnabling      "held"
      ShowOutputPort	      off
      ZeroCross		      on
    }
    Block {
      BlockType		      FromWorkspace
      VariableName	      "simulink_input"
      SampleTime	      "-1"
      Interpolate	      on
      OutputAfterFinalValue   "Extrapolation"
    }
    Block {
      BlockType		      Fcn
      Expr		      "sin(u[1])"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Gain
      Gain		      "1"
      Multiplication	      "Element-wise(K.*u)"
      ParameterDataTypeMode   "Same as input"
      ParameterDataType	      "sfix(16)"
      ParameterScalingMode    "Best Precision: Matrix-wise"
      ParameterScaling	      "2^0"
      OutDataTypeMode	      "Same as input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Ground
    }
    Block {
      BlockType		      InitialCondition
      Value		      "1"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Inport
      BusObject		      "BusObject"
      BusOutputAsStruct	      off
      PortDimensions	      "-1"
      SampleTime	      "-1"
      DataType		      "auto"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      SignalType	      "auto"
      SamplingMode	      "auto"
      Interpolate	      on
    }
    Block {
      BlockType		      Integrator
      ExternalReset	      "none"
      InitialConditionSource  "internal"
      InitialCondition	      "0"
      LimitOutput	      off
      UpperSaturationLimit    "inf"
      LowerSaturationLimit    "-inf"
      ShowSaturationPort      off
      ShowStatePort	      off
      AbsoluteTolerance	      "auto"
      ZeroCross		      on
    }
    Block {
      BlockType		      Logic
      Operator		      "AND"
      Inputs		      "2"
      AllPortsSameDT	      on
      OutDataTypeMode	      "Logical (see Configuration Parameters: Optimiza"
"tion)"
      LogicDataType	      "uint(8)"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Lookup
      InputValues	      "[-4:5]"
      OutputValues	      " rand(1,10)-0.5"
      LookUpMeth	      "Interpolation-Extrapolation"
      OutDataTypeMode	      "Same as input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
      LUTDesignTableMode      "Redesign Table"
      LUTDesignDataSource     "Block Dialog"
      LUTDesignFunctionName   "sqrt(x)"
      LUTDesignUseExistingBP  on
      LUTDesignRelError	      "0.01"
      LUTDesignAbsError	      "1e-6"
    }
    Block {
      BlockType		      MagnitudeAngleToComplex
      Input		      "Magnitude and angle"
      ConstantPart	      "0"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Math
      Operator		      "exp"
      OutputSignalType	      "auto"
      SampleTime	      "-1"
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
    }
    Block {
      BlockType		      Memory
      X0		      "0"
      InheritSampleTime	      off
      LinearizeMemory	      off
      StateMustResolveToSignalObject off
      RTWStateStorageClass    "Auto"
    }
    Block {
      BlockType		      MultiPortSwitch
      Inputs		      "4"
      zeroidx		      off
      InputSameDT	      on
      OutDataTypeMode	      "Inherit via internal rule"
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Mux
      Inputs		      "4"
      DisplayOption	      "none"
      BusObject		      "BusObject"
      NonVirtualBus	      off
    }
    Block {
      BlockType		      Outport
      Port		      "1"
      BusObject		      "BusObject"
      BusOutputAsStruct	      off
      PortDimensions	      "-1"
      SampleTime	      "-1"
      DataType		      "auto"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      SignalType	      "auto"
      SamplingMode	      "auto"
      OutputWhenDisabled      "held"
      InitialOutput	      "[]"
    }
    Block {
      BlockType		      Product
      Inputs		      "2"
      Multiplication	      "Element-wise(.*)"
      InputSameDT	      on
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Zero"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      RateLimiter
      RisingSlewLimit	      "1"
      FallingSlewLimit	      "-1"
      SampleTimeMode	      "continuous"
      InitialCondition	      "0"
      LinearizeAsGain	      on
    }
    Block {
      BlockType		      RealImagToComplex
      Input		      "Real and imag"
      ConstantPart	      "0"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Reference
    }
    Block {
      BlockType		      Relay
      OnSwitchValue	      "eps"
      OffSwitchValue	      "eps"
      OnOutputValue	      "1"
      OffOutputValue	      "0"
      OutputDataTypeScalingMode	"All ports same datatype"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      ConRadixGroup	      "Use specified scaling"
      ZeroCross		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      RelationalOperator
      Operator		      ">="
      InputSameDT	      on
      LogicOutDataTypeMode    "Logical (see Configuration Parameters: Optimiza"
"tion)"
      LogicDataType	      "uint(8)"
      ZeroCross		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Saturate
      UpperLimit	      "0.5"
      LowerLimit	      "-0.5"
      LinearizeAsGain	      on
      ZeroCross		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Selector
      InputType		      "Vector"
      IndexMode		      "One-based"
      ElementSrc	      "Internal"
      Elements		      "1"
      RowSrc		      "Internal"
      Rows		      "1"
      ColumnSrc		      "Internal"
      Columns		      "1"
      InputPortWidth	      "-1"
      IndexIsStartValue	      off
      OutputPortSize	      "1"
    }
    Block {
      BlockType		      "S-Function"
      FunctionName	      "system"
      PortCounts	      "[]"
      SFunctionModules	      "''"
    }
    Block {
      BlockType		      Signum
      ZeroCross		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Sin
      SineType		      "Time based"
      TimeSource	      "Use simulation time"
      Amplitude		      "1"
      Bias		      "0"
      Frequency		      "1"
      Phase		      "0"
      Samples		      "10"
      Offset		      "0"
      SampleTime	      "-1"
      VectorParams1D	      on
    }
    Block {
      BlockType		      StateSpace
      A			      "1"
      B			      "1"
      C			      "1"
      D			      "1"
      X0		      "0"
      AbsoluteTolerance	      "auto"
      Realization	      "auto"
    }
    Block {
      BlockType		      Step
      Time		      "1"
      Before		      "0"
      After		      "1"
      SampleTime	      "-1"
      VectorParams1D	      on
      ZeroCross		      on
    }
    Block {
      BlockType		      SubSystem
      ShowPortLabels	      on
      Permissions	      "ReadWrite"
      PermitHierarchicalResolution "All"
      SystemSampleTime	      "-1"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      SimViewingDevice	      off
      DataTypeOverride	      "UseLocalSettings"
      MinMaxOverflowLogging   "UseLocalSettings"
    }
    Block {
      BlockType		      Sum
      IconShape		      "rectangular"
      Inputs		      "++"
      InputSameDT	      on
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "sfix(16)"
      OutScaling	      "2^0"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Switch
      Criteria		      "u2 >= Threshold"
      Threshold		      "0"
      InputSameDT	      on
      OutDataTypeMode	      "Inherit via internal rule"
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      ZeroCross		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Terminator
    }
    Block {
      BlockType		      TransferFcn
      Numerator		      "[1]"
      Denominator	      "[1 2 1]"
      AbsoluteTolerance	      "auto"
      Realization	      "auto"
    }
    Block {
      BlockType		      TransportDelay
      DelayTime		      "1"
      InitialInput	      "0"
      BufferSize	      "1024"
      PadeOrder		      "0"
      TransDelayFeedthrough   off
    }
    Block {
      BlockType		      Trigonometry
      Operator		      "sin"
      OutputSignalType	      "auto"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      UnitDelay
      X0		      "0"
      SampleTime	      "1"
      StateMustResolveToSignalObject off
      RTWStateStorageClass    "Auto"
    }
    Block {
      BlockType		      VariableTransportDelay
      MaximumDelay	      "1"
      InitialInput	      "0"
      MaximumPoints	      "1024"
      PadeOrder		      "0"
      TransDelayFeedthrough   off
    }
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  System {
    Name		    "powerlib_modelsV2"
    Location		    [216, 449, 568, 539]
    Open		    off
    ModelBrowserVisibility  off
    ModelBrowserWidth	    200
    ScreenColor		    "white"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    ZoomFactor		    "100"
    ReportName		    "simulink-default.rpt"
    Block {
      BlockType		      SubSystem
      Name		      "Continuous"
      Ports		      []
      Position		      [16, 12, 56, 57]
      TreatAsAtomicUnit	      off
      MinAlgLoopOccurrences   off
      RTWSystemCode	      "Auto"
      MaskDisplay	      "\n"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"Continuous"
	Location		[67, 480, 762, 902]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "3_Phase_Prog_Source"
	  Ports			  [0, 1]
	  Position		  [590, 112, 635, 178]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "3-phase Programmable Source"
	  MaskDescription	  "Use this block to generate  a set of three-"
"phase sinusoidal voltages or currents a, b and c. Time variation for the ampl"
"itude, phase and frequency of the fundamental can be pre-programmed. In addit"
"ion, two harmonics can be surimposed on the fundamental."
	  MaskPromptString	  "Positive-sequence: [ Amplitude  Phase(degre"
"es)   Freq. (Hz) ]|Time variation of:|Type of variation:|Step magnitude:|Rate"
" of change (value/s):|Amplitude of the modulation:|Frequency of the modulatio"
"n(Hz):|Variation timing (s) : [ Start   End ]|1-phase only|Amplitude values:|"
"Time values:|Harmonic generation:|A:  [ Order(n)   Amplitude  Phase(degrees) "
" Seq(0, 1 or 2) ]|B:  [ Order(n)   Amplitude  Phase(degrees)  Seq(0, 1 or 2) "
"]|Harmonic timing (s) : [ Start   End ]"
	  MaskStyleString	  "edit,popup(None|Amplitude|Phase|Frequency),"
"popup(Step|Ramp|Modulation|Table of time-amplitude pairs),edit,edit,edit,edit"
",edit,checkbox,edit,edit,checkbox,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n"
	  MaskCallbackString	  "|parametres=get_param(gcb,'MaskValues');p2="
"parametres{2};p3=parametres{3};p12=parametres{12};if strcmp(p3,'Step');param4"
"='on';param5='off';param6='off';param7='off';param8='on';param9='off';param10"
"='off';param11='off';elseif strcmp(p3,'Ramp');param4='off';param5='on';param6"
"='off';param7='off';param8='on';param9='off';param10='off';param11='off';else"
"if strcmp(p3,'Modulation');param4='off';param5='off';param6='on';param7='on';"
"param8='on';param9='off';param10='off';param11='off';else;param4='off';param5"
"='off';param6='off';param7='off';param8='off';param9='on';param10='on';param1"
"1='on';end;if strcmp(p2,'None');param3='off';param4='off';param5='off';param6"
"='off';param7='off';param8='off';param9='off';param10='off';param11='off';els"
"e;param3='on';end;if strcmp(p12,'on');param13='on';param14='on';param15='on';"
"else;param13='off';param14='off';param15='off';end;visible={'on','on',param3,"
"param4,param5,param6,param7,param8,param9,param10,param11,'on',param13,param1"
"4,param15};set_param(gcb,'MaskVisibilities',visible)|parametres=get_param(gcb"
",'MaskValues');p2=parametres{2};p3=parametres{3};p12=parametres{12};if strcmp"
"(p3,'Step');param4='on';param5='off';param6='off';param7='off';param8='on';pa"
"ram9='off';param10='off';param11='off';elseif strcmp(p3,'Ramp');param4='off';"
"param5='on';param6='off';param7='off';param8='on';param9='off';param10='off';"
"param11='off';elseif strcmp(p3,'Modulation');param4='off';param5='off';param6"
"='on';param7='on';param8='on';param9='off';param10='off';param11='off';else;p"
"aram4='off';param5='off';param6='off';param7='off';param8='off';param9='on';p"
"aram10='on';param11='on';end;if strcmp(p2,'None');param3='off';param4='off';p"
"aram5='off';param6='off';param7='off';param8='off';param9='off';param10='off'"
";param11='off';else;param3='on';end;if strcmp(p12,'on');param13='on';param14="
"'on';param15='on';else;param13='off';param14='off';param15='off';end;visible="
"{'on','on',param3,param4,param5,param6,param7,param8,param9,param10,param11,'"
"on',param13,param14,param15};set_param(gcb,'MaskVisibilities',visible)|||||||"
"||parametres=get_param(gcb,'MaskValues');p2=parametres{2};p3=parametres{3};p1"
"2=parametres{12};if strcmp(p3,'Step');param4='on';param5='off';param6='off';p"
"aram7='off';param8='on';param9='off';param10='off';param11='off';elseif strcm"
"p(p3,'Ramp');param4='off';param5='on';param6='off';param7='off';param8='on';p"
"aram9='off';param10='off';param11='off';elseif strcmp(p3,'Modulation');param4"
"='off';param5='off';param6='on';param7='on';param8='on';param9='off';param10="
"'off';param11='off';else;param4='off';param5='off';param6='off';param7='off';"
"param8='off';param9='on';param10='on';param11='on';end;if strcmp(p2,'None');p"
"aram3='off';param4='off';param5='off';param6='off';param7='off';param8='off';"
"param9='off';param10='off';param11='off';else;param3='on';end;if strcmp(p12,'"
"on');param13='on';param14='on';param15='on';else;param13='off';param14='off';"
"param15='off';end;visible={'on','on',param3,param4,param5,param6,param7,param"
"8,param9,param10,param11,'on',param13,param14,param15};set_param(gcb,'MaskVis"
"ibilities',visible)|||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n"
	  MaskVisibilityString	  "on,on,on,on,off,off,off,on,off,off,off,on,o"
"ff,off,off"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n"
	  MaskVarAliasString	  ",,,,,,,,,,,,,,"
	  MaskVariables		  "Par_Vps_LLrms=@1;VariationEntity=@2;Variati"
"onType=@3;VariationStep=@4;VariationRate=@5;VariationMag=@6;VariationFreq=@7;"
"Par_Timing_Variation=@8;SinglePhase=@9;Yampli=@10;Xtime=@11;HarmonicGeneratio"
"n=@12;Par_HarmoA_pu=@13;Par_HarmoB_pu=@14;Par_Timing_Harmo=@15;"
	  MaskInitialization	  "% Conversion of pos. seq.amplitude from Ph-"
"Ph rms voltage to Ph-G peak\nPar_Vps=Par_Vps_LLrms;\nPar_Vps(1)=Par_Vps(1)*sq"
"rt(2/3);\nMag_Vps=Par_Vps(1);\nPhase_Vps=Par_Vps(2);\nFreq_Vps=Par_Vps(3);\n%"
" Conversion of harmonic amplitudes from pu to Ph-G peak volt\nPar_HarmoA=Par_"
"HarmoA_pu;\nPar_HarmoB=Par_HarmoB_pu;\nPar_HarmoA(2)=Par_HarmoA(2)*Mag_Vps;\n"
"Par_HarmoB(2)=Par_HarmoB(2)*Mag_Vps;\n% Conversion of amplitude variation fro"
"m pu to Ph-G peak volt\nif VariationEntity==2\n	VariationStep=Variatio"
"nStep*Mag_Vps;\n	VariationRate=VariationRate*Mag_Vps;\n	Variati"
"onMag=VariationMag*Mag_Vps;\n	Yampli=Yampli*Mag_Vps;\nend\n\nTon_Varia"
"tion=Par_Timing_Variation(1);\nToff_Variation=Par_Timing_Variation(2);\nn_Har"
"moA=Par_HarmoA(1);\nMag_HarmoA=Par_HarmoA(2);\nPhase_HarmoA=Par_HarmoA(3);\nS"
"eq_HarmoA=Par_HarmoA(4);\nif n_HarmoA==0\n    Phase_HarmoA=90;\n    Seq_Harmo"
"A=0;\nend\nn_HarmoB=Par_HarmoB(1);\nMag_HarmoB=Par_HarmoB(2);\nPhase_HarmoB=P"
"ar_HarmoB(3);\nSeq_HarmoB=Par_HarmoB(4);\nif n_HarmoB==0\n    Phase_HarmoB=90"
";\n    Seq_HarmoB=0;\nend\nTon_Harmo=Par_Timing_Harmo(1);\nToff_Harmo=Par_Tim"
"ing_Harmo(2);\n\nif Xtime(1)~=0,\nXtime=[0 Xtime];\nYampli=[0 Yampli];\nend\n"
"n=length(Xtime); vec_dt= [Xtime,0] - [0,Xtime] ; vec_dt=vec_dt(2:n);"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "[1.01 -20  60]|Amplitude|Step|-0.5 |10|0.3|"
"2|[0.1 1.2]|off|[1 0.8 1.2 1.0]|[0 0.1 0.15 0.2]|off|[3 0.2 -25 0]|[2 0.15 35"
" 2]|[0.05  3]"
	  MaskTabNameString	  ",,,,,,,,,,,,,,"
	  System {
	    Name		    "3_Phase_Prog_Source"
	    Location		    [5, 101, 1145, 914]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Clock
	      Name		      "Clock"
	      Position		      [500, 305, 520, 325]
	      Decimation	      "1"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [150, 275, 170, 295]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Value		      "2"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [555, 195, 575, 215]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      Position		      [150, 335, 170, 355]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Value		      "3"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant3"
	      Position		      [150, 400, 170, 420]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Value		      "4"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant4"
	      Position		      [475, 590, 495, 610]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant5"
	      Position		      [380, 410, 400, 430]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant6"
	      Position		      [420, 100, 440, 120]
	      ShowName		      off
	      Value		      "4"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion"
	      Position		      [719, 650, 741, 670]
	      Orientation	      "up"
	      BackgroundColor	      "cyan"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion1"
	      Position		      [645, 675, 665, 695]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion2"
	      Position		      [645, 735, 665, 755]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [495, 339, 530, 371]
	      ShowName		      off
	      Gain		      "2*pi"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain2"
	      Position		      [495, 384, 530, 416]
	      ShowName		      off
	      Gain		      "2*pi"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain3"
	      Position		      [520, 451, 570, 489]
	      ShowName		      off
	      Gain		      "pi/180"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain4"
	      Position		      [415, 541, 465, 579]
	      ShowName		      off
	      Gain		      "pi/180"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Harmonic A\ngeneration"
	      Ports		      [1, 1]
	      Position		      [840, 499, 930, 561]
	      ForegroundColor	      "blue"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Harmonic generation"
	      MaskPromptString	      "Freq_Vps|n_Harmo|Mag_Harmo|Phase_Harmo|"
"Seq_Harmo|Sample time:"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on"
	      MaskCallbackString      "|||||"
	      MaskEnableString	      "on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,"
	      MaskVariables	      "Freq_Vps=@1;n_Harmo=@2;Mag_Harmo=@3;Pha"
"se_Harmo=@4;Seq_Harmo=@5;Ts=@6;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Freq_Vps|n_HarmoA |Mag_HarmoA |Phase_Ha"
"rmoA|Seq_HarmoA|0"
	      MaskTabNameString	      ",,,,,"
	      System {
		Name			"Harmonic A\ngeneration"
		Location		[286, 483, 1198, 1110]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Enable"
		  Position		  [570, 93, 600, 107]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [310, 120, 330, 140]
		  Decimation		  "1"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  Position		  [240, 143, 335, 197]
		  ShowName		  off
		  Gain			  "2*pi*n_Harmo"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  Position		  [365, 198, 420, 232]
		  ShowName		  off
		  Gain			  "pi/180"
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch"
		  Ports			  [4, 1]
		  Position		  [365, 246, 400, 404]
		  ShowName		  off
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Negative-sequence"
		  Position		  [245, 374, 335, 396]
		  Value			  "[0 2*pi/3 -2*pi/3]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo"
		  Position		  [245, 204, 330, 226]
		  ShowName		  off
		  Value			  "Phase_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo1"
		  Position		  [545, 169, 630, 191]
		  ShowName		  off
		  Value			  "Mag_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo2"
		  Position		  [140, 244, 225, 266]
		  ShowName		  off
		  Value			  "Seq_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Positive-sequence"
		  Position		  [245, 334, 335, 356]
		  Value			  "[0 -2*pi/3 2*pi/3]"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [380, 110, 405, 190]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [3, 1]
		  Position		  [670, 126, 700, 234]
		  ShowName		  off
		  Inputs		  "3"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [455, 118, 495, 312]
		  ShowName		  off
		  Inputs		  "+++"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [295, 247, 315, 278]
		  ShowName		  off
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction1"
		  Ports			  [1, 1]
		  Position		  [575, 200, 605, 230]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Zero-sequence"
		  Position		  [245, 294, 330, 316]
		  Value			  "[0 0 0]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom1"
		  Position		  [140, 160, 205, 180]
		  ShowName		  off
		  Value			  "Freq_Vps"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom2"
		  Position		  [240, 260, 260, 280]
		  ShowName		  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "HarmoA"
		  Position		  [745, 173, 775, 187]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Phase_Harmo"
		  SrcPort		  1
		  DstBlock		  "Gain3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Enable"
		  SrcPort		  1
		  Points		  [50, 0]
		  DstBlock		  "Product1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "valp_nom2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Phase_Harmo2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Phase_Harmo1"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "HarmoA"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction1"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "valp_nom1"
		  SrcPort		  1
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Negative-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Positive-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Zero-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch"
		  SrcPort		  1
		  Points		  [15, 0; 0, -45]
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Trigonometric\nFunction1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Harmonic B\ngeneration"
	      Ports		      [1, 1]
	      Position		      [840, 599, 930, 661]
	      ForegroundColor	      "blue"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Harmonic generation"
	      MaskPromptString	      "Freq_Vps|n_Harmo|Mag_Harmo|Phase_Harmo|"
"Seq_Harmo|Sample time:"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on"
	      MaskCallbackString      "|||||"
	      MaskEnableString	      "on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,"
	      MaskVariables	      "Freq_Vps=@1;n_Harmo=@2;Mag_Harmo=@3;Pha"
"se_Harmo=@4;Seq_Harmo=@5;Ts=@6;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Freq_Vps|n_HarmoB|Mag_HarmoB |Phase_Har"
"moB|Seq_HarmoB|0"
	      MaskTabNameString	      ",,,,,"
	      System {
		Name			"Harmonic B\ngeneration"
		Location		[492, 411, 1404, 1038]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Enable"
		  Position		  [570, 93, 600, 107]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Clock
		  Name			  "Clock1"
		  Position		  [310, 120, 330, 140]
		  Decimation		  "1"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  Position		  [240, 143, 335, 197]
		  ShowName		  off
		  Gain			  "2*pi*n_Harmo"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  Position		  [365, 196, 425, 234]
		  ShowName		  off
		  Gain			  "pi/180"
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch"
		  Ports			  [4, 1]
		  Position		  [365, 246, 400, 404]
		  ShowName		  off
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Negative-sequence"
		  Position		  [245, 374, 335, 396]
		  Value			  "[0 2*pi/3 -2*pi/3]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo"
		  Position		  [255, 204, 340, 226]
		  ShowName		  off
		  Value			  "Phase_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo1"
		  Position		  [530, 169, 615, 191]
		  ShowName		  off
		  Value			  "Mag_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo2"
		  Position		  [140, 244, 225, 266]
		  ShowName		  off
		  Value			  "Seq_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Positive-sequence"
		  Position		  [245, 334, 335, 356]
		  Value			  "[0 -2*pi/3 2*pi/3]"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [380, 110, 405, 190]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [3, 1]
		  Position		  [670, 126, 700, 234]
		  ShowName		  off
		  Inputs		  "3"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [455, 118, 495, 312]
		  ShowName		  off
		  Inputs		  "+++"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [295, 247, 315, 278]
		  ShowName		  off
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction1"
		  Ports			  [1, 1]
		  Position		  [575, 200, 605, 230]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Zero-sequence"
		  Position		  [245, 294, 330, 316]
		  Value			  "[0 0 0]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom1"
		  Position		  [140, 160, 205, 180]
		  ShowName		  off
		  Value			  "Freq_Vps"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom2"
		  Position		  [240, 260, 260, 280]
		  ShowName		  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "HarmoB"
		  Position		  [745, 173, 775, 187]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Phase_Harmo"
		  SrcPort		  1
		  DstBlock		  "Gain3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Trigonometric\nFunction1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch"
		  SrcPort		  1
		  Points		  [15, 0; 0, -45]
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Zero-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Positive-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Negative-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "valp_nom1"
		  SrcPort		  1
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Clock1"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction1"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "HarmoB"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Phase_Harmo1"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Phase_Harmo2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "valp_nom2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Enable"
		  SrcPort		  1
		  Points		  [50, 0]
		  DstBlock		  "Product1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator"
	      Ports		      [1, 1]
	      Position		      [560, 385, 590, 415]
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "Logical\nOperator"
	      Ports		      [2, 1]
	      Position		      [685, 674, 715, 721]
	      ForegroundColor	      "blue"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "Logical\nOperator1"
	      Ports		      [2, 1]
	      Position		      [555, 89, 585, 136]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [3, 1]
	      Position		      [1000, 166, 1005, 204]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [3, 1]
	      Position		      [970, 126, 975, 164]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "P1"
	      Position		      [500, 492, 600, 518]
	      ShowName		      off
	      Value		      "[0  -2*pi/3  2*pi/3]"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [560, 295, 585, 375]
	      ShowName		      off
	      RndMeth		      "Floor"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product1"
	      Ports		      [2, 1]
	      Position		      [900, 290, 925, 370]
	      ShowName		      off
	      RndMeth		      "Floor"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      Position		      [210, 255, 240, 295]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Operator		      "=="
	      Port {
		PortNumber		1
		Name			"Amplitude"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator1"
	      Position		      [210, 315, 240, 355]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Operator		      "=="
	      Port {
		PortNumber		1
		Name			"Phase"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator2"
	      Position		      [210, 380, 240, 420]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Operator		      "=="
	      Port {
		PortNumber		1
		Name			"Frequency"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator3"
	      Position		      [475, 80, 505, 120]
	      ShowName		      off
	      Operator		      "=="
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "SinglePhase"
	      Position		      [915, 55, 985, 75]
	      ShowName		      off
	      Value		      "SinglePhase"
	    }
	    Block {
	      BlockType		      Step
	      Name		      "Step"
	      Position		      [540, 658, 565, 682]
	      ForegroundColor	      "blue"
	      ShowName		      off
	      Time		      "Ton_Harmo"
	      SampleTime	      "0"
	      Port {
		PortNumber		1
		Name			"Ton"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Step
	      Name		      "Step1"
	      Position		      [540, 688, 565, 712]
	      ForegroundColor	      "blue"
	      ShowName		      off
	      Time		      "Toff_Harmo"
	      After		      "-1"
	      SampleTime	      "0"
	      Port {
		PortNumber		1
		Name			"Toff"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [625, 300, 645, 435]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [690, 328, 710, 497]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [3, 1]
	      Position		      [625, 453, 645, 557]
	      ShowName		      off
	      Inputs		      "+++"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [695, 150, 715, 285]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum4"
	      Ports		      [2, 1]
	      Position		      [605, 655, 625, 715]
	      ForegroundColor	      "blue"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum5"
	      Ports		      [3, 1]
	      Position		      [990, 316, 1015, 384]
	      ShowName		      off
	      Inputs		      "+++"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [850, 82, 880, 148]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch2"
	      Position		      [620, 152, 650, 218]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch3"
	      Position		      [540, 547, 570, 613]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch4"
	      Position		      [435, 367, 465, 433]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch5"
	      Position		      [1045, 132, 1075, 198]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Timer"
	      Ports		      [0, 1]
	      Position		      [675, 36, 740, 74]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Timer"
	      MaskDescription	      "Generates a signal changing  at specifi"
"ed times.    \n                                                              "
"              \nValue of the signal at time zero must  be specified."
	      MaskPromptString	      "Time (s):|Amplitude:|Sample time (s)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVarAliasString      ",,"
	      MaskVariables	      "t=@1;e=@2;Ts=@3;"
	      MaskInitialization      "tt=t;sv=e;\ntv=[-1,tt(1),reshape(repmat"
"(reshape(tt(2:end),1,length(tt)-1),2,1),1,2*length(tt)-2),tt(end)+1];\n%sv=(s"
"v(:)'~=0);\nopv=[sv(1),reshape(repmat(sv(1:end-1),2,1),1,2*length(sv)-2),sv(e"
"nd),sv(end)];"
	      MaskDisplay	      "plot( tv(2:end-1), opv(2:end-1) )"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Xtime|Yampli|0"
	      MaskTabNameString	      ",,"
	      System {
		Name			"Timer"
		Location		[397, 93, 843, 306]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [50, 40, 70, 60]
		  FontName		  "Comic Sans MS"
		  Decimation		  "1"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Look-Up\nTable"
		  Position		  [110, 34, 235, 66]
		  DialogController	  "Simulink.DDGSource"
		  FontName		  "Comic Sans MS"
		  InputValues		  "tv"
		  OutputValues		  "opv"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [285, 43, 315, 57]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Look-Up\nTable"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  DstBlock		  "Look-Up\nTable"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Trigonometry
	      Name		      "Trigonometric\nFunction"
	      Ports		      [1, 1]
	      Position		      [740, 400, 770, 430]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Variation\nSubSystem"
	      Ports		      [1, 1]
	      Position		      [210, 139, 305, 201]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Variation Subsystem"
	      MaskPromptString	      "VariationStep|VariationRate|VariationFr"
"eq|VariationMag|Ton_Variation|Toff_Variation|Sample time:"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on"
	      MaskCallbackString      "||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,,"
	      MaskVariables	      "VariationStep=@1;VariationRate=@2;Varia"
"tionFreq=@3;VariationMag=@4;Ton_Variation=@5;Toff_Variation=@6;Ts=@7;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "VariationStep|VariationRate|VariationFr"
"eq|VariationMag|Ton_Variation|Toff_Variation|0"
	      MaskTabNameString	      ",,,,,,"
	      System {
		Name			"Variation\nSubSystem"
		Location		[23, 347, 1143, 871]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "VariationType"
		  Position		  [30, 93, 60, 107]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [65, 285, 85, 305]
		  ShowName		  off
		  Value			  "2"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [920, 155, 940, 175]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [220, 295, 240, 315]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [750, 110, 770, 130]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [370, 315, 390, 335]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant5"
		  Position		  [700, 240, 720, 260]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [825, 100, 845, 120]
		  BackgroundColor	  "cyan"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [860, 180, 880, 200]
		  Orientation		  "up"
		  BackgroundColor	  "cyan"
		  ShowName		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [500, 384, 535, 416]
		  ShowName		  off
		  Gain			  "2*pi"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [490, 290, 520, 320]
		  Port {
		    PortNumber		    1
		    Name		    "Ramp"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [2, 1]
		  Position		  [905, 87, 935, 118]
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [1, 1]
		  Position		  [855, 130, 885, 160]
		  Orientation		  "up"
		  ShowName		  off
		  Operator		  "NOT"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [900, 283, 920, 307]
		  Orientation		  "left"
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch1"
		  Ports			  [5, 1]
		  Position		  [770, 154, 800, 266]
		  ShowName		  off
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [700, 359, 730, 401]
		  ShowName		  off
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "Mod"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [575, 369, 605, 411]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [415, 174, 445, 216]
		  ShowName		  off
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "Step"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [115, 265, 145, 305]
		  ShowName		  off
		  Operator		  "=="
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator1"
		  Position		  [785, 90, 805, 130]
		  ShowName		  off
		  Operator		  "=="
		}
		Block {
		  BlockType		  Step
		  Name			  "Step"
		  Position		  [285, 348, 310, 372]
		  ShowName		  off
		  Time			  "Ton_Variation"
		  SampleTime		  "0"
		  Port {
		    PortNumber		    1
		    Name		    "Ton"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Step
		  Name			  "Step1"
		  Position		  [805, 278, 830, 302]
		  ShowName		  off
		  Time			  "Toff_Variation"
		  Before		  "1"
		  After			  "0"
		  SampleTime		  "0"
		  Port {
		    PortNumber		    1
		    Name		    "Toff"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [415, 272, 445, 338]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [295, 252, 325, 318]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [900, 197, 930, 263]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch3"
		  Position		  [985, 177, 1015, 243]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction1"
		  Ports			  [1, 1]
		  Position		  [640, 375, 670, 405]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom6"
		  Position		  [285, 174, 375, 196]
		  ShowName		  off
		  Value			  "VariationStep"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom7"
		  Position		  [165, 254, 255, 276]
		  ShowName		  off
		  Value			  "VariationRate"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom8"
		  Position		  [575, 314, 665, 336]
		  ShowName		  off
		  Value			  "VariationMag"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom9"
		  Position		  [380, 389, 470, 411]
		  ShowName		  off
		  Value			  "VariationFreq"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Value"
		  Position		  [1080, 203, 1110, 217]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant5"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [0, -30]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  Points		  [20, 0; 0, 105]
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
		Line {
		  Name			  "Toff"
		  Labels		  [0, 0]
		  SrcBlock		  "Step1"
		  SrcPort		  1
		  Points		  [35, 0; 0, -60]
		  Branch {
		    DstBlock		    "Switch2"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Data Type \nConversion2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch3"
		  SrcPort		  1
		  DstBlock		  "Value"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Switch3"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 65]
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "Switch3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [-10, 0]
		  DstBlock		  "Switch2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch1"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  Name			  "Ton"
		  Labels		  [0, 0]
		  SrcBlock		  "Step"
		  SrcPort		  1
		  Points		  [30, 0; 0, -55]
		  Branch {
		    Points		    [0, -100]
		    DstBlock		    "Product2"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "VariationType"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, 175]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [650, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "Multiport\nSwitch1"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Name			  "Ramp"
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Labels		    [-1, 1]
		    Points		    [0, -95]
		    DstBlock		    "Multiport\nSwitch1"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 75]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "Step"
		  Labels		  [-1, 1]
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  Points		  [305, 0]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "valp_nom6"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "valp_nom7"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  Name			  "Mod"
		  Labels		  [-1, 1]
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [5, 0; 0, -150]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Trigonometric\nFunction1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "valp_nom9"
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "valp_nom8"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction1"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational\nOperator1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom"
	      Position		      [430, 460, 495, 480]
	      ShowName		      off
	      Value		      "Phase_Vps"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom1"
	      Position		      [360, 345, 425, 365]
	      ShowName		      off
	      Value		      "Freq_Vps"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom2"
	      Position		      [600, 240, 665, 260]
	      ShowName		      off
	      Value		      "Mag_Vps"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom3"
	      Position		      [85, 234, 175, 256]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Value		      "VariationEntity"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom5"
	      Position		      [65, 159, 155, 181]
	      ShowName		      off
	      Value		      "VariationType"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom7"
	      Position		      [525, 733, 630, 757]
	      ForegroundColor	      "blue"
	      ShowName		      off
	      Value		      "HarmonicGeneration"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "abc"
	      Position		      [1050, 343, 1080, 357]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Logical\nOperator1"
	      SrcPort		      1
	      DstBlock		      "Switch1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator3"
	      SrcPort		      1
	      DstBlock		      "Logical\nOperator1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch5"
	      SrcPort		      1
	      Points		      [45, 0; 0, 90; -275, 0; 0, 55]
	      DstBlock		      "Product1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      Points		      [40, 0; 0, 20]
	      Branch {
		DstBlock		"Mux1"
		DstPort			1
	      }
	      Branch {
		Points			[0, 40]
		Branch {
		  Points		  [0, 10]
		  Branch {
		    Points		    [0, 10]
		    DstBlock		    "Mux"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		}
		Branch {
		  DstBlock		  "Mux"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Switch5"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "SinglePhase"
	      SrcPort		      1
	      Points		      [35, 0; 0, 100]
	      DstBlock		      "Switch5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      DstBlock		      "Switch5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Timer"
	      SrcPort		      1
	      Points		      [85, 0; 0, 40]
	      DstBlock		      "Switch1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      Points		      [105, 0; 0, -65]
	      Branch {
		Points			[120, 0]
		Branch {
		  Points		  [0, -10]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Branch {
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
	      }
	      Branch {
		Points			[0, -20]
		DstBlock		"Switch1"
		DstPort			3
	      }
	    }
	    Line {
	      SrcBlock		      "Constant6"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain4"
	      SrcPort		      1
	      DstBlock		      "Switch3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Harmonic B\ngeneration"
	      SrcPort		      1
	      Points		      [40, 0]
	      DstBlock		      "Sum5"
	      DstPort		      3
	    }
	    Line {
	      Name		      "Toff"
	      Labels		      [0, 0]
	      SrcBlock		      "Step1"
	      SrcPort		      1
	      DstBlock		      "Sum4"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Ton"
	      Labels		      [0, 0]
	      SrcBlock		      "Step"
	      SrcPort		      1
	      DstBlock		      "Sum4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum5"
	      SrcPort		      1
	      DstBlock		      "abc"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Harmonic A\ngeneration"
	      SrcPort		      1
	      Points		      [15, 0; 0, -180]
	      DstBlock		      "Sum5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant5"
	      SrcPort		      1
	      DstBlock		      "Switch4"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Constant3"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "valp_nom3"
	      SrcPort		      1
	      Points		      [10, 0; 0, 20]
	      Branch {
		Points			[0, 60]
		Branch {
		  DstBlock		  "Relational\nOperator1"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 65]
		  DstBlock		  "Relational\nOperator2"
		  DstPort		  1
		}
	      }
	      Branch {
		DstBlock		"Relational\nOperator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Frequency"
	      Labels		      [0, 0]
	      SrcBlock		      "Relational\nOperator2"
	      SrcPort		      1
	      DstBlock		      "Switch4"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Switch4"
	      SrcPort		      1
	      DstBlock		      "Gain2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Variation\nSubSystem"
	      SrcPort		      1
	      Points		      [0, -5; 20, 0]
	      Branch {
		Points			[0, 215]
		Branch {
		  Points		  [0, 180]
		  DstBlock		  "Gain4"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "Switch4"
		  DstPort		  1
		}
	      }
	      Branch {
		DstBlock		"Switch2"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "Phase"
	      Labels		      [0, 0]
	      SrcBlock		      "Relational\nOperator1"
	      SrcPort		      1
	      Points		      [55, 0; 0, 245]
	      DstBlock		      "Switch3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant4"
	      SrcPort		      1
	      DstBlock		      "Switch3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Switch3"
	      SrcPort		      1
	      Points		      [35, 0]
	      DstBlock		      "Sum2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "valp_nom5"
	      SrcPort		      1
	      Points		      [0, 0; 15, 0]
	      Branch {
		Points			[0, -80]
		DstBlock		"Relational\nOperator3"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Variation\nSubSystem"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "Amplitude"
	      Labels		      [0, 0]
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [285, 0; 0, -90]
	      Branch {
		Points			[0, -60]
		DstBlock		"Logical\nOperator1"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Switch2"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "valp_nom2"
	      SrcPort		      1
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      Points		      [25, 0]
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "Switch2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Switch2"
	      SrcPort		      1
	      DstBlock		      "Sum3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product1"
	      SrcPort		      1
	      DstBlock		      "Sum5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "valp_nom1"
	      SrcPort		      1
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "valp_nom"
	      SrcPort		      1
	      DstBlock		      "Gain3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain3"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Trigonometric\nFunction"
	      SrcPort		      1
	      Points		      [25, 0; 0, -65]
	      DstBlock		      "Product1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "P1"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Integrator"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain2"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Trigonometric\nFunction"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Clock"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Logical\nOperator"
	      SrcPort		      1
	      Points		      [10, 0]
	      DstBlock		      "Data Type \nConversion"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion"
	      SrcPort		      1
	      Points		      [0, -15; 60, 0]
	      Branch {
		Points			[0, -100]
		DstBlock		"Harmonic A\ngeneration"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Harmonic B\ngeneration"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Sum4"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion1"
	      SrcPort		      1
	      DstBlock		      "Logical\nOperator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "valp_nom7"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion2"
	      SrcPort		      1
	      DstBlock		      "Logical\nOperator"
	      DstPort		      2
	    }
	    Annotation {
	      Name		      "Pierre Giroux, Gilbert Sybille\nPower S"
"ystem Laboratory, IREQ\nHydro-Quebec"
	      Position		      [195, 62]
	    }
	    Annotation {
	      Name		      "Programmable 3-phase Source "
	      Position		      [204, 29]
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "3_phase_source"
	  Ports			  [0, 1]
	  Position		  [590, 216, 635, 284]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskPromptString	  "Amplitude|Phase (of phase A)|Frequency"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVarAliasString	  ",,"
	  MaskVariables		  "A=@1;P=@2;F=@3;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|0|60"
	  MaskTabNameString	  ",,"
	  System {
	    Name		    "3_phase_source"
	    Location		    [246, 395, 461, 704]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [25, 70, 55, 100]
	      BackgroundColor	      "cyan"
	      Value		      "complex(A*cos(P*pi/180),A*sin(P*pi/180)"
")"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [25, 165, 55, 195]
	      BackgroundColor	      "cyan"
	      Value		      "complex(A*cos((P-120)*pi/180),A*sin((P-"
"120)*pi/180))"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      Position		      [25, 255, 55, 285]
	      BackgroundColor	      "cyan"
	      Value		      "complex(A*cos((P+120)*pi/180),A*sin((P+"
"120)*pi/180))"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [6, 1]
	      Position		      [130, 97, 135, 188]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      Inputs		      "6"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Sin
	      Name		      "Sine Wave"
	      Ports		      [0, 1]
	      Position		      [25, 28, 55, 52]
	      BackgroundColor	      "cyan"
	      SineType		      "Time based"
	      Amplitude		      "A"
	      Frequency		      "2*pi*F"
	      Phase		      "P*pi/180"
	      SampleTime	      "0"
	    }
	    Block {
	      BlockType		      Sin
	      Name		      "Sine Wave1"
	      Ports		      [0, 1]
	      Position		      [25, 123, 55, 147]
	      BackgroundColor	      "cyan"
	      SineType		      "Time based"
	      Amplitude		      "A"
	      Frequency		      "2*pi*F"
	      Phase		      "(P-120)*pi/180"
	      SampleTime	      "0"
	    }
	    Block {
	      BlockType		      Sin
	      Name		      "Sine Wave2"
	      Ports		      [0, 1]
	      Position		      [25, 213, 55, 237]
	      BackgroundColor	      "cyan"
	      SineType		      "Time based"
	      Amplitude		      "A"
	      Frequency		      "2*pi*F"
	      Phase		      "(P+120)*pi/180"
	      SampleTime	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [160, 138, 190, 152]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [25, 0; 0, 35]
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sine Wave"
	      SrcPort		      1
	      Points		      [40, 0; 0, 65]
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sine Wave1"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      Points		      [25, 0; 0, -30]
	      DstBlock		      "Mux"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "Sine Wave2"
	      SrcPort		      1
	      Points		      [40, 0; 0, -60]
	      DstBlock		      "Mux"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      Points		      [55, 0]
	      DstBlock		      "Mux"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Dynamic_Load"
	  Ports			  [2, 2]
	  Position		  [590, 18, 635, 82]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Discrete 3-Phase Dynamic Load "
	  MaskDescription	  "This block implements a three-phase, three-"
"wire dynamic load whose active  power P and reactive power Q vary as function"
" of positive-sequence voltage. Negative- and zero-sequence currents are not s"
"imulated. The three load currents are therefore balanced, even under unbalanc"
"ed load voltage conditions.\n\n  If V>Vmin, P and Q vary as follows:\n       "
"P=Po*(V/Vo)^np*(1+Tp1s)/(1+Tp2s)\n       Q=Qo*(V/Vo)^nq*(1+Tq1s)/(1+Tq2s)  \n"
"where:   \nPo, Qo : Active and reactive powers at specified voltage Vo\n  V :"
"        Positive-sequence voltage\n  Vmin :  Minimum voltage below which load"
" impedance\n               is kept constant (np=nq=2)\nnp,nq :    Exponents ("
"usually comprised between 1 and 3)\n               controlling the nature of "
"the load. \nTp1,Tp2 : Time constants controlling the dynamics of P\nTq1,Tq2 :"
" Time constants controlling the dynamics of Q\n\nFor example, specify  np=nq="
"1 for a constant current load; np=nq=2  for a  constant impedance load.\n\nCh"
"eck 'External control of PQ'  to control power from a vectorized signal  [P Q"
"] connected to input  4. \nThe m output returns a vector of 3 signals [V(pu) "
"P(W) Q (var)]."
	  MaskPromptString	  "Nominal L-L voltage and freqency  [Vn(Vrms)"
" fn(Hz)]:|Active & reactive power at initial voltage [Po(W) Qo(var)]:|Initial"
" positive-sequence voltage Vo [Mag(pu) Phase (deg.)]:|External control of PQ|"
"Parameters [ np  nq ]:|Time constants [Tp1 Tp2 Tq1 Tq2]  (s):|Minimum voltage"
" Vmin (pu):|Reserved"
	  MaskStyleString	  "edit,edit,edit,checkbox,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "|||parametres=get_param(gcb,'MaskValues');p"
"4=parametres{4};if strcmp(p4,'on');param5='off';param6='off';param7='off';els"
"e ;param5='on';param6='on';param7='on';end;visible={'on','on','on','on',param"
"5,param6,param7,'off'};set_param(gcb,'MaskVisibilities',visible)||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,off"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,"
	  MaskVariables		  "Vfnom=@1;PQ_0=@2;V0=@3;PQext=@4;n=@5;Tpq=@6"
";Vmin=@7;Reserved=@8;"
	  MaskInitialization	  "Vnom = Vfnom(1) ; fnom=Vfnom(2);\nP0 = PQ_0"
"(1) ;  Q0 = PQ_0(2) ;\nMag_V0=V0(1); Pha_V0=V0(2);\nV0_d=Mag_V0*cos(Pha_V0*pi"
"/180);\nV0_q=Mag_V0*sin(Pha_V0*pi/180);\nnp = n(1) ; nq = n(2) ;\nTp1=Tpq(1);"
" Tp2=Tpq(2); Tq1=Tpq(3); Tq2=Tpq(4);\nVbase=Vnom/sqrt(3)*sqrt(2);\n% initial "
"value of positive-sequence current I1\nI1_init=(P0-j*Q0)/((V0_d-j*V0_q)*Vnom)"
"/sqrt(3)*sqrt(2);\nMag_ia=abs(I1_init);\nPhase_ia=angle(I1_init)*180/pi;"
	  MaskDisplay		  "\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "[ 500e3 60 ]|[5e+007 2.5e+007]|[0.98441 -1."
"41063]|off|[1  1]|[0  0  0  0]|0.7|[4 50000000 0 0 25000000]"
	  MaskTabNameString	  ",,,,,,,"
	  System {
	    Name		    "Dynamic_Load"
	    Location		    [641, 548, 1086, 792]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [85, 92, 115, 108]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "PQ"
	      Position		      [585, 257, 615, 273]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "3-phase PLL1"
	      Ports		      [1, 4]
	      Position		      [315, 66, 375, 129]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "3-phase PLL"
	      MaskDescription	      "This Phase Locked Loop (PLL) system can"
" be used  to synchronize on a set of variable frequency, three-phase sinusoid"
"al signals.\n\nInput 1: Vector containing the normalized \n             three"
"-phase signals [Va Vb Vc]\nOutput 1:  Measured frequency (Hz) = w/(2pi)\nOutp"
"ut 2:  Ramp w.t   varying between  0 and 2*pi,\nsynchronized on zero crossing"
"s of the fundamental (positive-sequence) of phase A. \nOutput 3: Vector [sin("
"wt) cos(wt)]"
	      MaskPromptString	      "Initial inputs:[ Phase(degrees)   Frequ"
"ency(Hz) ]|Regulator gains [ Kp  Ki ]"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVarAliasString      ","
	      MaskVariables	      "Par_Init=@1;ParK=@2;"
	      MaskInitialization      "Kp=ParK(1);\nKi=ParK(2);\nPhase_Init=Pa"
"r_Init(1);\nFinit=Par_Init(2);"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[Pha_V0  fnom]|[60 1400]"
	      MaskTabNameString	      ","
	      System {
		Name			"3-phase PLL1"
		Location		[179, 109, 1114, 624]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vab_bc (pu)"
		  Position		  [40, 253, 70, 267]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "2"
		  LatchInput		  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "2nd-Order\nFilter"
		  Ports			  [1, 1]
		  Position		  [685, 123, 735, 177]
		  AncestorBlock		  "powerlib_extras/Control \nBlocks/2n"
"d-Order\nFilter"
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "2nd-Order Filter"
		  MaskPromptString	  "Filter Type:|Cut-off frequency (Hz)"
":|Damping factor Zeta ( Q = 1 / (2*Zeta) ):|Initialize filter states|AC initi"
"al input: [ Mag  Phase(degrees)  Freq(Hz) ]|DC Initial input:|Plot filter res"
"ponse|Frequency range(Hz) : [Start  End  Inc.]"
		  MaskStyleString	  "popup(Lowpass|Highpass|Bandpass|Ban"
"dstop (Notch)),edit,edit,checkbox,edit,edit,checkbox,edit"
		  MaskTunableValueString  "on,on,on,on,on,on,on,on"
		  MaskCallbackString	  "|||parametres=get_param(gcb,'MaskVa"
"lues');p4=parametres{4};p7=parametres{7};if strcmp(p4,'on');param5='on';param"
"6='on';else;param5='off';param6='off';end;if strcmp(p7,'on');param8='on';else"
";param8='off';end;visible={'on','on','on','on',param5,param6,'on',param8};set"
"_param(gcb,'MaskVisibilities',visible)|||parametres=get_param(gcb,'MaskValues"
"');p4=parametres{4};p7=parametres{7};if strcmp(p4,'on');param5='on';param6='o"
"n';else;param5='off';param6='off';end;if strcmp(p7,'on');param8='on';else;par"
"am8='off';end;visible={'on','on','on','on',param5,param6,'on',param8};set_par"
"am(gcb,'MaskVisibilities',visible)|"
		  MaskEnableString	  "on,on,on,on,on,on,on,on"
		  MaskVisibilityString	  "on,on,on,on,on,on,on,off"
		  MaskToolTipString	  "on,on,on,on,on,on,on,on"
		  MaskVarAliasString	  ",,,,,,,"
		  MaskVariables		  "FilterType=@1;Fo=@2;Zeta=@3;Initial"
"ize=@4;Vac_Init=@5;Vdc_Init=@6;PlotResponse=@7;param1=@8;"
		  MaskInitialization	  "Wo=2*pi*Fo;\nstr=sprintf(' Fo=%iHz"
"\\n\\n',Fo);\nswitch FilterType\ncase 1, % Lowpass\n       X=[0 1 2 3 4];\n  "
"     Y=[-2 -2 -3 -4 -4];\n       n2=0;n1=0;n0=Wo*Wo;\n       d2=1;d1=2*Zeta*W"
"o;d0=Wo*Wo;\n case 2,   % Highpass\n       X=[0 1 2 3 4];\n       Y=[-4 -4 -3"
" -2 -2];\n       n2=1;n1=0;n0=0;\n       d2=1;d1=2*Zeta*Wo;d0=Wo*Wo;\n    cas"
"e 3,   % Bandpass\n       X=[0 1 2 3 4 5 ];\n       Y=[-3 -3 -2 -2 -3 -3];\n "
"      n2=0;n1=2*Zeta*Wo;n0=0;\n       d2=1;d1=2*Zeta*Wo;d0=Wo*Wo;\n    case 4"
",  %Bandstop (Notch)\n       X=[0 1 2 3 4 5 ];\n       Y=[-2 -2 -3 -3 -2 -2];"
"\n       n2=1;n1=0;n0=Wo*Wo;\n       d2=1;d1=2*Zeta*Wo;d0=Wo*Wo;\n    end\n%"
"\nnumc=[n2 n1 n0];\ndenc=[d2 d1 d0];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\nif "
"Initialize==1  % Compute initial conditions on states\nu1=Vac_Init(1)*exp(j*V"
"ac_Init(2)*pi/180);\nu2=Vdc_Init*exp(j*90*pi/180);\nu=u1+u2;\nu0=imag(u); % i"
"nput at  t=0;\nI=eye(size(Ac));\nsI1=I*j*(2*pi*Vac_Init(3));\nsI2=I*j*0;\nx=i"
"nv(sI1-Ac)*Bc*u1 + inv(sI2-Ac)*Bc*u2;\nx0c=imag(x);\nelse\nx0c=0;\nend\n%\nif"
" PlotResponse==1 % Plot frequency and step response\nfigure(1)\nsys=ss(Ac,Bc,"
"Cc,Dc);\nf=param1(1):param1(3):param1(2);\nw=2*pi*f;\n[mag phase]=bode(sys,w)"
";\nsubplot(2,1,1)\nplot(f,squeeze(mag))\ntitle('Magnitude')\ngrid\nsubplot(2,"
"1,2)\nplot(f,squeeze(phase))\ntitle('Phase (degrees)')\nxlabel('Hz')\ngrid\nf"
"igure(2)\nstep(sys)\nend\n"
		  MaskDisplay		  "plot(X,Y);\ndisp(str);\n"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "Lowpass|25|0.707|on|[0 0 60]|Finit|"
"off|[1 1000 0.5]"
		  MaskTabNameString	  ",,,,,,,"
		  System {
		    Name		    "2nd-Order\nFilter"
		    Location		    [528, 427, 861, 594]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In"
		    Position		    [25, 53, 55, 67]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    StateSpace
		    Name		    "State-Space"
		    Position		    [105, 43, 165, 77]
		    A			    "Ac"
		    B			    "Bc"
		    C			    "Cc"
		    D			    "Dc"
		    X0			    "x0c"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out"
		    Position		    [220, 53, 250, 67]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "State-Space"
		    SrcPort		    1
		    DstBlock		    "Out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In"
		    SrcPort		    1
		    DstBlock		    "State-Space"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [540, 298, 575, 322]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "2*pi"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Discrete\nPI Controller"
		  Ports			  [1, 1]
		  Position		  [380, 247, 425, 293]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "Discrete PI Controller"
		  MaskDescription	  "This block implements a discrete PI"
" controller."
		  MaskPromptString	  "Proportional gain (Kp):|Integral ga"
"in (Ki):|Output limits: [ Upper   Lower ]|Output initial value:"
		  MaskStyleString	  "edit,edit,edit,edit"
		  MaskTunableValueString  "on,on,on,on"
		  MaskCallbackString	  "|||"
		  MaskEnableString	  "on,on,on,on"
		  MaskVisibilityString	  "on,on,on,on"
		  MaskToolTipString	  "on,on,on,on"
		  MaskVarAliasString	  ",,,"
		  MaskVariables		  "Kp=@1;Ki=@2;Par_Limits=@3;Init=@4;"
		  MaskInitialization	  "UpperLimit=Par_Limits(1);\nLowerLim"
"it=Par_Limits(2);"
		  MaskDisplay		  "disp('PI');"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "Kp|Ki|2*pi*Finit*[1.25 0.75]|2*pi*F"
"init"
		  MaskTabNameString	  ",,,"
		  Port {
		    PortNumber		    1
		    Name		    "W"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  System {
		    Name		    "Discrete\nPI Controller"
		    Location		    [460, 199, 1227, 547]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Error"
		    Position		    [155, 188, 185, 202]
		    FontSize		    12
		    FontWeight		    "bold"
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [365, 178, 400, 212]
		    InitialCondition	    "Init"
		    LimitOutput		    on
		    UpperSaturationLimit    "UpperLimit"
		    LowerSaturationLimit    "LowerLimit"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Kp4"
		    Position		    [280, 124, 315, 156]
		    ShowName		    off
		    Gain		    "Kp"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Kp5"
		    Position		    [285, 179, 320, 211]
		    ShowName		    off
		    Gain		    "Ki"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    Position		    [565, 155, 590, 185]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    UpperLimit		    "UpperLimit"
		    LowerLimit		    "LowerLimit"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum6"
		    Ports		    [2, 1]
		    Position		    [490, 114, 520, 221]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out"
		    Position		    [630, 163, 660, 177]
		    FontSize		    12
		    FontWeight		    "bold"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Error"
		    SrcPort		    1
		    Points		    [0, 0; 65, 0]
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "Kp4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Kp5"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum6"
		    SrcPort		    1
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Kp5"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Kp4"
		    SrcPort		    1
		    Points		    [0, 0]
		    DstBlock		    "Sum6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    DstBlock		    "Sum6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "Out"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain10"
		  Position		  [500, 132, 550, 168]
		  ShowName		  off
		  Gain			  "1/2/pi"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [500, 253, 535, 287]
		  InitialCondition	  "Phase_Init*pi/180"
		  LimitOutput		  on
		}
		Block {
		  BlockType		  Math
		  Name			  "Math\nFunction"
		  Ports			  [2, 1]
		  Position		  [605, 250, 635, 330]
		  ShowName		  off
		  Operator		  "mod"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [755, 270, 760, 345]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  RateLimiter
		  Name			  "Rate Limiter"
		  Position		  [590, 135, 620, 165]
		  RisingSlewLimit	  "12"
		  FallingSlewLimit	  "-12"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction"
		  Ports			  [1, 1]
		  Position		  [690, 278, 720, 302]
		  ShowName		  off
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction2"
		  Ports			  [1, 1]
		  Position		  [690, 313, 720, 337]
		  ShowName		  off
		  Operator		  "cos"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Variable Frequency\nMean value"
		  Ports			  [2, 1]
		  Position		  [280, 233, 340, 302]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "Variable-Frequency Mean Value"
		  MaskDescription	  "This  block computes the mean value"
" of the input signal (port In) over a running window of one cycle of a specif"
"ied frequency (port Freq). \n\nFor the first cycle of simulation (specified b"
"y the parameter \"Initial frequency\"), the ouput is held to the value of the"
"  \"Initial input\" parameter. \n"
		  MaskPromptString	  "Initial frequency (Hz):|Initial inp"
"ut (DC component):"
		  MaskStyleString	  "edit,edit"
		  MaskTunableValueString  "on,on"
		  MaskCallbackString	  "|"
		  MaskEnableString	  "on,on"
		  MaskVisibilityString	  "on,on"
		  MaskToolTipString	  "on,on"
		  MaskVarAliasString	  ","
		  MaskVariables		  "Finit=@1;Vinit=@2;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "Finit|0"
		  MaskTabNameString	  ","
		  System {
		    Name		    "Variable Frequency\nMean value"
		    Location		    [139, 262, 824, 675]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Freq"
		    Position		    [20, 218, 50, 232]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    Port {
		    PortNumber		    1
		    Name		    "Freq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "In"
		    Position		    [15, 143, 45, 157]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    Port {
		    PortNumber		    1
		    Name		    "In"
		    PropagatedSignals	    "Vq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [500, 235, 530, 255]
		    ShowName		    off
		    Value		    "Vinit"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [95, 135, 125, 165]
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Number of samples\nper cycle"
		    Position		    [150, 307, 205, 333]
		    Expr		    "1/u[1]"
		    Port {
		    PortNumber		    1
		    Name		    "Delay"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [410, 158, 445, 247]
		    ShowName		    off
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "Mean value"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Step
		    Name		    "Step"
		    Position		    [505, 148, 525, 172]
		    Time		    "1/Finit"
		    SampleTime		    "0"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum7"
		    Ports		    [2, 1]
		    Position		    [345, 140, 370, 220]
		    ShowName		    off
		    Inputs		    "-+"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [560, 194, 580, 256]
		    ShowName		    off
		    Threshold		    "0.5"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "To avoid\ndivision by zero"
		    Position		    [82, 265, 108, 285]
		    Orientation		    "down"
		    UpperLimit		    "1e6"
		    LowerLimit		    "1e-6"
		    Port {
		    PortNumber		    1
		    Name		    "Freq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    VariableTransportDelay
		    Name		    "Variable\nTransport Delay"
		    Position		    [275, 142, 305, 173]
		    NamePlacement	    "alternate"
		    MaximumDelay	    "1/40"
		    MaximumPoints	    "4096"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Mean"
		    Position		    [610, 218, 640, 232]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    Name		    "Delay"
		    Labels		    [2, 0]
		    SrcBlock		    "Number of samples\nper cycle"
		    SrcPort		    1
		    Points		    [40, 0; 0, -155]
		    DstBlock		    "Variable\nTransport Delay"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Step"
		    SrcPort		    1
		    Points		    [10, 0; 0, 65]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    Name		    "Freq"
		    Labels		    [2, 0]
		    SrcBlock		    "To avoid\ndivision by zero"
		    SrcPort		    1
		    Points		    [0, 30]
		    DstBlock		    "Number of samples\nper cycle"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Mean"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    Name		    "Freq"
		    SrcBlock		    "Freq"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    DstBlock		    "To avoid\ndivision by zero"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [285, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "Variable\nTransport Delay"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Sum7"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Sum7"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Variable\nTransport Delay"
		    SrcPort		    1
		    DstBlock		    "Sum7"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Mean value"
		    Labels		    [0, 0]
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    Name		    "In"
		    SrcBlock		    "In"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Annotation {
		    Name		    "Mean Value (Variable frequency)"
		    Position		    [121, 18]
		    FontSize		    12
		    FontWeight		    "bold"
		    }
		    Annotation {
		    Name		    "Pierre Giroux, Gilbert Sybille\nP"
"ower System Simulation Laboratory\nIREQ, Hydro-Quebc"
		    Position		    [122, 46]
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "abc_to_dq1"
		  Ports			  [2, 2]
		  Position		  [105, 246, 170, 299]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  Port {
		    PortNumber		    2
		    Name		    "Vq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  System {
		    Name		    "abc_to_dq1"
		    Location		    [114, 80, 699, 285]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Vab_bc"
		    Position		    [15, 55, 35, 75]
		    BackgroundColor	    "yellow"
		    NamePlacement	    "alternate"
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "sin_cos"
		    Position		    [15, 100, 35, 120]
		    BackgroundColor	    "yellow"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn2"
		    Position		    [230, 58, 475, 82]
		    ShowName		    off
		    Expr		    "(u[4]*(2*u[1]+u[2]) + (sqrt(3)*u["
"2]*u[3]))/3"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn3"
		    Position		    [230, 92, 475, 118]
		    ShowName		    off
		    Expr		    "(u[3]*(2*u[1]+u[2]) + (-sqrt(3)*u"
"[2]*u[4]))/3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [170, 42, 200, 133]
		    ShowName		    off
		    Inputs		    "[ 2 2 ]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vd"
		    Position		    [540, 95, 560, 115]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vq"
		    Position		    [540, 60, 560, 80]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Vab_bc"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -20]
		    DstBlock		    "Fcn2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Fcn3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "sin_cos"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Fcn2"
		    SrcPort		    1
		    DstBlock		    "vq"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn3"
		    SrcPort		    1
		    DstBlock		    "vd"
		    DstPort		    1
		    }
		    Annotation {
		    Name		    "This subsystem converts Vab and V"
"bc to Vd,Vq      "
		    Position		    [282, 152]
		    VerticalAlignment	    "top"
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Freq"
		  Position		  [820, 143, 850, 157]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vd"
		  Position		  [205, 193, 235, 207]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vq"
		  Position		  [210, 233, 240, 247]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Sin_Cos"
		  Position		  [820, 303, 850, 317]
		  Port			  "4"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "abc_to_dq1"
		  SrcPort		  1
		  Points		  [5, 0; 0, -60]
		  DstBlock		  "Vd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "2nd-Order\nFilter"
		  SrcPort		  1
		  Points		  [55, 0]
		  Branch {
		    DstBlock		    "Freq"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -50; -540, 0; 0, 150]
		    DstBlock		    "Variable Frequency\nMean value"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Variable Frequency\nMean value"
		  SrcPort		  1
		  DstBlock		  "Discrete\nPI Controller"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vab_bc (pu)"
		  SrcPort		  1
		  DstBlock		  "abc_to_dq1"
		  DstPort		  1
		}
		Line {
		  Name			  "Vq"
		  SrcBlock		  "abc_to_dq1"
		  SrcPort		  2
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Vq"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [1, 0]
		    DstBlock		    "Variable Frequency\nMean value"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  DstBlock		  "Math\nFunction"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  DstBlock		  "Math\nFunction"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Math\nFunction"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Trigonometric\nFunction"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "Trigonometric\nFunction2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction2"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, 95; -700, 0; 0, -120]
		    DstBlock		    "abc_to_dq1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Sin_Cos"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "W"
		  Labels		  [0, 1]
		  SrcBlock		  "Discrete\nPI Controller"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    DstBlock		    "Integrator"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -120]
		    DstBlock		    "Gain10"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Gain10"
		  SrcPort		  1
		  DstBlock		  "Rate Limiter"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rate Limiter"
		  SrcPort		  1
		  DstBlock		  "2nd-Order\nFilter"
		  DstPort		  1
		}
		Annotation {
		  Name			  "3-phase PLL "
		  Position		  [104, 29]
		  FontSize		  14
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "Pierre Giroux, Gilbert Sybille\nPow"
"er System Laboratory, IREQ\nHydro-Quebec"
		  Position		  [100, 62]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Break \nAlg. Loop"
	      Ports		      [1, 1]
	      Position		      [655, 326, 720, 364]
	      Orientation	      "left"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Break \nAlg. Loop"
		Location		[641, 548, 1086, 792]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [365, 78, 395, 92]
		  Orientation		  "left"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  ComplexToRealImag
		  Name			  "Complex to\nReal-Imag"
		  Ports			  [1, 2]
		  Position		  [310, 68, 340, 97]
		  Orientation		  "left"
		  ShowName		  off
		  Output		  "Real and imag"
		}
		Block {
		  BlockType		  RealImagToComplex
		  Name			  "Real-Imag to\nComplex"
		  Ports			  [2, 1]
		  Position		  [80, 53, 110, 82]
		  Orientation		  "left"
		  ShowName		  off
		  Input			  "Real and imag"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "imag"
		  Ports			  [1, 1]
		  Position		  [190, 85, 250, 125]
		  Orientation		  "left"
		  AncestorBlock		  "simulink_extras/Additional\nLinear/"
"Transfer Fcn\n(with initial outputs)"
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "Transfer Function with Initial Outp"
"uts"
		  MaskDescription	  "Vector expressions for numerator, a"
"nd denominator. Coefficients are in descending powers of s."
		  MaskHelp		  "Specify the initial output for the "
"transfer function.  An optimization routine attempts to determine the appropr"
"iate initial states so that the specified initial output is achieved.  For mo"
"re details, see the m-file getxo.m"
		  MaskPromptString	  "Numerator:|Denominator:|Initial out"
"put:|Initial input:"
		  MaskStyleString	  "edit,edit,edit,edit"
		  MaskTunableValueString  "on,on,on,on"
		  MaskCallbackString	  "|||"
		  MaskEnableString	  "on,on,on,on"
		  MaskVisibilityString	  "on,on,on,on"
		  MaskToolTipString	  "on,on,on,on"
		  MaskVarAliasString	  ",,,"
		  MaskVariables		  "N=@1;D=@2;Y0=@3;U0=@4;"
		  MaskInitialization	  "[A,B,C,Dd]=tf2ss(N,D);if (isempty(Y"
"0));[m,n]=size(A);X0=zeros(1,m); end; if (isempty(U0));[m,p]=size(B);U0=zeros"
"(1,p);end;X0=getxo(A,B,C,Dd,U0,Y0,0);\n"
		  MaskDisplay		  "dpoly(N,D,'s')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "[1]|[100e-6  1]|imag(I1_init*exp(-j"
"*Pha_V0*pi/180))|imag(I1_init*exp(-j*Pha_V0*pi/180))"
		  MaskTabNameString	  ",,,"
		  System {
		    Name		    "imag"
		    Location		    [664, 99, 884, 187]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    StateSpace
		    Name		    "State Space"
		    Position		    [80, 27, 140, 63]
		    A			    "A"
		    B			    "B"
		    C			    "C"
		    D			    "Dd"
		    X0			    "X0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [165, 38, 195, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "State Space"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "State Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "real"
		  Ports			  [1, 1]
		  Position		  [190, 20, 250, 60]
		  Orientation		  "left"
		  AncestorBlock		  "simulink_extras/Additional\nLinear/"
"Transfer Fcn\n(with initial outputs)"
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "Transfer Function with Initial Outp"
"uts"
		  MaskDescription	  "Vector expressions for numerator, a"
"nd denominator. Coefficients are in descending powers of s."
		  MaskHelp		  "Specify the initial output for the "
"transfer function.  An optimization routine attempts to determine the appropr"
"iate initial states so that the specified initial output is achieved.  For mo"
"re details, see the m-file getxo.m"
		  MaskPromptString	  "Numerator:|Denominator:|Initial out"
"put:|Initial input:"
		  MaskStyleString	  "edit,edit,edit,edit"
		  MaskTunableValueString  "on,on,on,on"
		  MaskCallbackString	  "|||"
		  MaskEnableString	  "on,on,on,on"
		  MaskVisibilityString	  "on,on,on,on"
		  MaskToolTipString	  "on,on,on,on"
		  MaskVarAliasString	  ",,,"
		  MaskVariables		  "N=@1;D=@2;Y0=@3;U0=@4;"
		  MaskInitialization	  "[A,B,C,Dd]=tf2ss(N,D);if (isempty(Y"
"0));[m,n]=size(A);X0=zeros(1,m); end; if (isempty(U0));[m,p]=size(B);U0=zeros"
"(1,p);end;X0=getxo(A,B,C,Dd,U0,Y0,0);\n"
		  MaskDisplay		  "dpoly(N,D,'s')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "[1]|[100e-6  1]|real(I1_init*exp(-j"
"*Pha_V0*pi/180))|real(I1_init*exp(-j*Pha_V0*pi/180))"
		  MaskTabNameString	  ",,,"
		  System {
		    Name		    "real"
		    Location		    [664, 99, 884, 187]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    StateSpace
		    Name		    "State Space"
		    Position		    [80, 27, 140, 63]
		    A			    "A"
		    B			    "B"
		    C			    "C"
		    D			    "Dd"
		    X0			    "X0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [165, 38, 195, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "State Space"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "State Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [25, 63, 55, 77]
		  Orientation		  "left"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "Complex to\nReal-Imag"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Real-Imag to\nComplex"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag"
		  SrcPort		  1
		  Points		  [-25, 0; 0, -35]
		  DstBlock		  "real"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "real"
		  SrcPort		  1
		  Points		  [-55, 0; 0, 20]
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag"
		  SrcPort		  2
		  Points		  [0, 15]
		  DstBlock		  "imag"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "imag"
		  SrcPort		  1
		  Points		  [-45, 0; 0, -30]
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      ComplexToRealImag
	      Name		      "Complex to\nReal-Imag"
	      Ports		      [1, 2]
	      Position		      [500, 325, 535, 360]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Output		      "Real and imag"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [665, 246, 670, 279]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      Position		      [500, 370, 520, 390]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [3, 1]
	      Position		      [455, 327, 460, 373]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Positive Sequence \ncurrent"
	      Ports		      [2, 2]
	      Position		      [775, 103, 855, 167]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Positive Sequence \ncurrent"
		Location		[104, 373, 1242, 963]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "V1(pu)"
		  Position		  [35, 52, 65, 68]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "S_ext"
		  Position		  [720, 72, 750, 88]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  ComplexToMagnitudeAngle
		  Name			  "Complex to\nMagnitude-Angle"
		  Ports			  [1, 1]
		  Position		  [95, 45, 125, 75]
		  ShowName		  off
		  Output		  "Magnitude"
		}
		Block {
		  BlockType		  ComplexToRealImag
		  Name			  "Complex to\nReal-Imag1"
		  Ports			  [1, 2]
		  Position		  [875, 275, 910, 310]
		  ShowName		  off
		  Output		  "Real and imag"
		}
		Block {
		  BlockType		  Math
		  Name			  "Conj1"
		  Ports			  [1, 1]
		  Position		  [950, 150, 980, 180]
		  ShowName		  off
		  Operator		  "conj"
		}
		Block {
		  BlockType		  Math
		  Name			  "Math\nFunction"
		  Ports			  [1, 1]
		  Position		  [190, 240, 220, 270]
		  ShowName		  off
		  Operator		  "square"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [3, 1]
		  Position		  [945, 262, 950, 308]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [180, 96, 185, 134]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [180, 161, 185, 199]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Gain
		  Name			  "P0/ (Vo^np)"
		  Position		  [535, 115, 565, 145]
		  Gain			  "P0/(Mag_V0^np)"
		}
		Block {
		  BlockType		  Constant
		  Name			  "PQ_ext"
		  Position		  [685, 124, 750, 146]
		  ShowName		  off
		  Value			  "PQext"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [890, 147, 925, 183]
		  ShowName		  off
		  Inputs		  "/*"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Q0/(Vo^nq)"
		  Position		  [535, 180, 565, 210]
		  Gain			  "Q0/(Mag_V0^nq)"
		}
		Block {
		  BlockType		  RealImagToComplex
		  Name			  "Real-Imag to\nComplex"
		  Ports			  [2, 1]
		  Position		  [680, 173, 710, 202]
		  ShowName		  off
		  Input			  "Real and imag"
		  Port {
		    PortNumber		    1
		    Name		    "S_dyn"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [800, 155, 830, 195]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		  Port {
		    PortNumber		    1
		    Name		    "S=P+jQ"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch3"
		  Position		  [460, 110, 490, 150]
		  ShowName		  off
		  Threshold		  "Vmin"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch4"
		  Position		  [465, 175, 495, 215]
		  ShowName		  off
		  Threshold		  "Vmin"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "TF_P"
		  Ports			  [1, 1]
		  Position		  [595, 107, 645, 153]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "Transfer function"
		  MaskDescription	  "This block implements a continuous "
"transfer function:\n\n         1+T1s\nH(s)= ------\n         1+T2s\n\nStates "
"are initialized according to  initial input and output value so that simulati"
"on starts in steady state."
		  MaskPromptString	  "Time constant T1 (s):|Time constant"
" T2 (s):|Initial input and output :"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVarAliasString	  ",,"
		  MaskVariables		  "T1=@1;T2=@2;V_Init=@3;"
		  MaskInitialization	  "numc=[T1 1];\ndenc=[T2 1];\n[Ac,Bc,"
"Cc,Dc]=tf2ss(numc,denc);\n\n% Compute Initial states\nI=eye(size(Ac));\nx0c=i"
"nv(-Ac)*Bc*V_Init;\n\n"
		  MaskDisplay		  "disp('1+T1s\\n---\\n1+T2s')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "Tp1|Tp2|P0"
		  MaskTabNameString	  ",,"
		  System {
		    Name		    "TF_P"
		    Location		    [685, 239, 905, 325]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    StateSpace
		    Name		    "State-Space"
		    Position		    [80, 28, 140, 62]
		    A			    "Ac"
		    B			    "Bc"
		    C			    "Cc"
		    D			    "Dc"
		    X0			    "x0c"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [165, 38, 195, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "State-Space"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "TF_Q"
		  Ports			  [1, 1]
		  Position		  [595, 172, 645, 218]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "Transfer function"
		  MaskDescription	  "This block implements a continuous "
"transfer function:\n\n         1+T1s\nH(s)= ------\n         1+T2s\n\nStates "
"are initialized according to  initial input and output value so that simulati"
"on starts in steady state."
		  MaskPromptString	  "Time constant T1 (s):|Time constant"
" T2 (s):|Initial input and output :"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVarAliasString	  ",,"
		  MaskVariables		  "T1=@1;T2=@2;V_Init=@3;"
		  MaskInitialization	  "numc=[T1 1];\ndenc=[T2 1];\n[Ac,Bc,"
"Cc,Dc]=tf2ss(numc,denc);\n\n% Compute Initial states\nI=eye(size(Ac));\nx0c=i"
"nv(-Ac)*Bc*V_Init;\n\n"
		  MaskDisplay		  "disp('1+T1s\\n---\\n1+T2s')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "Tq1|Tq2|Q0"
		  MaskTabNameString	  ",,"
		  System {
		    Name		    "TF_Q"
		    Location		    [685, 239, 905, 325]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    StateSpace
		    Name		    "State-Space"
		    Position		    [80, 28, 140, 62]
		    A			    "Ac"
		    B			    "Bc"
		    C			    "Cc"
		    D			    "Dc"
		    X0			    "x0c"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [165, 38, 195, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "State-Space"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Fcn
		  Name			  "V^nq"
		  Position		  [205, 169, 285, 191]
		  Expr			  "u[1]^u[2]"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "V^nq ,"
		  Position		  [205, 104, 285, 126]
		  Expr			  "u[1]^u[2]"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Vmin^(np-2)"
		  Position		  [305, 240, 335, 270]
		  Gain			  "Vmin^(np-2)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Vmin^(nq-2)"
		  Position		  [305, 295, 335, 325]
		  Gain			  "Vmin^(nq-2)"
		}
		Block {
		  BlockType		  Constant
		  Name			  "np"
		  Position		  [35, 115, 80, 135]
		  Value			  "np"
		}
		Block {
		  BlockType		  Constant
		  Name			  "nq"
		  Position		  [35, 180, 80, 200]
		  Value			  "nq"
		}
		Block {
		  BlockType		  Gain
		  Name			  "pu>V"
		  Position		  [520, 18, 550, 52]
		  Gain			  "Vnom*sqrt(3)/sqrt(2)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "I1(A)"
		  Position		  [1015, 158, 1045, 172]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "VPQ"
		  Position		  [995, 278, 1025, 292]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "TF_Q"
		  SrcPort		  1
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "TF_P"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag1"
		  SrcPort		  2
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag1"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "VPQ"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nMagnitude-Angle"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [245, 0; 0, 70]
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Switch4"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Switch3"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 85]
		    DstBlock		    "Math\nFunction"
		    DstPort		    1
		    }
		    }
		  }
		}
		Line {
		  SrcBlock		  "pu>V"
		  SrcPort		  1
		  Points		  [320, 0]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "PQ_ext"
		  SrcPort		  1
		  Points		  [10, 0; 0, 40]
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "S_ext"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  Name			  "S_dyn"
		  Labels		  [1, 1]
		  SrcBlock		  "Real-Imag to\nComplex"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  Name			  "S=P+jQ"
		  Labels		  [0, 0]
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, 120]
		    DstBlock		    "Complex to\nReal-Imag1"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [1, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Conj1"
		  SrcPort		  1
		  DstBlock		  "I1(A)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Conj1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch4"
		  SrcPort		  1
		  DstBlock		  "Q0/(Vo^nq)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "P0/ (Vo^np)"
		  SrcPort		  1
		  DstBlock		  "TF_P"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Q0/(Vo^nq)"
		  SrcPort		  1
		  DstBlock		  "TF_Q"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch3"
		  SrcPort		  1
		  DstBlock		  "P0/ (Vo^np)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "np"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "V^nq ,"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "nq"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "V^nq"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "V1(pu)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "pu>V"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Complex to\nMagnitude-Angle"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "V^nq"
		  SrcPort		  1
		  DstBlock		  "Switch4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Math\nFunction"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    DstBlock		    "Vmin^(np-2)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 55]
		    DstBlock		    "Vmin^(nq-2)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Vmin^(np-2)"
		  SrcPort		  1
		  Points		  [90, 0; 0, -110]
		  DstBlock		  "Switch3"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "V^nq ,"
		  SrcPort		  1
		  DstBlock		  "Switch3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vmin^(nq-2)"
		  SrcPort		  1
		  Points		  [110, 0]
		  DstBlock		  "Switch4"
		  DstPort		  3
		}
		Annotation {
		  Name			  "I1= (S/V1)' "
		  Position		  [975, 205]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "V>Vmin :\n\n   P=Po*(V/Vo)^np\n   Q"
"=Qo*(V/Vo)^np\n"
		  Position		  [78, 399]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "V<Vmin\nConstant impedance load :\n"
"\n P=Po*kp*V^2\nQ=Qo*kq*V^2\n "
		  Position		  [288, 399]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "kp=Vmin^(np-2)/Vo^np\nkq=Vmin^(nq-2"
")/Vo^nq"
		  Position		  [287, 454]
		}
	      }
	    }
	    Block {
	      BlockType		      RealImagToComplex
	      Name		      "Real-Imag to\nComplex"
	      Ports		      [2, 1]
	      Position		      [670, 103, 700, 132]
	      ShowName		      off
	      Input		      "Real and imag"
	    }
	    Block {
	      BlockType		      RealImagToComplex
	      Name		      "Real-Imag to\nComplex1"
	      Ports		      [2, 1]
	      Position		      [695, 248, 725, 277]
	      ShowName		      off
	      Input		      "Real and imag"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector"
	      Ports		      [1, 1]
	      Position		      [110, 350, 140, 380]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Elements		      "1:2"
	      InputPortWidth	      "3"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "V> pu"
	      Position		      [265, 83, 295, 117]
	      Gain		      "1/Vbase"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Variable Frequency\nMean value1"
	      Ports		      [2, 1]
	      Position		      [555, 18, 600, 62]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Variable-Frequency Mean Value"
	      MaskDescription	      "This  block computes the mean value of "
"the input signal (port In) over a running window of one cycle of a specified "
"frequency (port Freq). \n\nFor the first cycle of simulation (specified by th"
"e parameter \"Initial frequency\"), the ouput is held to the value of the  \""
"Initial input\" parameter. \n"
	      MaskPromptString	      "Initial frequency (Hz):|Initial input ("
"DC component):"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVarAliasString      ","
	      MaskVariables	      "Finit=@1;Vinit=@2;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "fnom|Mag_V0"
	      MaskTabNameString	      ","
	      System {
		Name			"Variable Frequency\nMean value1"
		Location		[139, 262, 824, 675]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Freq"
		  Position		  [20, 218, 50, 232]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		  Port {
		    PortNumber		    1
		    Name		    "Freq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [15, 143, 45, 157]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		  Port {
		    PortNumber		    1
		    Name		    "In"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [500, 235, 530, 255]
		  ShowName		  off
		  Value			  "Vinit"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [95, 135, 125, 165]
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Number of samples\nper cycle"
		  Position		  [150, 307, 205, 333]
		  Expr			  "1/u[1]"
		  Port {
		    PortNumber		    1
		    Name		    "Delay"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [410, 158, 445, 247]
		  ShowName		  off
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "Mean value"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Step
		  Name			  "Step"
		  Position		  [505, 148, 525, 172]
		  Time			  "1/Finit"
		  SampleTime		  "0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum7"
		  Ports			  [2, 1]
		  Position		  [345, 140, 370, 220]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [560, 194, 580, 256]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Saturate
		  Name			  "To avoid\ndivision by zero"
		  Position		  [82, 265, 108, 285]
		  Orientation		  "down"
		  UpperLimit		  "1e6"
		  LowerLimit		  "1e-6"
		  Port {
		    PortNumber		    1
		    Name		    "Freq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  VariableTransportDelay
		  Name			  "Variable\nTransport Delay"
		  Position		  [275, 142, 305, 173]
		  NamePlacement		  "alternate"
		  MaximumDelay		  "1/40"
		  MaximumPoints		  "4096"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Mean"
		  Position		  [610, 218, 640, 232]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  Name			  "In"
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  Name			  "Mean value"
		  Labels		  [0, 0]
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Variable\nTransport Delay"
		  SrcPort		  1
		  DstBlock		  "Sum7"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum7"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Sum7"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Variable\nTransport Delay"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "Freq"
		  SrcBlock		  "Freq"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    Points		    [285, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "To avoid\ndivision by zero"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Mean"
		  DstPort		  1
		}
		Line {
		  Name			  "Freq"
		  Labels		  [2, 0]
		  SrcBlock		  "To avoid\ndivision by zero"
		  SrcPort		  1
		  Points		  [0, 30]
		  DstBlock		  "Number of samples\nper cycle"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Step"
		  SrcPort		  1
		  Points		  [10, 0; 0, 65]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  Name			  "Delay"
		  Labels		  [2, 0]
		  SrcBlock		  "Number of samples\nper cycle"
		  SrcPort		  1
		  Points		  [40, 0; 0, -155]
		  DstBlock		  "Variable\nTransport Delay"
		  DstPort		  2
		}
		Annotation {
		  Name			  "Pierre Giroux, Gilbert Sybille\nPow"
"er System Simulation Laboratory\nIREQ, Hydro-Quebc"
		  Position		  [122, 46]
		}
		Annotation {
		  Name			  "Mean Value (Variable frequency)"
		  Position		  [121, 18]
		  FontSize		  12
		  FontWeight		  "bold"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Variable Frequency\nMean value2"
	      Ports		      [2, 1]
	      Position		      [555, 138, 600, 182]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Variable-Frequency Mean Value"
	      MaskDescription	      "This  block computes the mean value of "
"the input signal (port In) over a running window of one cycle of a specified "
"frequency (port Freq). \n\nFor the first cycle of simulation (specified by th"
"e parameter \"Initial frequency\"), the ouput is held to the value of the  \""
"Initial input\" parameter. \n"
	      MaskPromptString	      "Initial frequency (Hz):|Initial input ("
"DC component):"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVarAliasString      ","
	      MaskVariables	      "Finit=@1;Vinit=@2;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "fnom|0"
	      MaskTabNameString	      ","
	      System {
		Name			"Variable Frequency\nMean value2"
		Location		[139, 262, 824, 675]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Freq"
		  Position		  [20, 218, 50, 232]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		  Port {
		    PortNumber		    1
		    Name		    "Freq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [15, 143, 45, 157]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		  Port {
		    PortNumber		    1
		    Name		    "In"
		    PropagatedSignals	    "Vq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [500, 235, 530, 255]
		  ShowName		  off
		  Value			  "Vinit"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [95, 135, 125, 165]
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Number of samples\nper cycle"
		  Position		  [150, 307, 205, 333]
		  Expr			  "1/u[1]"
		  Port {
		    PortNumber		    1
		    Name		    "Delay"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [410, 158, 445, 247]
		  ShowName		  off
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "Mean value"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Step
		  Name			  "Step"
		  Position		  [505, 148, 525, 172]
		  Time			  "1/Finit"
		  SampleTime		  "0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum7"
		  Ports			  [2, 1]
		  Position		  [345, 140, 370, 220]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [560, 194, 580, 256]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Saturate
		  Name			  "To avoid\ndivision by zero"
		  Position		  [82, 265, 108, 285]
		  Orientation		  "down"
		  UpperLimit		  "1e6"
		  LowerLimit		  "1e-6"
		  Port {
		    PortNumber		    1
		    Name		    "Freq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  VariableTransportDelay
		  Name			  "Variable\nTransport Delay"
		  Position		  [275, 142, 305, 173]
		  NamePlacement		  "alternate"
		  MaximumDelay		  "1/40"
		  MaximumPoints		  "4096"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Mean"
		  Position		  [610, 218, 640, 232]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  Name			  "Delay"
		  Labels		  [2, 0]
		  SrcBlock		  "Number of samples\nper cycle"
		  SrcPort		  1
		  Points		  [40, 0; 0, -155]
		  DstBlock		  "Variable\nTransport Delay"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Step"
		  SrcPort		  1
		  Points		  [10, 0; 0, 65]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  Name			  "Freq"
		  Labels		  [2, 0]
		  SrcBlock		  "To avoid\ndivision by zero"
		  SrcPort		  1
		  Points		  [0, 30]
		  DstBlock		  "Number of samples\nper cycle"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Mean"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  Name			  "Freq"
		  SrcBlock		  "Freq"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    DstBlock		    "To avoid\ndivision by zero"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [285, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "Variable\nTransport Delay"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Sum7"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sum7"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Variable\nTransport Delay"
		  SrcPort		  1
		  DstBlock		  "Sum7"
		  DstPort		  1
		}
		Line {
		  Name			  "Mean value"
		  Labels		  [0, 0]
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  Name			  "In"
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Annotation {
		  Name			  "Mean Value (Variable frequency)"
		  Position		  [121, 18]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "Pierre Giroux, Gilbert Sybille\nPow"
"er System Simulation Laboratory\nIREQ, Hydro-Quebc"
		  Position		  [122, 46]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "dq0_to_abc\nTransformation"
	      Ports		      [2, 1]
	      Position		      [300, 335, 370, 390]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      AncestorBlock	      "powerlib_extras/Measurements/dq0_to_abc"
"\nTransformation"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "dq0 to abc Transformation"
	      MaskDescription	      "This block transforms  three quantities"
"  (direct axis, quadature axis and zero-sequence components)  expressed in a "
"two axis reference frame back to phase quantities. \n\nThe following transfor"
"mation is used:\n\nVa = [Vd*sin(wt) +  Vq*cos(wt)  +  Vo ]\nVb = [Vd*sin(wt-2"
"pi/3)  + Vq*cos(wt-2pi/3)  + Vo) \nVc = [Vd*sin(wt+2pi/3) + Vq*cos(wt+2pi/3) "
" + Vo) \nwhere w=  rotation speed (rad/s) of the rotating frame.\n\nInput 1 c"
"ontains  the vectorized signal of [Vd Vq  Vo] components\nInput 2 must contai"
"n a  [sin(wt)  cos(wt)] two dimension signal , where w is the rotation speed "
" of the reference frame. \nOutput is a vectozized signal containing the three"
"  [Va Vb Vc] phase sinusoidal quantities.\n\nPress Help for more information."
	      MaskHelp		      "This block performs the reverse of the "
"so called Park transformation which is commonly used in three-phase electric "
"machine models. The Park  transformation allows to eliminate time varying ind"
"uctances by refering the stator and rotor quantities to a fixed or rotating r"
"eference frame .\nIn case of a synchrounous machine, the stator quantities ar"
"e referred to the rotor. Id and Iq represent the two DC currents flowing  in "
"the two equivalent rotor windings ( d winding on the same axis as the field w"
"inding, and q winding in quadrature) producing the same flux as the stator Ia"
", Ib and Ic currents.\n\nSee also the abc_to_dq0  block performing the revers"
"e transformation."
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"dq0_to_abc\nTransformation"
		Location		[104, 67, 934, 526]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "dq0"
		  Position		  [20, 25, 40, 45]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "3"
		  LatchInput		  off
		  Port {
		    PortNumber		    1
		    Name		    "Vabc"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "sin_cos"
		  Position		  [20, 80, 40, 100]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "2"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [65, 63, 70, 112]
		  ShowName		  off
		  Outputs		  "2"
		  Port {
		    PortNumber		    1
		    Name		    "sin(wt)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  Port {
		    PortNumber		    2
		    Name		    "cos(wt)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn2"
		  Position		  [575, 117, 710, 143]
		  ShowName		  off
		  Expr			  " u[1]*u[4] +  u[2]*u[5] + u[3]"
		  Port {
		    PortNumber		    1
		    Name		    "Va"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn4"
		  Position		  [570, 160, 715, 190]
		  ShowName		  off
		  Expr			  " u[1]*u[6] +  u[2]*u[7]+ u[3]"
		  Port {
		    PortNumber		    1
		    Name		    "Vb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn5"
		  Position		  [575, 210, 720, 240]
		  ShowName		  off
		  Expr			  " u[1]*u[8]+  u[2]*u[9]+ u[3]"
		  Port {
		    PortNumber		    1
		    Name		    "Vc"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "K1"
		  Position		  [50, 180, 75, 200]
		  ShowName		  off
		  Value			  "0.5"
		}
		Block {
		  BlockType		  Constant
		  Name			  "K2"
		  Position		  [35, 219, 85, 241]
		  ShowName		  off
		  Value			  "sqrt(3)/2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [525, 136, 530, 214]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [3, 1]
		  Position		  [770, 125, 775, 225]
		  ShowName		  off
		  Inputs		  "3"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [6, 1]
		  Position		  [450, 108, 455, 342]
		  ShowName		  off
		  Inputs		  "6"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [185, 173, 215, 197]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [185, 213, 215, 237]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [180, 318, 210, 342]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product3"
		  Ports			  [2, 1]
		  Position		  [180, 278, 210, 302]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [235, 164, 255, 246]
		  ShowName		  off
		  Inputs		  "--"
		  Port {
		    PortNumber		    1
		    Name		    "sin(wt-2pi/3)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [230, 269, 250, 351]
		  ShowName		  off
		  Inputs		  "-+"
		  Port {
		    PortNumber		    1
		    Name		    "cos(wt-2pi/3)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [2, 1]
		  Position		  [315, 266, 335, 299]
		  ShowName		  off
		  Inputs		  "--"
		  Port {
		    PortNumber		    1
		    Name		    "sin(wt+2pi/3)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [315, 372, 335, 403]
		  ShowName		  off
		  Inputs		  "--"
		  Port {
		    PortNumber		    1
		    Name		    "cos(wt+2pi/3)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "abc"
		  Position		  [795, 165, 815, 185]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  Name			  "Vc"
		  Labels		  [0, 0]
		  SrcBlock		  "Fcn5"
		  SrcPort		  1
		  Points		  [15, 0; 0, -15]
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
		Line {
		  Name			  "Va"
		  FontSize		  10
		  Labels		  [1, 1]
		  SrcBlock		  "Fcn2"
		  SrcPort		  1
		  Points		  [25, 0; 0, 10]
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "abc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Fcn4"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -45]
		    DstBlock		    "Fcn2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Fcn5"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "cos(wt-2pi/3)"
		  FontSize		  10
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, 70]
		    DstBlock		    "Sum3"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [-1, 1]
		    Points		    [0, -65]
		    DstBlock		    "Mux2"
		    DstPort		    4
		  }
		}
		Line {
		  Name			  "sin(wt-2pi/3)"
		  FontSize		  10
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    DstBlock		    "Sum2"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [-1, 1]
		    DstBlock		    "Mux2"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "K2"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, 105]
		    DstBlock		    "Product2"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Product1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "K1"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    Points		    [0, 105]
		    DstBlock		    "Product3"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		}
		Line {
		  Name			  "sin(wt+2pi/3)"
		  FontSize		  10
		  Labels		  [-1, 1]
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  5
		}
		Line {
		  Name			  "cos(wt+2pi/3)"
		  FontSize		  10
		  Labels		  [3, 0]
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  Points		  [15, 0; 0, -65]
		  DstBlock		  "Mux2"
		  DstPort		  6
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product3"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [-5, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  Name			  "sin(wt)"
		  FontSize		  10
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [85, 0]
		  Branch {
		    Labels		    [-1, 1]
		    Points		    [185, 0; 0, 50]
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 105]
		    Branch {
		    Points		    [0, 145]
		    Branch {
		    Points		    [0, 40; 140, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Name			  "cos(wt)"
		  FontSize		  10
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [65, 0]
		  Branch {
		    Labels		    [-1, 1]
		    Points		    [160, 0; 0, 65]
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 120]
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 110]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    }
		  }
		}
		Line {
		  SrcBlock		  "sin_cos"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  Points		  [40, 0; 0, -30]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  Name			  "Vabc"
		  Labels		  [2, 1]
		  SrcBlock		  "dq0"
		  SrcPort		  1
		  Points		  [455, 0; 0, 120]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "Vb"
		  FontSize		  10
		  Labels		  [1, 1]
		  SrcBlock		  "Fcn4"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Annotation {
		  Name			  "Va=  Vd*sinwt   + Vq*cos(wt)  + Vo"
		  Position		  [598, 315]
		  FontSize		  12
		}
		Annotation {
		  Name			  "sin"
		  Position		  [194, 353]
		}
		Annotation {
		  Name			  "cos"
		  Position		  [199, 238]
		}
		Annotation {
		  Name			  "cos"
		  Position		  [189, 268]
		}
		Annotation {
		  Name			  "Vb=  Vd*sin(wt-2pi/3)   + Vq*cos(wt"
"-2pi/3)  + Vo"
		  Position		  [633, 340]
		  FontSize		  12
		}
		Annotation {
		  Name			  "Vc=  Vd*sin(wt+2pi/3)   + Vq*cos(wt"
"+2pi/3)  + Vo"
		  Position		  [638, 365]
		  FontSize		  12
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [40, 357, 70, 373]
	      Orientation	      "left"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [955, 143, 985, 157]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Line {
	      SrcBlock		      "Selector"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "V> pu"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Break \nAlg. Loop"
	      SrcPort		      1
	      DstBlock		      "Complex to\nReal-Imag"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Positive Sequence \ncurrent"
	      SrcPort		      2
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Real-Imag to\nComplex1"
	      SrcPort		      1
	      Points		      [15, 0; 0, -115]
	      DstBlock		      "Positive Sequence \ncurrent"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "Real-Imag to\nComplex1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "Real-Imag to\nComplex1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "PQ"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "3-phase PLL1"
	      SrcPort		      1
	      Points		      [0, 0; 95, 0]
	      Branch {
		Points			[0, 75]
		DstBlock		"Variable Frequency\nMean value2"
		DstPort			1
	      }
	      Branch {
		Points			[0, -45]
		DstBlock		"Variable Frequency\nMean value1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "3-phase PLL1"
	      SrcPort		      4
	      Points		      [40, 0; 0, 255]
	      DstBlock		      "dq0_to_abc\nTransformation"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "3-phase PLL1"
	      SrcPort		      2
	      Points		      [140, 0; 0, -40]
	      DstBlock		      "Variable Frequency\nMean value1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Complex to\nReal-Imag"
	      SrcPort		      2
	      DstBlock		      "Mux1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Complex to\nReal-Imag"
	      SrcPort		      1
	      DstBlock		      "Mux1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Positive Sequence \ncurrent"
	      SrcPort		      1
	      Points		      [25, 0; 0, 225]
	      DstBlock		      "Break \nAlg. Loop"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "dq0_to_abc\nTransformation"
	      SrcPort		      1
	      DstBlock		      "Selector"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Variable Frequency\nMean value2"
	      SrcPort		      1
	      Points		      [40, 0; 0, -35]
	      DstBlock		      "Real-Imag to\nComplex"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Variable Frequency\nMean value1"
	      SrcPort		      1
	      Points		      [40, 0; 0, 70]
	      DstBlock		      "Real-Imag to\nComplex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Mux1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "3-phase PLL1"
	      SrcPort		      3
	      Points		      [140, 0; 0, 65]
	      DstBlock		      "Variable Frequency\nMean value2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      DstBlock		      "dq0_to_abc\nTransformation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Real-Imag to\nComplex"
	      SrcPort		      1
	      DstBlock		      "Positive Sequence \ncurrent"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "V> pu"
	      SrcPort		      1
	      DstBlock		      "3-phase PLL1"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Excitation_System"
	  Ports			  [4, 1]
	  Position		  [230, 207, 275, 278]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Excitation System"
	  MaskDescription	  "Implements an IEEE type 1 synchronous machi"
"ne voltage regulator combined to an exciter. This block uses the dq component"
"s of terminal voltage (Synchronous Machine block, measurement ouputs 9 and 10"
").\n\n1st input: desired stator terminal voltage (p.u.);\n2nd input: vd compo"
"nent of the terminal voltage (p.u.);\n3rd input: vq component of the terminal"
" voltage (p.u.);\n4th input: stabilization voltage from user-supplied\n      "
"           power system stabilizer (p.u.);\n\noutput: field voltage vfd to be"
" applied to the\n             Synchronous Machine block's 2nd input (p.u.)."
	  MaskHelp		  "web(psbhelp);"
	  MaskPromptString	  "Low-pass filter time constant Tr(s):|Regula"
"tor gain and time constant [ Ka()  Ta(s) ]:|Exciter  [ Ke()  Te(s) ]:|Transie"
"nt gain reduction [ Tb(s)  Tc(s) ]:|Damping filter gain and time constant  [ "
"Kf()  Tf(s)  ]:|Field saturation parameters [ A, B ]:|Regulator output limits"
" and gain [ Efmin, Efmax (p.u.), Kp() ]:|Initial values of terminal voltage  "
"and field voltage [ Vt0 (pu) Vf0(pu) ] :"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "|||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,"
	  MaskVariables		  "tr=@1;reg=@2;exc=@3;tgr=@4;damp=@5;sat=@6;l"
"im=@7;v0=@8;"
	  MaskInitialization	  "ka=reg(1);ta=reg(2);ke=exc(1);te=exc(2);tb="
"tgr(1);tc=tgr(2);kf=damp(1);tf=damp(2);efmin=lim(1);efmax=lim(2);a=sat(1);b=s"
"at(2);kp=lim(3);"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "tr|reg|exc|tgr|damp|sat|lim|v0"
	  MaskTabNameString	  ",,,,,,,"
	  System {
	    Name		    "Excitation_System"
	    Location		    [66, 221, 989, 505]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "vref"
	      Position		      [10, 5, 30, 25]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "vd"
	      Position		      [10, 50, 30, 70]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "vq"
	      Position		      [10, 85, 30, 105]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "vstab"
	      Position		      [10, 125, 30, 145]
	      Port		      "4"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Damping\nkf.s\\ (tf.s +1)"
	      Ports		      [1, 1]
	      Position		      [595, 175, 645, 215]
	      Orientation	      "left"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Transfer Function with Initial Outputs"
	      MaskDescription	      "Vector expressions for numerator, and d"
"enominator. Coefficients are in descending powers of s."
	      MaskHelp		      "Specify the initial output for the tran"
"sfer function.  An optimization routine attempts to determine the appropriate"
" initial states so that the specified initial output is achieved.  For more d"
"etails, see the m-file getxo.m"
	      MaskPromptString	      "Numerator:|Denominator:|Initial output:"
"|Initial input:"
	      MaskStyleString	      "edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on"
	      MaskCallbackString      "|||"
	      MaskEnableString	      "on,on,on,on"
	      MaskVisibilityString    "on,on,on,on"
	      MaskToolTipString	      "on,on,on,on"
	      MaskVarAliasString      ",,,"
	      MaskVariables	      "N=@1;D=@2;Y0=@3;U0=@4;"
	      MaskInitialization      "[A,B,C,Dd]=tf2ss(N,D);if (isempty(Y0));"
"[m,n]=size(A);X0=zeros(1,m); end; if (isempty(U0));[m,p]=size(B);U0=zeros(1,p"
");end;\n if isempty(A),  X0=[]; else ,X0=getxo(A,B,C,Dd,U0,Y0,0); end\n"
	      MaskDisplay	      "dpoly(N,D,'s')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[kf 0]|[ tf 1]|0|v0(2)"
	      MaskTabNameString	      ",,,"
	      System {
		Name			"Damping\nkf.s\\ (tf.s +1)"
		Location		[664, 99, 884, 187]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  StateSpace
		  Name			  "State Space"
		  Position		  [80, 27, 140, 63]
		  A			  "A"
		  B			  "B"
		  C			  "C"
		  D			  "Dd"
		  X0			  "X0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [165, 38, 195, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "State Space"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "State Space"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Exciter\n1 \\(te.s +ke)"
	      Ports		      [1, 1]
	      Position		      [725, 76, 770, 114]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Transfer Function with Initial Outputs"
	      MaskDescription	      "Vector expressions for numerator, and d"
"enominator. Coefficients are in descending powers of s."
	      MaskHelp		      "Specify the initial output for the tran"
"sfer function.  An optimization routine attempts to determine the appropriate"
" initial states so that the specified initial output is achieved.  For more d"
"etails, see the m-file getxo.m"
	      MaskPromptString	      "Numerator:|Denominator:|Initial output:"
"|Initial input:"
	      MaskStyleString	      "edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on"
	      MaskCallbackString      "|||"
	      MaskEnableString	      "on,on,on,on"
	      MaskVisibilityString    "on,on,on,on"
	      MaskToolTipString	      "on,on,on,on"
	      MaskVarAliasString      ",,,"
	      MaskVariables	      "N=@1;D=@2;Y0=@3;U0=@4;"
	      MaskInitialization      "[A,B,C,Dd]=tf2ss(N,D);if (isempty(Y0));"
"[m,n]=size(A);X0=zeros(1,m); end; if (isempty(U0));[m,p]=size(B);U0=zeros(1,p"
");end;\n if isempty(A),  X0=[]; else ,X0=getxo(A,B,C,Dd,U0,Y0,0); end\n"
	      MaskDisplay	      "dpoly(N,D,'s')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "1|[ te ke]|v0(2)|ke*v0(2)"
	      MaskTabNameString	      ",,,"
	      System {
		Name			"Exciter\n1 \\(te.s +ke)"
		Location		[664, 99, 884, 187]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  StateSpace
		  Name			  "State Space"
		  Position		  [80, 27, 140, 63]
		  A			  "A"
		  B			  "B"
		  C			  "C"
		  D			  "Dd"
		  X0			  "X0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [165, 38, 195, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "State Space"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "State Space"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Lead Lag Compensator\ntc.s+1\\tb.s+1"
	      Ports		      [1, 1]
	      Position		      [420, 62, 455, 98]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Transfer Function with Initial Outputs"
	      MaskDescription	      "Vector expressions for numerator, and d"
"enominator. Coefficients are in descending powers of s."
	      MaskHelp		      "Specify the initial output for the tran"
"sfer function.  An optimization routine attempts to determine the appropriate"
" initial states so that the specified initial output is achieved.  For more d"
"etails, see the m-file getxo.m"
	      MaskPromptString	      "Numerator:|Denominator:|Initial output:"
"|Initial input:"
	      MaskStyleString	      "edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on"
	      MaskCallbackString      "|||"
	      MaskEnableString	      "on,on,on,on"
	      MaskVisibilityString    "on,on,on,on"
	      MaskToolTipString	      "on,on,on,on"
	      MaskVarAliasString      ",,,"
	      MaskVariables	      "N=@1;D=@2;Y0=@3;U0=@4;"
	      MaskInitialization      "[A,B,C,Dd]=tf2ss(N,D);if (isempty(Y0));"
"[m,n]=size(A);X0=zeros(1,m); end; if (isempty(U0));[m,p]=size(B);U0=zeros(1,p"
");end;\n if isempty(A),  X0=[]; else ,X0=getxo(A,B,C,Dd,U0,Y0,0); end\n"
	      MaskDisplay	      "dpoly(N,D,'s')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[tc 1]|[tb 1]|ke*v0(2)/ka|ke*v0(2)/ka"
	      MaskTabNameString	      ",,,"
	      System {
		Name			"Lead Lag Compensator\ntc.s+1\\tb.s+1"
		Location		[664, 99, 884, 187]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  StateSpace
		  Name			  "State Space"
		  Position		  [80, 27, 140, 63]
		  A			  "A"
		  B			  "B"
		  C			  "C"
		  D			  "Dd"
		  X0			  "X0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [165, 38, 195, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "State Space"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "State Space"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Low Pass Filter\n1 \\ (tr.s+1)\n(with I"
"C)"
	      Ports		      [1, 1]
	      Position		      [225, 62, 285, 98]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Transfer Function with Initial Outputs"
	      MaskDescription	      "Vector expressions for numerator, and d"
"enominator. Coefficients are in descending powers of s."
	      MaskHelp		      "Specify the initial output for the tran"
"sfer function.  An optimization routine attempts to determine the appropriate"
" initial states so that the specified initial output is achieved.  For more d"
"etails, see the m-file getxo.m"
	      MaskPromptString	      "Numerator:|Denominator:|Initial output:"
"|Initial input:"
	      MaskStyleString	      "edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on"
	      MaskCallbackString      "|||"
	      MaskEnableString	      "on,on,on,on"
	      MaskVisibilityString    "on,on,on,on"
	      MaskToolTipString	      "on,on,on,on"
	      MaskVarAliasString      ",,,"
	      MaskVariables	      "N=@1;D=@2;Y0=@3;U0=@4;"
	      MaskInitialization      "[A,B,C,Dd]=tf2ss(N,D);if (isempty(Y0));"
"[m,n]=size(A);X0=zeros(1,m); end; if (isempty(U0));[m,p]=size(B);U0=zeros(1,p"
");end;\n if isempty(A),  X0=[]; else ,X0=getxo(A,B,C,Dd,U0,Y0,0); end\n"
	      MaskDisplay	      "dpoly(N,D,'s')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "1|[ tr 1]|v0(1)|v0(1)"
	      MaskTabNameString	      ",,,"
	      System {
		Name			"Low Pass Filter\n1 \\ (tr.s+1)\n(with"
" IC)"
		Location		[664, 99, 884, 187]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  StateSpace
		  Name			  "State Space"
		  Position		  [80, 27, 140, 63]
		  A			  "A"
		  B			  "B"
		  C			  "C"
		  D			  "Dd"
		  X0			  "X0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [165, 38, 195, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "State Space"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "State Space"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Main Regulator\nka \\ (ta.s+1)"
	      Ports		      [1, 1]
	      Position		      [505, 62, 565, 98]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Transfer Function with Initial Outputs"
	      MaskDescription	      "Vector expressions for numerator, and d"
"enominator. Coefficients are in descending powers of s."
	      MaskHelp		      "Specify the initial output for the tran"
"sfer function.  An optimization routine attempts to determine the appropriate"
" initial states so that the specified initial output is achieved.  For more d"
"etails, see the m-file getxo.m"
	      MaskPromptString	      "Numerator:|Denominator:|Initial output:"
"|Initial input:"
	      MaskStyleString	      "edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on"
	      MaskCallbackString      "|||"
	      MaskEnableString	      "on,on,on,on"
	      MaskVisibilityString    "on,on,on,on"
	      MaskToolTipString	      "on,on,on,on"
	      MaskVarAliasString      ",,,"
	      MaskVariables	      "N=@1;D=@2;Y0=@3;U0=@4;"
	      MaskInitialization      "[A,B,C,Dd]=tf2ss(N,D);if (isempty(Y0));"
"[m,n]=size(A);X0=zeros(1,m); end; if (isempty(U0));[m,p]=size(B);U0=zeros(1,p"
");end;\n if isempty(A),  X0=[]; else ,X0=getxo(A,B,C,Dd,U0,Y0,0); end\n"
	      MaskDisplay	      "dpoly(N,D,'s')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "ka|[ ta 1]|ke*v0(2)|ke*v0(2)/ka"
	      MaskTabNameString	      ",,,"
	      System {
		Name			"Main Regulator\nka \\ (ta.s+1)"
		Location		[664, 99, 884, 187]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  StateSpace
		  Name			  "State Space"
		  Position		  [80, 27, 140, 63]
		  A			  "A"
		  B			  "B"
		  C			  "C"
		  D			  "Dd"
		  X0			  "X0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [165, 38, 195, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "State Space"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "State Space"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [50, 42, 80, 113]
	      ShowName		      off
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "Positive Seqence\nVoltage"
	      Position		      [95, 66, 205, 94]
	      Expr		      "sqrt(u(1)^2 + u(2)^2)"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [5, 1]
	      Position		      [340, 45, 370, 115]
	      ShowName		      off
	      Inputs		      "++-+-"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vf0 \\ ka"
	      Position		      [170, 23, 230, 47]
	      Value		      "v0(2)/ka"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "proportionnal\nsaturation"
	      Ports		      [2, 1]
	      Position		      [595, 67, 635, 123]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"proportionnal\nsaturation"
		Location		[50, 257, 751, 564]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Efd"
		  Position		  [25, 43, 55, 57]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vtf"
		  Position		  [25, 83, 55, 97]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [65, 115, 85, 135]
		  ShowName		  off
		  Value			  "kp"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [215, 56, 255, 74]
		  ShowName		  off
		  Value			  "efmin"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [65, 145, 85, 165]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion"
		  Position		  [425, 54, 450, 76]
		  BackgroundColor	  "cyan"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [425, 99, 450, 121]
		  BackgroundColor	  "cyan"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [425, 129, 450, 151]
		  BackgroundColor	  "cyan"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion3"
		  Position		  [155, 139, 170, 161]
		  BackgroundColor	  "cyan"
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [2, 1]
		  Position		  [375, 53, 405, 77]
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [1, 1]
		  Position		  [375, 98, 405, 122]
		  ShowName		  off
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator2"
		  Ports			  [1, 1]
		  Position		  [375, 128, 405, 152]
		  ShowName		  off
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [480, 48, 510, 72]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [480, 85, 510, 120]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [480, 130, 510, 165]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [105, 138, 135, 162]
		  ShowName		  off
		  Operator		  "=="
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator1"
		  Position		  [305, 128, 330, 152]
		  ShowName		  off
		  Operator		  "<"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator2"
		  Position		  [305, 41, 330, 74]
		  ShowName		  off
		  Operator		  ">"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [255, 135, 275, 155]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [3, 1]
		  Position		  [540, 38, 555, 172]
		  ShowName		  off
		  Inputs		  "+++"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Vfdmax"
		  Position		  [190, 129, 235, 171]
		  ShowName		  off
		  Gain			  "efmax"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Vfdmax1"
		  Position		  [80, 77, 105, 103]
		  ShowName		  off
		  Gain			  "kp"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Ef"
		  Position		  [580, 98, 610, 112]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Data Type \nConversion3"
		  SrcPort		  1
		  DstBlock		  "Vfdmax"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator2"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Ef"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Efd"
		  SrcPort		  1
		  Points		  [225, 0]
		  Branch {
		    Points		    [0, -20; 180, 0]
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 85]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 30]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Relational\nOperator1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [5, 0; 0, -70]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Relational\nOperator2"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 10]
		    DstBlock		    "Product2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Vfdmax1"
		  SrcPort		  1
		  Points		  [130, 0]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vfdmax"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vtf"
		  SrcPort		  1
		  DstBlock		  "Vfdmax1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vf"
	      Position		      [840, 85, 860, 105]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "proportionnal\nsaturation"
	      SrcPort		      1
	      DstBlock		      "Exciter\n1 \\(te.s +ke)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Lead Lag Compensator\ntc.s+1\\tb.s+1"
	      SrcPort		      1
	      DstBlock		      "Main Regulator\nka \\ (ta.s+1)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Lead Lag Compensator\ntc.s+1\\tb.s+1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Positive Seqence\nVoltage"
	      SrcPort		      1
	      DstBlock		      "Low Pass Filter\n1 \\ (tr.s+1)\n(with I"
"C)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vq"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "vd"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Positive Seqence\nVoltage"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vref"
	      SrcPort		      1
	      Points		      [290, 0]
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vstab"
	      SrcPort		      1
	      Points		      [260, 0; 0, -40]
	      DstBlock		      "Sum"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "Low Pass Filter\n1 \\ (tr.s+1)\n(with I"
"C)"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		Points			[0, 70; 270, 0]
		DstBlock		"proportionnal\nsaturation"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Sum"
		DstPort			3
	      }
	    }
	    Line {
	      SrcBlock		      "Vf0 \\ ka"
	      SrcPort		      1
	      Points		      [75, 0; 0, 30]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Main Regulator\nka \\ (ta.s+1)"
	      SrcPort		      1
	      DstBlock		      "proportionnal\nsaturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Damping\nkf.s\\ (tf.s +1)"
	      SrcPort		      1
	      Points		      [-265, 0]
	      DstBlock		      "Sum"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Exciter\n1 \\(te.s +ke)"
	      SrcPort		      1
	      Points		      [40, 0]
	      Branch {
		Points			[0, 100]
		DstBlock		"Damping\nkf.s\\ (tf.s +1)"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Vf"
		DstPort			1
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "GTO-IGBT Bridge"
	  Ports			  [2, 3]
	  Position		  [25, 207, 70, 273]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "GTO & IGBT Bridge Logic"
	  MaskDescription	  "Generates the switch status ( 0 or 1) and t"
"he tail currents for a forced-commutated two- level bridge using GTO/Diode or"
" IGBT/Diode pairs.\nSpecify  3 arms (6 switches) for 3 phase bridge, 2 arms f"
"or 4 switches, or 1 arm.\nTo turn-off the tail current, specify Tf=0 and Tt=0"
"."
	  MaskPromptString	  "Number of bridge arms (1,2 or 3)|Curent 10%"
" fall time Tf (s) :|Current tail time Tt (s) :|Snubber Capacitance Cs (F):|Fo"
"rward voltages [ Vf Vfd ]|Device resistances"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on"
	  MaskCallbackString	  "|||||"
	  MaskEnableString	  "on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,"
	  MaskVariables		  "nb_arm=@1;Tf=@2;Tt=@3;Cs=@4;VFs=@5;Rsw=@6;"
	  MaskInitialization	  "Vf=VFs(1);\nVfd=VFs(2);\nnb_switch=nb_arm*2"
";\nif nb_arm==1,\n   Selec_Diode=[2 1];\nelseif nb_arm==2,\n   Selec_Diode=[2"
" 1 4 3];\nelseif nb_arm==3,\n   Selec_Diode=[2 1 4 3 6 5];\nend"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "3|1e-006|2e-006|Inf|[0 0]|1"
	  MaskTabNameString	  ",,,,,"
	  System {
	    Name		    "GTO-IGBT Bridge"
	    Location		    [37, 71, 829, 594]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v "
	      Position		      [20, 267, 50, 283]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [20, 317, 50, 333]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1/Rsw"
	      Position		      [60, 225, 90, 255]
	      Orientation	      "up"
	      Gain		      "1./Rsw"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "2"
	      Position		      [490, 201, 560, 229]
	      ShowName		      off
	      Value		      "Tf>0 | Tt>0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [20, 150, 50, 170]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion1"
	      Position		      [640, 125, 690, 145]
	      NamePlacement	      "alternate"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion3"
	      Position		      [160, 143, 210, 167]
	      NamePlacement	      "alternate"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion4"
	      Position		      [75, 313, 125, 337]
	      NamePlacement	      "alternate"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion5"
	      Position		      [445, 46, 465, 64]
	      NamePlacement	      "alternate"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Diode Logic"
	      Ports		      [3, 1]
	      Position		      [360, 27, 415, 83]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Diode Logic"
		Location		[585, 481, 1097, 816]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vak"
		  Position		  [15, 30, 35, 50]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Ipos"
		  Position		  [15, 235, 35, 255]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "G"
		  Position		  [15, 100, 35, 120]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 2"
		  Position		  [155, 45, 175, 65]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 3"
		  Position		  [110, 180, 150, 200]
		  ShowName		  off
		  Value			  "Cs==inf"
		}
		Block {
		  BlockType		  Logic
		  Name			  "1"
		  Ports			  [2, 1]
		  Position		  [380, 86, 410, 119]
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "2"
		  Ports			  [2, 1]
		  Position		  [435, 146, 465, 179]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Logic
		  Name			  "3"
		  Ports			  [2, 1]
		  Position		  [270, 101, 300, 134]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Block D"
		  Ports			  [1, 1]
		  Position		  [225, 170, 265, 200]
		  Orientation		  "up"
		  Elements		  "Selec_Diode"
		  InputPortWidth	  "nb_switch"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Blocking Diodes"
		  Ports			  [1, 1]
		  Position		  [140, 87, 200, 133]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Blocking Diodes"
		    Location		    [405, 548, 1030, 732]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "G"
		    Position		    [40, 60, 70, 80]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Bloque D214365"
		    Ports		    [1, 1]
		    Position		    [410, 53, 440, 107]
		    Elements		    "Selec_Diode"
		    InputPortWidth	    "nb_switch"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [215, 54, 245, 86]
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [140, 55, 170, 85]
		    DropShadow		    on
		    InheritSampleTime	    on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Pulse 1 step"
		    Ports		    [2, 1]
		    Position		    [305, 62, 335, 93]
		    Port {
		    PortNumber		    1
		    Name		    "Blockinkg "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Block.D"
		    Position		    [490, 70, 520, 90]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Bloque D214365"
		    SrcPort		    1
		    DstBlock		    "Block.D"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Blockinkg "
		    Labels		    [0, 0]
		    SrcBlock		    "Pulse 1 step"
		    SrcPort		    1
		    DstBlock		    "Bloque D214365"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Pulse 1 step"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "G"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50; 190, 0]
		    DstBlock		    "Pulse 1 step"
		    DstPort		    2
		    }
		    }
		  }
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion3"
		  Position		  [275, 40, 320, 60]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator3"
		  Ports			  [1, 1]
		  Position		  [325, 105, 355, 135]
		  ShowName		  off
		  Operator		  "NOT"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Trig.  Diodes\n(No Snubber Capacita"
"nce)"
		  Ports			  [2, 1, 1]
		  Position		  [155, 209, 215, 256]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Trig.  Diodes\n(No Snubber Capaci"
"tance)"
		    Location		    [144, 406, 778, 639]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "G"
		    Position		    [40, 60, 70, 80]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Ipos"
		    Position		    [40, 155, 70, 175]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [150, 180, 170, 200]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion3"
		    Position		    [270, 155, 315, 175]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [210, 54, 240, 86]
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [145, 110, 175, 140]
		    DropShadow		    on
		    InheritSampleTime	    on
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Pulse 1 step"
		    Ports		    [3, 1]
		    Position		    [400, 62, 430, 98]
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Trig D214365"
		    Ports		    [1, 1]
		    Position		    [485, 53, 515, 107]
		    Elements		    "Selec_Diode"
		    InputPortWidth	    "nb_switch"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Trig D"
		    Position		    [580, 70, 610, 90]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Trig D214365"
		    SrcPort		    1
		    DstBlock		    "Trig D"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Pulse 1 step"
		    SrcPort		    1
		    DstBlock		    "Trig D214365"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    Points		    [100, 0; 0, -45]
		    DstBlock		    "Pulse 1 step"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Pulse 1 step"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "G"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Ipos"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion3"
		    SrcPort		    1
		    Points		    [20, 0; 0, -75]
		    DstBlock		    "Pulse 1 step"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b6"
		  Position		  [205, 34, 230, 61]
		  ShowName		  off
		  Operator		  ">"
		}
		Block {
		  BlockType		  Outport
		  Name			  "status"
		  Position		  [480, 155, 500, 175]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "0 3"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "Trig.  Diodes\n(No Snubber Capacita"
"nce)"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Ipos"
		  SrcPort		  1
		  DstBlock		  "Trig.  Diodes\n(No Snubber Capacita"
"nce)"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "G"
		  SrcPort		  1
		  Points		  [55, 0]
		  Branch {
		    Points		    [0, 110]
		    DstBlock		    "Trig.  Diodes\n(No Snubber Capaci"
"tance)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Blocking Diodes"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "0 2"
		  SrcPort		  1
		  DstBlock		  "b6"
		  DstPort		  2
		}
		Line {
		  Labels		  [1, 0]
		  SrcBlock		  "Vak"
		  SrcPort		  1
		  DstBlock		  "b6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Blocking Diodes"
		  SrcPort		  1
		  DstBlock		  "3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "2"
		  SrcPort		  1
		  DstBlock		  "status"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator3"
		  SrcPort		  1
		  Points		  [0, -10]
		  DstBlock		  "1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "3"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Trig.  Diodes\n(No Snubber Capacita"
"nce)"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [175, 0]
		    DstBlock		    "2"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Block D"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Block D"
		  SrcPort		  1
		  Points		  [0, -40]
		  DstBlock		  "3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "b6"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion3"
		  SrcPort		  1
		  Points		  [40, 0]
		  DstBlock		  "1"
		  DstPort		  1
		}
		Annotation {
		  Name			  "Note : Block D1 (D2) if D2 (D1) is "
"triggered (no Cs)"
		  Position		  [172, 308]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "GTO Logic"
	      Ports		      [2, 1]
	      Position		      [380, 181, 455, 234]
	      NamePlacement	      "alternate"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"GTO Logic"
		Location		[35, 92, 471, 295]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vak"
		  Position		  [15, 44, 35, 66]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "G"
		  Position		  [15, 131, 35, 149]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  " "
		  Position		  [170, 133, 190, 162]
		  Operator		  ">"
		}
		Block {
		  BlockType		  Constant
		  Name			  "    "
		  Position		  [50, 145, 75, 165]
		  Value			  "0"
		}
		Block {
		  BlockType		  Logic
		  Name			  ". "
		  Ports			  [2, 1]
		  Position		  [300, 85, 330, 125]
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [155, 55, 205, 75]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion3"
		  Position		  [225, 140, 270, 160]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion4"
		  Position		  [100, 145, 145, 165]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Vpos"
		  Position		  [50, 59, 80, 81]
		  Value			  "0"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b"
		  Position		  [115, 48, 135, 77]
		  Operator		  ">"
		}
		Block {
		  BlockType		  Outport
		  Name			  "status"
		  Position		  [385, 95, 405, 115]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  ". "
		  SrcPort		  1
		  DstBlock		  "status"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vak"
		  SrcPort		  1
		  DstBlock		  "b"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vpos"
		  SrcPort		  1
		  DstBlock		  "b"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "G"
		  SrcPort		  1
		  DstBlock		  " "
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "b"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  Points		  [75, 0]
		  DstBlock		  ". "
		  DstPort		  1
		}
		Line {
		  SrcBlock		  " "
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion3"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  ". "
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "    "
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion4"
		  SrcPort		  1
		  DstBlock		  " "
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "G_D"
	      Ports		      [2, 1]
	      Position		      [525, 116, 555, 149]
	      ShowName		      off
	      Operator		      "OR"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [295, 110, 325, 140]
	      Orientation	      "up"
	      ShowName		      off
	      Gain		      "-1"
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory"
	      Position		      [580, 120, 610, 150]
	      InheritSampleTime	      on
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory1"
	      Position		      [425, 245, 455, 275]
	      InheritSampleTime	      on
	    }
	    Block {
	      BlockType		      Memory
	      Name		      "Memory2"
	      Position		      [660, 30, 690, 60]
	      InheritSampleTime	      on
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [240, 145, 275, 180]
	      ShowName		      off
	      RndMeth		      "Floor"
	      Port {
		PortNumber		1
		Name			"IGTO"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      Position		      [95, 135, 130, 170]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Tail "
	      Ports		      [2, 1, 1]
	      Position		      [550, 247, 605, 303]
	      TreatAsAtomicUnit	      on
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Gto tail current"
	      MaskPromptString	      "Current 10% fall time Tf (s) : |Current"
" tail time Tt (s) :"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVarAliasString      ","
	      MaskVariables	      "Tf=@1;Tt=@2;"
	      MaskInitialization      "\n\n\n\n\n\n\n\n\n\n\n\n\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Tf|Tt"
	      MaskTabNameString	      ","
	      System {
		Name			"Tail "
		Location		[548, 450, 1069, 803]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Iak"
		  Position		  [45, 185, 65, 205]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "switch"
		  Position		  [45, 115, 65, 135]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  Ports			  []
		  Position		  [15, 315, 35, 335]
		  StatesWhenEnabling	  "reset"
		}
		Block {
		  BlockType		  Constant
		  Name			  "1"
		  Position		  [50, 44, 85, 66]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "2"
		  Position		  [245, 231, 295, 259]
		  ShowName		  off
		  Value			  "(Tf+Tt)>0"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [315, 235, 365, 255]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [2, 1]
		  Position		  [145, 47, 175, 78]
		  ExternalReset		  "falling"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Look-Up Table"
		  Position		  [210, 41, 260, 89]
		  DialogController	  "Simulink.DDGSource"
		  InputValues		  "[  0   Tf+eps Tf+Tt+2*eps  Tf+Tt+3*"
"eps]"
		  OutputValues		  "[  1   0.1*(Tt>0) 0 0]"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [170, 260, 200, 290]
		  Orientation		  "left"
		  DropShadow		  on
		  InheritSampleTime	  on
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [3, 1]
		  Position		  [390, 187, 420, 223]
		  Inputs		  "3"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [170, 190, 200, 220]
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Outport
		  Name			  "itail"
		  Position		  [455, 195, 475, 215]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "2"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Look-Up Table"
		  SrcPort		  1
		  Points		  [25, 0; 0, 130]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Iak"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "switch"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    Points		    [0, 80]
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -55]
		    DstBlock		    "Integrator"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  DstBlock		  "Look-Up Table"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "itail"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 70]
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [-55, 0; 0, -60]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "Product"
		  DstPort		  3
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Vf "
	      Ports		      [1, 1]
	      Position		      [530, 19, 615, 71]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Vf "
		Location		[356, 323, 711, 474]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "status_GTO"
		  Position		  [85, 63, 115, 77]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [190, 55, 220, 85]
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Vf device"
		  Position		  [25, 23, 145, 47]
		  Value			  "Vf*ones(nb_switch,1)"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Vf diode"
		  Position		  [25, 98, 145, 122]
		  Value			  "-Vfd*ones(nb_switch,1)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vf"
		  Position		  [300, 63, 330, 77]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "[0]"
		}
		Line {
		  SrcBlock		  "status_GTO"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Vf"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vf diode"
		  SrcPort		  1
		  Points		  [10, 0; 0, -30]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Vf device"
		  SrcPort		  1
		  Points		  [15, 0; 0, 25]
		  DstBlock		  "Switch"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "iTail"
	      Position		      [710, 268, 740, 282]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Status"
	      Position		      [710, 127, 740, 143]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vf"
	      Position		      [720, 37, 750, 53]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Line {
	      SrcBlock		      "Memory2"
	      SrcPort		      1
	      DstBlock		      "Vf"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "GTO Logic"
	      SrcPort		      1
	      Points		      [15, 0; 0, -70]
	      Branch {
		Points			[0, -95]
		DstBlock		"Vf "
		DstPort			1
	      }
	      Branch {
		Points			[-130, 0]
		DstBlock		"Diode Logic"
		DstPort			3
	      }
	      Branch {
		DstBlock		"G_D"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Vf "
	      SrcPort		      1
	      DstBlock		      "Memory2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "v "
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		Points			[235, 0; 0, -80]
		Branch {
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "GTO Logic"
		  DstPort		  1
		}
	      }
	      Branch {
		DstBlock		"1/Rsw"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Tail "
	      SrcPort		      1
	      DstBlock		      "iTail"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "2"
	      SrcPort		      1
	      Points		      [10, 0]
	      DstBlock		      "Tail "
	      DstPort		      enable
	    }
	    Line {
	      SrcBlock		      "G_D"
	      SrcPort		      1
	      DstBlock		      "Memory"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Memory1"
	      SrcPort		      1
	      DstBlock		      "Tail "
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      Points		      [0, -70]
	      DstBlock		      "Diode Logic"
	      DstPort		      1
	    }
	    Line {
	      Name		      "IGTO"
	      Labels		      [0, 0]
	      SrcBlock		      "Product"
	      SrcPort		      1
	      Points		      [0, 95]
	      DstBlock		      "Memory1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Memory"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion1"
	      SrcPort		      1
	      DstBlock		      "Status"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion3"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		DstBlock		"Data Type \nConversion3"
		DstPort			1
	      }
	      Branch {
		Points			[0, -100]
		DstBlock		"Diode Logic"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion4"
	      SrcPort		      1
	      Points		      [195, 0]
	      Branch {
		Points			[210, 0]
		DstBlock		"Tail "
		DstPort			2
	      }
	      Branch {
		Points			[0, -105]
		DstBlock		"GTO Logic"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Diode Logic"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion5"
	      SrcPort		      1
	      Points		      [40, 0]
	      DstBlock		      "G_D"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "1/Rsw"
	      SrcPort		      1
	      Points		      [0, -50]
	      Branch {
		Points			[0, -25]
		DstBlock		"Relational\nOperator"
		DstPort			1
	      }
	      Branch {
		Points			[0, 0]
		DstBlock		"Product"
		DstPort			2
	      }
	    }
	    Annotation {
	      Name		      "GTO:\n tail current can be turned off b"
"y specifying Tf=0 and Tt=0"
	      Position		      [241, 463]
	      FontSize		      12
	    }
	    Annotation {
	      Name		      "Diode Logic :\n1) Diodes are blocked wh"
"en complementary GTOs are switched on\n2) When no snubber capacitances are us"
"ed (Cs=inf), diodes are triggered \nwhen complementary GTOs are swithed off"
	      Position		      [251, 408]
	      FontSize		      12
	    }
	    Annotation {
	      Name		      "6"
	      Position		      [669, 450]
	    }
	    Annotation {
	      Name		      "5"
	      Position		      [669, 385]
	    }
	    Annotation {
	      Name		      "***************************************"
"********"
	      Position		      [590, 487]
	    }
	    Annotation {
	      Name		      "C"
	      Position		      [694, 418]
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "*\n*\n||\n||\n*\n*\n*\n||\n||\n*\n*"
	      Position		      [680, 414]
	    }
	    Annotation {
	      Name		      "B"
	      Position		      [639, 418]
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "A"
	      Position		      [579, 418]
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Vcc"
	      Position		      [499, 413]
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "***************************************"
"********"
	      Position		      [585, 342]
	    }
	    Annotation {
	      Name		      "4"
	      Position		      [614, 445]
	    }
	    Annotation {
	      Name		      "3"
	      Position		      [614, 385]
	    }
	    Annotation {
	      Name		      "*\n*\n||\n||\n*\n*\n*\n||\n||\n*\n*"
	      Position		      [625, 414]
	    }
	    Annotation {
	      Name		      "-"
	      Position		      [499, 470]
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "+"
	      Position		      [494, 355]
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "2"
	      Position		      [554, 445]
	    }
	    Annotation {
	      Name		      "1"
	      Position		      [554, 385]
	    }
	    Annotation {
	      Name		      "*\n*\n||\n||\n*\n*\n*\n||\n||\n*\n*"
	      Position		      [565, 414]
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "HTG"
	  Ports			  [5, 2]
	  Position		  [355, 207, 400, 283]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Hydraulic Turbine and Governor"
	  MaskDescription	  "Implements a hydraulic turbine combined to "
"a PID governor system.\n\n1st input: desired speed (p.u.);\n2nd input: desire"
"d electrical power (p.u.);\n3rd input: synchronous machine's actual speed (p."
"u., measurement output 13 of SM block);\n4th input: synchronous machine's act"
"ual electrical power (p.u., measurement output 14 of SM block);\n5th input: s"
"ynchronous machine's actual speed deviation with respect to nominal (%, measu"
"rement output 15 of SM block);\n\n1st output: mechanical power to be applied "
"to the Synchronous Machine block's 1st input (p.u.);\n2nd output: gate openin"
"g (p.u.)."
	  MaskHelp		  "web(psbhelp);"
	  MaskPromptString	  "Servo-motor [ Ka()  Ta(sec) ]:|Gate opening"
" limits [ gmin,gmax(pu)    vgmin,vgmax(pu/s) ]:|Permanent droop and regulator"
"  [ Rp() Kp() Ki() Kd() Td(s) ]:|Hydraulic turbine [ beta()  Tw(sec) ]:|Droop"
" reference (0=power error, 1=gate opening):|Initial mechanical power (pu):"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on"
	  MaskCallbackString	  "|||||"
	  MaskEnableString	  "on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,"
	  MaskVariables		  "sm=@1;gate=@2;reg=@3;hyd=@4;dref=@5;po=@6;"
	  MaskInitialization	  "ka=sm(1);ta=sm(2);gmin=gate(1);gmax=gate(2)"
";vgmin=gate(3);vgmax=gate(4);Rp=reg(1);kp=reg(2);ki=reg(3);kd=reg(4);td=reg(5"
");beta=hyd(1);tw=hyd(2);go=po*(gmax-gmin);"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "sm|gate|reg|hyd|dref|po"
	  MaskTabNameString	  ",,,,,"
	  System {
	    Name		    "HTG"
	    Location		    [116, 58, 504, 299]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "wref"
	      Position		      [5, 40, 25, 60]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "Pref"
	      Position		      [5, 115, 25, 135]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "we"
	      Position		      [5, 75, 25, 95]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "Pe"
	      Position		      [5, 155, 25, 175]
	      Port		      "4"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "dw"
	      Position		      [5, 5, 25, 25]
	      Port		      "5"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [235, 127, 260, 143]
	      Orientation	      "left"
	      ShowName		      off
	      Value		      "dref"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "PID"
	      Ports		      [1, 1]
	      Position		      [130, 62, 155, 88]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "PID(2) Controller"
	      MaskDisplay	      "disp('PID')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"PID"
		Location		[62, 165, 305, 341]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "error"
		  Position		  [5, 55, 25, 75]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  TransferFcn
		  Name			  "Derivative"
		  Position		  [50, 95, 100, 135]
		  Numerator		  "[ kd 0]"
		  Denominator		  "[ td 1 ]"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Integral"
		  Position		  [60, 51, 95, 79]
		  Gain			  "ki"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  Ports			  [1, 1]
		  Position		  [120, 55, 140, 75]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  InitialCondition	  "go"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Proportional"
		  Position		  [60, 6, 95, 34]
		  Gain			  "kp"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [165, 47, 185, 83]
		  ShowName		  off
		  Inputs		  "+++"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Output"
		  Position		  [200, 55, 220, 75]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Integral"
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "error"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Integral"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 0]
		    Branch {
		    Points		    [5, 0; 0, -45]
		    DstBlock		    "Proportional"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [5, 0]
		    DstBlock		    "Derivative"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Output"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Derivative"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Proportional"
		  SrcPort		  1
		  Points		  [50, 0]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [45, 34, 60, 101]
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [85, 65, 105, 85]
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum5"
	      Ports		      [2, 1]
	      Position		      [45, 149, 60, 171]
	      ShowName		      off
	      Inputs		      "-+"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [180, 112, 210, 158]
	      Orientation	      "left"
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "permanent\ndroop"
	      Position		      [115, 120, 150, 150]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      Gain		      "Rp"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "servo-motor"
	      Ports		      [1, 1]
	      Position		      [180, 60, 225, 90]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('servo-\\nmotor')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"servo-motor"
		Location		[64, 393, 435, 486]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "regulator's\noutput"
		  Position		  [25, 30, 45, 50]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  Ports			  [2, 1]
		  Position		  [95, 34, 115, 56]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "position"
		  Ports			  [1, 1]
		  Position		  [250, 30, 285, 60]
		  NamePlacement		  "alternate"
		  InitialCondition	  "go"
		  LimitOutput		  on
		  UpperSaturationLimit	  "gmax"
		  LowerSaturationLimit	  "gmin"
		}
		Block {
		  BlockType		  TransferFcn
		  Name			  "servo-\nmotor"
		  Position		  [135, 28, 175, 62]
		  NamePlacement		  "alternate"
		  Numerator		  "[ka]"
		  Denominator		  "[ta 1]"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "speed\nlimit"
		  Position		  [200, 33, 225, 57]
		  NamePlacement		  "alternate"
		  UpperLimit		  "vgmax"
		  LowerLimit		  "vgmin"
		}
		Block {
		  BlockType		  Outport
		  Name			  "gate\nopening"
		  Position		  [320, 35, 340, 55]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "position"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 25; -230, 0; 0, -20]
		    DstBlock		    "Sum4"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "gate\nopening"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "speed\nlimit"
		  SrcPort		  1
		  DstBlock		  "position"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "servo-\nmotor"
		  SrcPort		  1
		  DstBlock		  "speed\nlimit"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  DstBlock		  "servo-\nmotor"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "regulator's\noutput"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "turbine"
	      Ports		      [2, 1]
	      Position		      [260, 47, 320, 83]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('hydraulic\\nturbine')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"turbine"
		Location		[552, 40, 982, 222]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "dw"
		  Position		  [15, 10, 35, 30]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "gate\nopening"
		  Position		  [15, 50, 35, 70]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [320, 120, 340, 140]
		  Orientation		  "left"
		  ShowName		  off
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn"
		  Position		  [165, 59, 240, 81]
		  ShowName		  off
		  Expr			  "(u(2)/u(1))^2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  Position		  [210, 107, 245, 143]
		  Orientation		  "left"
		  ShowName		  off
		  Gain			  "1/tw"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [170, 115, 190, 135]
		  Orientation		  "left"
		  ShowName		  off
		  InitialCondition	  "po"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [110, 51, 140, 84]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [325, 48, 355, 112]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [2, 1]
		  Position		  [265, 55, 285, 75]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [265, 115, 285, 135]
		  Orientation		  "left"
		  ShowName		  off
		  Inputs		  "-+"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Gain
		  Name			  "beta"
		  Position		  [80, 7, 105, 33]
		  Gain			  "beta"
		}
		Block {
		  BlockType		  Gain
		  Name			  "turbine\ngain"
		  Position		  [60, 47, 85, 73]
		  Gain			  "1/(gmax-gmin)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Pm"
		  Position		  [380, 70, 400, 90]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "turbine\ngain"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gate\nopening"
		  SrcPort		  1
		  DstBlock		  "turbine\ngain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [-70, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Fcn"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Fcn"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Pm"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Sum3"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "beta"
		  SrcPort		  1
		  Points		  [135, 0; 0, 40]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "dw"
		  SrcPort		  1
		  DstBlock		  "beta"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Pm"
	      Position		      [340, 55, 360, 75]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "gate"
	      Position		      [340, 110, 360, 130]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "permanent\ndroop"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Pe"
	      SrcPort		      1
	      DstBlock		      "Sum5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Pref"
	      SrcPort		      1
	      DstBlock		      "Sum5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "PID"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "permanent\ndroop"
	      SrcPort		      1
	      Points		      [-40, 0]
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "PID"
	      SrcPort		      1
	      DstBlock		      "servo-motor"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "wref"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "we"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum5"
	      SrcPort		      1
	      Points		      [160, 0]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "servo-motor"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"turbine"
		DstPort			2
	      }
	      Branch {
		Points			[0, 45; 0, 0]
		Branch {
		  DstBlock		  "gate"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "Switch"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "dw"
	      SrcPort		      1
	      Points		      [215, 0]
	      DstBlock		      "turbine"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "turbine"
	      SrcPort		      1
	      DstBlock		      "Pm"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Impedance Measurement"
	  Ports			  [1, 1]
	  Position		  [480, 309, 525, 371]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Impedance Measurement model"
	  MaskDescription	  "Simulink model for the Impedance Measuremen"
"t block. The model  injects a null current in the circuit."
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Impedance Measurement"
	    Location		    [459, 595, 726, 697]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [20, 40, 40, 60]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      Position		      [110, 40, 130, 60]
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [75, 40, 95, 60]
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [175, 40, 195, 60]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "MBPSS"
	  Ports			  [1, 1]
	  Position		  [230, 310, 275, 380]
	  BackgroundColor	  "green"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "MB-PSS "
	  MaskDescription	  "This block implements a Multi-band Power Sy"
"stem Stabilizer (MB-PSS). Two operation modes are available: Detailed setting"
" and simplified setting (IEEE Std 421.5).\n\nInput (dw): Synchronous machine "
"speed deviation with respect to nominal (pu).\nOutput: stabilization voltage "
"(pu).\n\nNote:\nWhen \"Detailed settings\" is used, the low(L)-, intermediate"
"(I)- and high(H)-frequency time constants must be given in the following orde"
"r:\nTx1 to Tx12 followed by Kx11 and Kx17 (where x=L, I or H). Look under mas"
"k to see in which transfer functions these time constants are used.\n"
	  MaskPromptString	  "Mode of operation:|Global gain:|Low frequen"
"cy band: [ FL(Hz), KL ]|Intermediate frequency band: [ FI(Hz), KI ]|High freq"
"uency band: [ FH(Hz), KH ]|Low frequency gains: [ KL1, KL2, KL ]|Low frequenc"
"y  time constants (s):|Intermediate frequency gains: [ KI1, KI2, KI ]|Interme"
"diate frequency time constants (s):|High frequency gains: [ KH1, KH2, KH ]|Hi"
"gh frequency time constants (s):|Signals Limits(VLmax,VImax,VHmax,VSmax)|Plot"
" frequency response|Magnitude in dB|Frequency range (Hz):"
	  MaskStyleString	  "popup(Simplified settings|Detailed settings"
"),edit,edit,edit,edit,edit,edit,edit,edit,edit,edit,edit,checkbox,checkbox,ed"
"it"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n"
	  MaskCallbackString	  "parametres=get_param(gcb,'MaskValues');p1=p"
"arametres{1};p13=parametres{13};if strcmp(p1,'Detailed settings');param2='off"
"';param3='off';param4='off';param5='off';param6='on';param7='on';param8='on';"
"param9='on';param10='on';param11='on';else;param2='on';param3='on';param4='on"
"';param5='on';param6='off';param7='off';param8='off';param9='off';param10='of"
"f';param11='off';end;if strcmp(p13,'on');param14='on';param15='on';else;param"
"14='off';param15='off';end;visible={'on',param2,param3,param4,param5,param6,p"
"aram7,param8,param9,param10,param11,'on','on',param14,param15};set_param(gcb,"
"'MaskVisibilities',visible)||||||||||||parametres=get_param(gcb,'MaskValues')"
";p1=parametres{1};p13=parametres{13};if strcmp(p1,'Detailed settings');param2"
"='off';param3='off';param4='off';param5='off';param6='on';param7='on';param8="
"'on';param9='on';param10='on';param11='on';else;param2='on';param3='on';param"
"4='on';param5='on';param6='off';param7='off';param8='off';param9='off';param1"
"0='off';param11='off';end;if strcmp(p13,'on');param14='on';param15='on';else;"
"param14='off';param15='off';end;visible={'on',param2,param3,param4,param5,par"
"am6,param7,param8,param9,param10,param11,'on','on',param14,param15};set_param"
"(gcb,'MaskVisibilities',visible)||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n"
	  MaskVisibilityString	  "on,off,off,off,off,on,on,on,on,on,on,on,on,"
"off,off"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n"
	  MaskVarAliasString	  ",,,,,,,,,,,,,,"
	  MaskVariables		  "OperationMode=@1;Kg=@2;GL=@3;GI=@4;GH=@5;GL"
"d=@6;TcLF=@7;GId=@8;TcIF=@9;GHd=@10;TcHF=@11;LIM=@12;Plot_On=@13;MagdB_On=@14"
";FreqRange=@15;"
	  MaskInitialization	  "Detailed=0;\nif OperationMode==2,\nDetailed"
"=1;\nKg=1;\nKL1=GLd(1);KL2=GLd(:,2);KL=GLd(3);\nTL1=TcLF(1);TL2=TcLF(2);TL3=T"
"cLF(3);TL4=TcLF(4);\nTL5=TcLF(5);TL6=TcLF(6);TL7=TcLF(7);TL8=TcLF(8);\nTL9=Tc"
"LF(9);TL10=TcLF(10);TL11=TcLF(11);TL12=TcLF(12);\nKL11=TcLF(13);KL17=TcLF(14)"
";\nKI1=GId(1);KI2=GId(:,2);KI=GId(3);\nTI1=TcIF(1);TI2=TcIF(2);TI3=TcIF(3);TI"
"4=TcIF(4);\nTI5=TcIF(5);TI6=TcIF(6);TI7=TcIF(7);TI8=TcIF(8);\nTI9=TcIF(9);TI1"
"0=TcIF(10);TI11=TcIF(11);TI12=TcIF(12);\nKI11=TcIF(13);KI17=TcIF(14);\nKH1=GH"
"d(1);KH2=GHd(:,2);KH=GHd(3);\nTH1=TcHF(1);TH2=TcHF(2);TH3=TcHF(3);TH4=TcHF(4)"
";\nTH5=TcHF(5);TH6=TcHF(6);TH7=TcHF(7);TH8=TcHF(8);\nTH9=TcHF(9);TH10=TcHF(10"
");TH11=TcHF(11);TH12=TcHF(12);\nKH11=TcHF(13);KH17=TcHF(14);\nelse\n%\nR=1.2;"
"K=(R*R+R)/(R*R-2*R+1);KL1=K;KL2=K;KI1=K;KI2=K;KH1=K;KH2=K;\nTL2=1/(2*pi*GL(1)"
"*sqrt(R));KL=GL(2);TL1=TL2/R;TL7=TL2;TL8=TL7*R;\n%\nTI2=1/(2*pi*GI(1)*sqrt(R)"
");KI=GI(2);TI1=TI2/R;TI7=TI2;TI8=TI7*R;\nTH2=1/(2*pi*GH(1)*sqrt(R));KH=GH(2);"
"TH1=TH2/R;TH7=TH2;TH8=TH7*R;\n%\nTL3=0;TL4=0;TL5=0;TL6=0;TL9=0;TL10=0;TL11=0;"
"TL12=0;\nTI3=0;TI4=0;TI5=0;TI6=0;TI9=0;TI10=0;TI11=0;TI12=0;\nTH3=0;TH4=0;TH5"
"=0;TH6=0;TH9=0;TH10=0;TH11=0;TH12=0;\nKL11=1;KL17=1;KI11=1;KI17=1;KH11=1;KH17"
"=1;\nend\nLIM_VL=LIM(1);LIM_VI=LIM(2);LIM_VH=LIM(3);LIM_VS=LIM(4);\n%\n% LF T"
"ransfer function\nnumLF1=[TL1 KL11];\ndenLF1=[TL2 1];\nsysLF1=tf(numLF1,denLF"
"1);\nnumLF2=[TL3 1];\ndenLF2=[TL4 1];\nsysLF2=tf(numLF2,denLF2);\nnumLF3=[TL5"
" 1];\ndenLF3=[TL6 1];\nsysLF3=tf(numLF3,denLF3);\nnumLF4=[TL7 KL17];\ndenLF4="
"[TL8 1];\nsysLF4=tf(numLF4,denLF4);\nnumLF5=[TL9 1];\ndenLF5=[TL10 1];\nsysLF"
"5=tf(numLF5,denLF5);\nnumLF6=[TL11 1];\ndenLF6=[TL12 1];\nsysLF6=tf(numLF6,de"
"nLF6);\n%\nsysLF=Kg*KL*((KL1*sysLF1*sysLF2*sysLF3) - (KL2*sysLF4*sysLF5*sysLF"
"6));\n%\n%\n% IF transfer function\nnumIF1=[TI1 KI11];\ndenIF1=[TI2 1];\nsysI"
"F1=tf(numIF1,denIF1);\nnumIF2=[TI3 1];\ndenIF2=[TI4 1];\nsysIF2=tf(numIF2,den"
"IF2);\nnumIF3=[TI5 1];\ndenIF3=[TI6 1];\nsysIF3=tf(numIF3,denIF3);\nnumIF4=[T"
"I7 KI17];\ndenIF4=[TI8 1];\nsysIF4=tf(numIF4,denIF4);\nnumIF5=[TI9 1];\ndenIF"
"5=[TI10 1];\nsysIF5=tf(numIF5,denIF5);\nnumIF6=[TI11 1];\ndenIF6=[TI12 1];\ns"
"ysIF6=tf(numIF6,denIF6);\n%\nsysIF=Kg*KI*((KI1*sysIF1*sysIF2*sysIF3) - (KI2*s"
"ysIF4*sysIF5*sysIF6));\n%\n%\n% HF transfer function\nnumHF1=[TH1 KH11];\nden"
"HF1=[TH2 1];\nsysHF1=tf(numHF1,denHF1);\nnumHF2=[TH3 1];\ndenHF2=[TH4 1];\nsy"
"sHF2=tf(numHF2,denHF2);\nnumHF3=[TH5 1];\ndenHF3=[TH6 1];\nsysHF3=tf(numHF3,d"
"enHF3);\nnumHF4=[TH7 KH17];\ndenHF4=[TH8 1];\nsysHF4=tf(numHF4,denHF4);\nnumH"
"F5=[TH9 1];\ndenHF5=[TH10 1];\nsysHF5=tf(numHF5,denHF5);\nnumHF6=[TH11 1];\nd"
"enHF6=[TH12 1];\nsysHF6=tf(numHF6,denHF6);\n%\nsysHF=Kg*KH*((KH1*sysHF1*sysHF"
"2*sysHF3) - (KH2*sysHF4*sysHF5*sysHF6));\n%\n%\n% Input filter LIF\nnumLIFin="
"[1.759e-3 1];\ndenLIFin=[1.2739e-4 1.7823e-2 1];\nsysLIFin=tf(numLIFin,denLIF"
"in);\n% Input filter HF\nnumHFin=[80 0 0];\ndenHFin=[1 82 161 80];\nsysHFin=t"
"f(numHFin,denHFin);\n%\n% Global transfer function:\nsysL=sysLIFin*sysLF;\nsy"
"sI=sysLIFin*sysIF;\nsysH=sysHFin*sysHF;\nsysG=sysL+sysI + sysH;\n%\n% Plot fr"
"equency response:\nif Plot_On==1,\n    w=2*pi*FreqRange;\n    [MagL,PhaseL]=b"
"ode(sysL,w);\n    [MagI,PhaseI]=bode(sysI,w);\n    [MagH,PhaseH]=bode(sysH,w)"
";\n    [MagG,PhaseG]=bode(sysG,w);\n    subplot(2,1,1)\n     if  MagdB_On==1,"
"\n        YL= 20*log10(squeeze(MagL)) ;\n        YI= 20*log10(squeeze(MagI)) "
";\n        YH= 20*log10(squeeze(MagH)) ;\n        YG= 20*log10(squeeze(MagG))"
" ;\n         strLabel='dB';\nelse\nYL=squeeze(MagL);\nYI=squeeze(MagI);\nYH=s"
"queeze(MagH);\nYG=squeeze(MagG);\nstrLabel='pu/pu';\nend\nsemilogx(FreqRange,"
"YL,'m',FreqRange,YI,'g',FreqRange,YH,'b',FreqRange,YG,'r')\nylabel(strLabel);"
"grid;\nlegend('LF band','IF band','HF band','Global',2);\ntitle('PSS Frequenc"
"y Response');\n subplot(2,1,2);\nsemilogx(FreqRange,rem(squeeze(PhaseL),360),"
"'m',FreqRange,rem(squeeze(PhaseI),360),'g',FreqRange,rem(squeeze(PhaseH),360)"
",'b',FreqRange,rem(squeeze(PhaseG),360),'r');\nylabel('Degrees');grid;\nxlabe"
"l('Frequency (Hz)');\nend\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "Detailed settings|Kg|GL|GI|GH|GLd|TcLF|GId|"
"TcIF|GHd|TcHF|LIM|off|off|logspace(-2,2,500)"
	  MaskTabNameString	  ",,,,,,,,,,,,,,"
	  System {
	    Name		    "MBPSS"
	    Location		    [22, 77, 840, 635]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "dw"
	      Position		      [25, 238, 55, 252]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      "BF1"
	      Position		      [480, 59, 545, 121]
	      ShowName		      off
	      Numerator		      "[TL1 KL11]"
	      Denominator	      "[TL2 1]"
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      "BF7"
	      Position		      [480, 146, 545, 214]
	      ShowName		      off
	      Numerator		      "[TL7 KL17]"
	      Denominator	      "[TL8 1]"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [485, 15, 540, 35]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Value		      "Detailed"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [755, 72, 795, 118]
	      ShowName		      off
	      Gain		      "KL"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain1"
	      Position		      [760, 267, 800, 313]
	      ShowName		      off
	      Gain		      "KI"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain2"
	      Position		      [770, 457, 810, 503]
	      ShowName		      off
	      Gain		      "KH"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain3"
	      Position		      [410, 71, 460, 109]
	      ShowName		      off
	      Gain		      "KL1"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain4"
	      Position		      [415, 161, 465, 199]
	      ShowName		      off
	      Gain		      "KL2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain5"
	      Position		      [410, 266, 460, 304]
	      ShowName		      off
	      Gain		      "KI1"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain6"
	      Position		      [410, 356, 460, 394]
	      ShowName		      off
	      Gain		      "KI2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain7"
	      Position		      [410, 456, 460, 494]
	      ShowName		      off
	      Gain		      "KH1"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain8"
	      Position		      [410, 546, 460, 584]
	      ShowName		      off
	      Gain		      "KH2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain9"
	      Position		      [990, 103, 1025, 137]
	      ForegroundColor	      "red"
	      ShowName		      off
	      Gain		      "Kg"
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      "HF speed sensor"
	      Position		      [165, 519, 310, 561]
	      ForegroundColor	      "blue"
	      Numerator		      "[80  0 0]"
	      Denominator	      "[1 82 161 80]"
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      "HF1"
	      Position		      [480, 441, 545, 509]
	      ShowName		      off
	      Numerator		      "[TH1 KH11]"
	      Denominator	      "[TH2 1]"
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      "HF4"
	      Position		      [480, 531, 545, 599]
	      ShowName		      off
	      Numerator		      "[TH7 KH17]"
	      Denominator	      "[TH8 1]"
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      "IF1"
	      Position		      [480, 251, 545, 319]
	      ShowName		      off
	      Numerator		      "[TI1 KI11]"
	      Denominator	      "[TI2 1]"
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      "IF4"
	      Position		      [480, 341, 545, 409]
	      ShowName		      off
	      Numerator		      "[TI7 KI17]"
	      Denominator	      "[TI8 1]"
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      "LF and IF speed sensor"
	      Position		      [160, 124, 305, 166]
	      ForegroundColor	      "blue"
	      Numerator		      "[-1.759e-3 1]"
	      Denominator	      "[1.2739e-4 1.7823e-2 1]"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Limiteur BF "
	      Position		      [820, 83, 850, 107]
	      ShowName		      off
	      UpperLimit	      "LIM_VL"
	      LowerLimit	      "-LIM_VL"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Limiteur HF"
	      Position		      [840, 468, 870, 492]
	      ShowName		      off
	      UpperLimit	      "LIM_VH"
	      LowerLimit	      "-LIM_VH"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Limiteur IF "
	      Position		      [820, 278, 850, 302]
	      ShowName		      off
	      UpperLimit	      "LIM_VI"
	      LowerLimit	      "-LIM_VI"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Limiteur VS"
	      Position		      [1055, 108, 1085, 132]
	      ShowName		      off
	      UpperLimit	      "LIM_VS"
	      LowerLimit	      "-LIM_VS"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [700, 56, 720, 129]
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [3, 1]
	      Position		      [940, 85, 960, 155]
	      ShowName		      off
	      Inputs		      "+++"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [700, 251, 720, 324]
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [705, 441, 725, 514]
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Transfer function\nfor detailed model\n"
"(HF)"
	      Ports		      [3, 2]
	      Position		      [600, 441, 665, 509]
	      ForegroundColor	      "magenta"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Transfer function\nfor detailed model"
"\n(HF)"
		Location		[263, 222, 735, 635]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "On"
		  Position		  [30, 32, 60, 48]
		  ForegroundColor	  "magenta"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "HFpos "
		  Position		  [60, 98, 90, 112]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "HFneg "
		  Position		  [60, 243, 90, 257]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [300, 94, 330, 146]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [290, 239, 320, 291]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Transfer functions\nfor detailed st"
"abilizer"
		  Ports			  [1, 1, 1]
		  Position		  [165, 80, 230, 130]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Transfer functions\nfor detailed "
"stabilizer"
		    Location		    [52, 145, 563, 334]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [80, 63, 110, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [35, 15, 55, 35]
		    }
		    Block {
		    BlockType		    TransferFcn
		    Name		    "HF2"
		    Position		    [170, 36, 235, 104]
		    ShowName		    off
		    Numerator		    "[TH3 1]"
		    Denominator		    "[TH4 1]"
		    }
		    Block {
		    BlockType		    TransferFcn
		    Name		    "HF3"
		    Position		    [275, 36, 340, 104]
		    ShowName		    off
		    Numerator		    "[TH5 1]"
		    Denominator		    "[TH6 1]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [395, 63, 425, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "HF2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HF3"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HF2"
		    SrcPort		    1
		    DstBlock		    "HF3"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Transfer functions\nfor detailed st"
"abilizer2"
		  Ports			  [1, 1, 1]
		  Position		  [165, 225, 230, 275]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Transfer functions\nfor detailed "
"stabilizer2"
		    Location		    [37, 530, 548, 719]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [80, 63, 110, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [35, 15, 55, 35]
		    }
		    Block {
		    BlockType		    TransferFcn
		    Name		    "HF5"
		    Position		    [170, 36, 235, 104]
		    ShowName		    off
		    Numerator		    "[TH9 1]"
		    Denominator		    "[TH10 1]"
		    }
		    Block {
		    BlockType		    TransferFcn
		    Name		    "HF6"
		    Position		    [275, 36, 340, 104]
		    ShowName		    off
		    Numerator		    "[TH11 1]"
		    Denominator		    "[TH12 1]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [395, 63, 425, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "HF6"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "HF5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "HF5"
		    SrcPort		    1
		    DstBlock		    "HF6"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "HFpos"
		  Position		  [355, 113, 385, 127]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "HFneg"
		  Position		  [345, 258, 375, 272]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Transfer functions\nfor detailed st"
"abilizer"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "HFpos "
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 65; 170, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "HFpos"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "HFneg "
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 85; 160, 0]
		    DstBlock		    "Switch2"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  DstBlock		  "HFneg"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Transfer functions\nfor detailed st"
"abilizer2"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "On"
		  SrcPort		  1
		  Points		  [130, 0]
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer"
		    DstPort		    enable
		  }
		  Branch {
		    Points		    [55, 0; 0, 80]
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [-55, 0]
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer2"
		    DstPort		    enable
		    }
		    }
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Transfer function\nfor detailed model\n"
"(IF)"
	      Ports		      [3, 2]
	      Position		      [595, 251, 660, 319]
	      ForegroundColor	      "magenta"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Transfer function\nfor detailed model"
"\n(IF)"
		Location		[263, 222, 735, 635]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "On"
		  Position		  [30, 32, 60, 48]
		  ForegroundColor	  "magenta"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "IFpos "
		  Position		  [60, 98, 90, 112]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "IFneg "
		  Position		  [60, 243, 90, 257]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [300, 94, 330, 146]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [290, 239, 320, 291]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Transfer functions\nfor detailed st"
"abilizer"
		  Ports			  [1, 1, 1]
		  Position		  [165, 80, 230, 130]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Transfer functions\nfor detailed "
"stabilizer"
		    Location		    [57, 116, 568, 305]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [80, 63, 110, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [35, 15, 55, 35]
		    }
		    Block {
		    BlockType		    TransferFcn
		    Name		    "IF2"
		    Position		    [150, 36, 215, 104]
		    ShowName		    off
		    Numerator		    "[TI3 1]"
		    Denominator		    "[TI4 1]"
		    }
		    Block {
		    BlockType		    TransferFcn
		    Name		    "IF3"
		    Position		    [255, 36, 320, 104]
		    ShowName		    off
		    Numerator		    "[TI5 1]"
		    Denominator		    "[TI6 1]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [395, 63, 425, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "IF3"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "IF2"
		    SrcPort		    1
		    DstBlock		    "IF3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "IF2"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Transfer functions\nfor detailed st"
"abilizer2"
		  Ports			  [1, 1, 1]
		  Position		  [165, 225, 230, 275]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Transfer functions\nfor detailed "
"stabilizer2"
		    Location		    [48, 477, 559, 666]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [80, 63, 110, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [35, 15, 55, 35]
		    }
		    Block {
		    BlockType		    TransferFcn
		    Name		    "IF5"
		    Position		    [170, 36, 235, 104]
		    ShowName		    off
		    Numerator		    "[TI9 1]"
		    Denominator		    "[TI10 1]"
		    }
		    Block {
		    BlockType		    TransferFcn
		    Name		    "IF6"
		    Position		    [275, 36, 340, 104]
		    ShowName		    off
		    Numerator		    "[TI11 1]"
		    Denominator		    "[TI12 1]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [395, 63, 425, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "IF5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "IF6"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "IF5"
		    SrcPort		    1
		    DstBlock		    "IF6"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "IFpos"
		  Position		  [355, 113, 385, 127]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "LFneg"
		  Position		  [345, 258, 375, 272]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "On"
		  SrcPort		  1
		  Points		  [130, 0]
		  Branch {
		    Points		    [55, 0; 0, 80]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [-55, 0]
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer2"
		    DstPort		    enable
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		  }
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer"
		    DstPort		    enable
		  }
		}
		Line {
		  SrcBlock		  "Transfer functions\nfor detailed st"
"abilizer2"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  DstBlock		  "LFneg"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "IFneg "
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, 85; 160, 0]
		    DstBlock		    "Switch2"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "IFpos"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "IFpos "
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, 65; 170, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Transfer functions\nfor detailed st"
"abilizer"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Transfer function\nfor detailed model\n"
"(LF)"
	      Ports		      [3, 2]
	      Position		      [595, 56, 660, 124]
	      ForegroundColor	      "magenta"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Transfer function\nfor detailed model"
"\n(LF)"
		Location		[691, 77, 1163, 490]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "On"
		  Position		  [30, 32, 60, 48]
		  ForegroundColor	  "magenta"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "LFpos "
		  Position		  [60, 98, 90, 112]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "LFneg "
		  Position		  [60, 243, 90, 257]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [300, 94, 330, 146]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [290, 239, 320, 291]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Transfer functions\nfor detailed st"
"abilizer"
		  Ports			  [1, 1, 1]
		  Position		  [165, 80, 230, 130]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Transfer functions\nfor detailed "
"stabilizer"
		    Location		    [737, 203, 1248, 392]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [80, 63, 110, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [35, 15, 55, 35]
		    }
		    Block {
		    BlockType		    TransferFcn
		    Name		    "BF2"
		    Position		    [175, 36, 240, 104]
		    ShowName		    off
		    Numerator		    "[TL3 1]"
		    Denominator		    "[TL4 1]"
		    }
		    Block {
		    BlockType		    TransferFcn
		    Name		    "BF3"
		    Position		    [280, 36, 345, 104]
		    ShowName		    off
		    Numerator		    "[TL5 1]"
		    Denominator		    "[TL6 1]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [395, 63, 425, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "BF2"
		    SrcPort		    1
		    DstBlock		    "BF3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "BF2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "BF3"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Transfer functions\nfor detailed st"
"abilizer2"
		  Ports			  [1, 1, 1]
		  Position		  [165, 225, 230, 275]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Transfer functions\nfor detailed "
"stabilizer2"
		    Location		    [17, 228, 528, 417]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [80, 63, 110, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [35, 15, 55, 35]
		    }
		    Block {
		    BlockType		    TransferFcn
		    Name		    "BF5"
		    Position		    [170, 36, 235, 104]
		    ShowName		    off
		    Numerator		    "[TL9 1]"
		    Denominator		    "[TL10 1]"
		    }
		    Block {
		    BlockType		    TransferFcn
		    Name		    "BF6"
		    Position		    [275, 36, 340, 104]
		    ShowName		    off
		    Numerator		    "[TL11 1]"
		    Denominator		    "[TL12 1]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [395, 63, 425, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "BF6"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "BF5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "BF5"
		    SrcPort		    1
		    DstBlock		    "BF6"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "LFpos"
		  Position		  [355, 113, 385, 127]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "LFneg"
		  Position		  [345, 258, 375, 272]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Transfer functions\nfor detailed st"
"abilizer"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "LFpos "
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 65; 170, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "LFpos"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "LFneg "
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 85; 160, 0]
		    DstBlock		    "Switch2"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  DstBlock		  "LFneg"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Transfer functions\nfor detailed st"
"abilizer2"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "On"
		  SrcPort		  1
		  Points		  [130, 0]
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer"
		    DstPort		    enable
		  }
		  Branch {
		    Points		    [55, 0; 0, 80]
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [-55, 0]
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer2"
		    DstPort		    enable
		    }
		    }
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "VS"
	      Position		      [1115, 113, 1145, 127]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "dw"
	      SrcPort		      1
	      Points		      [0, 0; 65, 0]
	      Branch {
		Points			[0, -100]
		DstBlock		"LF and IF speed sensor"
		DstPort			1
	      }
	      Branch {
		Points			[0, 295]
		DstBlock		"HF speed sensor"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "HF speed sensor"
	      SrcPort		      1
	      Points		      [0, 0; 35, 0]
	      Branch {
		Points			[0, -65]
		DstBlock		"Gain7"
		DstPort			1
	      }
	      Branch {
		Points			[0, 25]
		DstBlock		"Gain8"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "LF and IF speed sensor"
	      SrcPort		      1
	      Points		      [0, 0; 40, 0]
	      Branch {
		Points			[0, 35]
		Branch {
		  Points		  [0, 105]
		  Branch {
		    Points		    [0, 90]
		    DstBlock		    "Gain6"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Gain5"
		    DstPort		    1
		  }
		}
		Branch {
		  DstBlock		  "Gain4"
		  DstPort		  1
		}
	      }
	      Branch {
		Points			[0, -55]
		DstBlock		"Gain3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Gain8"
	      SrcPort		      1
	      DstBlock		      "HF4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain7"
	      SrcPort		      1
	      DstBlock		      "HF1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain6"
	      SrcPort		      1
	      DstBlock		      "IF4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain5"
	      SrcPort		      1
	      DstBlock		      "IF1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain4"
	      SrcPort		      1
	      DstBlock		      "BF7"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain3"
	      SrcPort		      1
	      DstBlock		      "BF1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain2"
	      SrcPort		      1
	      DstBlock		      "Limiteur HF"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain1"
	      SrcPort		      1
	      DstBlock		      "Limiteur IF "
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "Limiteur BF "
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Transfer function\nfor detailed model\n"
"(LF)"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Transfer function\nfor detailed model\n"
"(LF)"
	      SrcPort		      2
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "BF1"
	      SrcPort		      1
	      DstBlock		      "Transfer function\nfor detailed model\n"
"(LF)"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "BF7"
	      SrcPort		      1
	      Points		      [15, 0; 0, -70]
	      DstBlock		      "Transfer function\nfor detailed model\n"
"(LF)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Transfer function\nfor detailed model\n"
"(IF)"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Transfer function\nfor detailed model\n"
"(IF)"
	      SrcPort		      2
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "IF1"
	      SrcPort		      1
	      DstBlock		      "Transfer function\nfor detailed model\n"
"(IF)"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "IF4"
	      SrcPort		      1
	      Points		      [20, 0; 0, -70]
	      DstBlock		      "Transfer function\nfor detailed model\n"
"(IF)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "Gain1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "HF1"
	      SrcPort		      1
	      DstBlock		      "Transfer function\nfor detailed model\n"
"(HF)"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "HF4"
	      SrcPort		      1
	      Points		      [15, 0; 0, -70]
	      DstBlock		      "Transfer function\nfor detailed model\n"
"(HF)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Transfer function\nfor detailed model\n"
"(HF)"
	      SrcPort		      1
	      DstBlock		      "Sum3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Transfer function\nfor detailed model\n"
"(HF)"
	      SrcPort		      2
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      DstBlock		      "Gain2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Limiteur BF "
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Limiteur IF "
	      SrcPort		      1
	      Points		      [20, 0; 0, -170]
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Limiteur HF"
	      SrcPort		      1
	      Points		      [20, 0; 0, -335]
	      DstBlock		      "Sum1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Gain9"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Limiteur VS"
	      SrcPort		      1
	      DstBlock		      "VS"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [15, 0; 0, 45]
	      Branch {
		DstBlock		"Transfer function\nfor detailed model"
"\n(LF)"
		DstPort			1
	      }
	      Branch {
		Points			[0, 195]
		Branch {
		  DstBlock		  "Transfer function\nfor detailed mod"
"el\n(IF)"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 190]
		  DstBlock		  "Transfer function\nfor detailed mod"
"el\n(HF)"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Gain9"
	      SrcPort		      1
	      DstBlock		      "Limiteur VS"
	      DstPort		      1
	    }
	    Annotation {
	      Name		      "Innocent Kamwa, Robert Grondin\nIREQ, H"
"ydro-Quebec"
	      Position		      [136, 73]
	      FontSize		      12
	    }
	    Annotation {
	      Name		      "Multi-band Power System Stabilizer"
	      Position		      [146, 23]
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "(IEEE Type PSS4b)"
	      Position		      [146, 43]
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Note: Speed deviation is derived from t"
"he machine positive-sequence  terminal voltages and currents."
	      Position		      [270, 633]
	      ForegroundColor	      "blue"
	    }
	    Annotation {
	      Name		      "               Low and intermediate spe"
"ed deviation is based on the internal voltage phasors while \nthe high freque"
"ncy speed deviation  is based on the electrical power."
	      Position		      [250, 653]
	      ForegroundColor	      "blue"
	    }
	    Annotation {
	      Name		      "(for simplified\nsettings only)"
	      Position		      [1009, 156]
	      ForegroundColor	      "red"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "PM_synchronous_machine"
	  Ports			  [2, 2]
	  Position		  [230, 14, 275, 81]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "PM Synchronous Machine Model"
	  MaskDescription	  "Simulink model for the Permanent Magnet Syn"
"chronous Machine block. The machine is modeled in the qd rotor reference fram"
"e,  with sinusoidal flux distribution. Stator windings are connected in wye t"
"o an internal neutral point."
	  MaskHelp		  "First 3 inputs: Machine terminals =  phases"
" a, b and c\n4th input:  Simulink signal = mechanical torque (N.m)\n         "
"          (>0 for motor mode,<0 for generator mode)\n\noutput: Simulink measu"
"rement output = vector (10x1) containing\n             (all currents flowing "
"into machine): \n  1-3 : Stator line currents ia, ib, ic (A)\n  4-5 : Stator "
"currents iq, id (A)\n  6-7 : Stator voltages vq, vd (V)\n  8     : Rotor elec"
"trical speed we (rad/s)\n  9     : Rotor electrical angle theta (deg)\n  10  "
" : Electromagnetic torque Te (N.m)"
	  MaskPromptString	  "Resistance R(ohm):|Inductances [ Ld(H) Lq(H"
") ]:|Flux induced by magnets (Wb):|Inertia, friction factor and pairs of pole"
"s [ J(kg.m^2)  F(N.m.s)  p() ]:"
	  MaskStyleString	  "edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on"
	  MaskCallbackString	  "|||"
	  MaskEnableString	  "on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on"
	  MaskToolTipString	  "on,on,on,on"
	  MaskVarAliasString	  ",,,"
	  MaskVariables		  "R=@1;L=@2;lam=@3;mec=@4;"
	  MaskInitialization	  "Ld=L(1);Lq=L(2);J=mec(1);F=mec(2);p=mec(3);"
"sqrt3=sqrt(3);one_third=1/3;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0.6|[ 1.4e-3, 2.8e-3]|0.1|[ 1.1e-3, 1.4e-3,"
"  4 ]"
	  MaskTabNameString	  ",,,"
	  System {
	    Name		    "PM_synchronous_machine"
	    Location		    [130, 292, 586, 566]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [15, 40, 35, 60]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "Tm"
	      Position		      [15, 190, 35, 210]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [4, 1]
	      Position		      [285, 135, 320, 230]
	      ShowName		      off
	      Inputs		      "[3,2,2,3]"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector"
	      Ports		      [1, 1]
	      Position		      [310, 54, 350, 86]
	      Elements		      "1:2"
	      InputPortWidth	      "3"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "abc2qd"
	      Ports		      [2, 2]
	      Position		      [55, 34, 110, 96]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		2
		Name			"vqd"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"abc2qd"
		Location		[236, 545, 853, 732]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vab,Vbc"
		  Position		  [15, 48, 45, 62]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "the"
		  Position		  [15, 78, 45, 92]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  ElementaryMath
		  Name			  "Elementary\nMath"
		  Ports			  [1, 1]
		  Position		  [80, 78, 110, 92]
		  ShowName		  off
		}
		Block {
		  BlockType		  ElementaryMath
		  Name			  "Elementary\nMath1"
		  Ports			  [1, 1]
		  Position		  [80, 102, 110, 118]
		  ShowName		  off
		  Operator		  "cos"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn2"
		  Position		  [240, 48, 485, 72]
		  ShowName		  off
		  Expr			  "(u[4]*(2*u[1]+u[2]) + (sqrt3*u[2]*u"
"[3])) * one_third"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn3"
		  Position		  [240, 82, 485, 108]
		  ShowName		  off
		  Expr			  "(u[3]*(2*u[1]+u[2]) + (-sqrt3*u[2]*"
"u[4])) * one_third"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [180, 32, 210, 123]
		  ShowName		  off
		  Inputs		  "[ 2 2 ]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [505, 42, 535, 113]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [130, 74, 155, 121]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Outport
		  Name			  "s,c"
		  Position		  [555, 18, 585, 32]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "vq,vd"
		  Position		  [555, 73, 585, 87]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "the"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 25]
		    DstBlock		    "Elementary\nMath1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Elementary\nMath"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Elementary\nMath1"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Elementary\nMath"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vab,Vbc"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "vq,vd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Fcn3"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Fcn2"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -75]
		    DstBlock		    "s,c"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, 15]
		    DstBlock		    "Fcn3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "Fcn2"
		    DstPort		    1
		  }
		}
		Annotation {
		  Name			  "This subsystem converts Vab and Vbc"
" to Vd,Vq. The sine and cosine com-\nputed here are sent to the inverse trans"
"formation subsystem dq2abc.        "
		  Position		  [267, 142]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "iq,id"
	      Ports		      [2, 1]
	      Position		      [140, 71, 180, 109]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		1
		Name			"iqd"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"iq,id"
		Location		[552, 168, 887, 374]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "vq,vd"
		  Position		  [15, 38, 45, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "we"
		  Position		  [15, 118, 45, 132]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [65, 14, 100, 76]
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [215, 68, 245, 117]
		  Inputs		  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "id"
		  Ports			  [3, 1]
		  Position		  [140, 98, 185, 152]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "id"
		    Location		    [626, 112, 1001, 309]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "iq"
		    Position		    [40, 148, 70, 162]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "we"
		    Position		    [15, 128, 45, 142]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "vd"
		    Position		    [25, 93, 55, 107]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1/Ld"
		    Position		    [145, 90, 165, 110]
		    Gain		    "1/Ld"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Lq/Ld"
		    Position		    [145, 135, 165, 155]
		    Gain		    "Lq/Ld"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [95, 124, 120, 166]
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "R/Ld"
		    Position		    [145, 50, 165, 70]
		    Gain		    "R/Ld"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [3, 1]
		    Position		    [210, 82, 230, 118]
		    Inputs		    "-++"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "id "
		    Ports		    [1, 1]
		    Position		    [250, 90, 270, 110]
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "id"
		    Position		    [320, 93, 350, 107]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "1/Ld"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "R/Ld"
		    SrcPort		    1
		    Points		    [10, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Lq/Ld"
		    SrcPort		    1
		    Points		    [10, 0; 0, -35]
		    DstBlock		    "Sum"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "id "
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Lq/Ld"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "id "
		    SrcPort		    1
		    Points		    [0, 0; 0, 0; 0, 0; 25, 0; 0, 0]
		    Branch {
		    Points		    [0, -70; -180, 0; 0, 30]
		    DstBlock		    "R/Ld"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "id"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "vd"
		    SrcPort		    1
		    DstBlock		    "1/Ld"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "we"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "iq"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "iq"
		  Ports			  [3, 1]
		  Position		  [140, 23, 185, 77]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "iq"
		    Location		    [267, 336, 688, 609]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "vq"
		    Position		    [25, 178, 55, 192]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "we"
		    Position		    [25, 83, 55, 97]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "id"
		    Position		    [20, 38, 50, 52]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1/Lq"
		    Position		    [150, 175, 170, 195]
		    Gain		    "1/Lq"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Ld/Lq"
		    Position		    [155, 75, 175, 95]
		    Gain		    "Ld/Lq"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [90, 75, 115, 95]
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "R/Lq"
		    Position		    [155, 40, 175, 60]
		    Gain		    "R/Lq"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [4, 1]
		    Position		    [225, 82, 245, 128]
		    Inputs		    "---+"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "iq "
		    Ports		    [1, 1]
		    Position		    [265, 95, 285, 115]
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "lam/Lq"
		    Position		    [155, 125, 175, 145]
		    Gain		    "lam/Lq"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "iq"
		    Position		    [310, 98, 340, 112]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "R/Lq"
		    SrcPort		    1
		    Points		    [25, 0; 0, 40]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Ld/Lq"
		    SrcPort		    1
		    Points		    [15, 0; 0, 15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "lam/Lq"
		    SrcPort		    1
		    Points		    [15, 0; 0, -25]
		    DstBlock		    "Sum1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "iq "
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Ld/Lq"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1/Lq"
		    SrcPort		    1
		    Points		    [30, 0; 0, -65]
		    DstBlock		    "Sum1"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "id"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vq"
		    SrcPort		    1
		    DstBlock		    "1/Lq"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "we"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "lam/Lq"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "iq "
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    "[0, 0; 0, 0; 0, -75; -90, 0; -85,"
" 0; 0, 20]"
		    DstBlock		    "R/Lq"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "iq"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "iq,id"
		  Position		  [265, 88, 295, 102]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "iq,id"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vq,vd"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "iq"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [10, 0; 0, 85]
		  DstBlock		  "id"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "iq"
		  SrcPort		  1
		  Points		  [0, 30]
		  Branch {
		    Points		    [0, 15; -65, 0]
		    DstBlock		    "id"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "id"
		  SrcPort		  1
		  Points		  [5, 0; 0, -20]
		  Branch {
		    Points		    [0, -15; -70, 0]
		    DstBlock		    "iq"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "we"
		  SrcPort		  1
		  Points		  [70, 0]
		  Branch {
		    DstBlock		    "id"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -75]
		    DstBlock		    "iq"
		    DstPort		    2
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "mec"
	      Ports		      [2, 3]
	      Position		      [140, 131, 205, 179]
	      Orientation	      "left"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		3
		Name			"w,th,Te"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"mec"
		Location		[104, 199, 593, 361]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Tm"
		  Position		  [15, 30, 35, 50]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "iq,id"
		  Position		  [15, 110, 35, 130]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [240, 47, 265, 73]
		  ShowName		  off
		  Gain			  "p"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [330, 86, 360, 114]
		  ShowName		  off
		  Gain			  "1/p"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  Position		  [155, 46, 185, 74]
		  ShowName		  off
		  Gain			  "1/J"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  Position		  [70, 70, 90, 90]
		  ShowName		  off
		  Gain			  "F"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Int"
		  Ports			  [1, 1]
		  Position		  [200, 50, 220, 70]
		  ShowName		  off
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Int1"
		  Ports			  [1, 1]
		  Position		  [290, 50, 310, 70]
		  ShowName		  off
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [3, 1]
		  Position		  [395, 73, 425, 127]
		  ShowName		  off
		  Inputs		  "3"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [115, 33, 135, 87]
		  ShowName		  off
		  Inputs		  "-+-"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Te"
		  Position		  [55, 109, 235, 131]
		  Expr			  "1.5*p*(lam*u(1)+(Ld-Lq)*u(1)*u(2))"
		}
		Block {
		  BlockType		  Outport
		  Name			  "we"
		  Position		  [445, 15, 465, 35]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "the"
		  Position		  [445, 50, 465, 70]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "w,th,Te"
		  Position		  [445, 90, 465, 110]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "w,th,Te"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Te"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -20; -190, 0; 0, -40]
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Tm"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  DstBlock		  "Int"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Int"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, 0; -5, 0]
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 20]
		    Branch {
		    Points		    [0, 15; -170, 0]
		    DstBlock		    "Gain3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Int1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -35]
		    DstBlock		    "we"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "iq,id"
		  SrcPort		  1
		  DstBlock		  "Te"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Int1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "the"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Gain1"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "qd2abc"
	      Ports		      [2, 1]
	      Position		      [235, 30, 270, 110]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		1
		Name			"isabc"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"qd2abc"
		Location		[309, 543, 827, 698]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "s,c"
		  Position		  [20, 30, 40, 50]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "iq,id"
		  Position		  [20, 85, 40, 105]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn"
		  Position		  [110, 22, 365, 48]
		  ShowName		  off
		  Expr			  "u[3]*u[2] + u[4]*u[1] "
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn1"
		  Position		  [110, 56, 365, 84]
		  ShowName		  off
		  Expr			  "(u[2]*(-u[3]-sqrt3*u[4]) + u[1]*(sq"
"rt3*u[3]-u[4]))*0.5"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [60, 13, 90, 122]
		  ShowName		  off
		  Inputs		  "[2,2]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [3, 1]
		  Position		  [410, 15, 440, 125]
		  ShowName		  off
		  Inputs		  "3"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [369, 90, 391, 100]
		  Orientation		  "down"
		  ShowName		  off
		  Inputs		  "--"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Outport
		  Name			  "is"
		  Position		  [465, 60, 485, 80]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "is"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Fcn1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Fcn"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "iq,id"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "s,c"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Fcn1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Fcn"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [385, 60, 405, 80]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [385, 175, 405, 195]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Selector"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      Name		      "isabc"
	      SrcBlock		      "qd2abc"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		DstBlock		"Selector"
		DstPort			1
	      }
	      Branch {
		Points			[0, 55; -40, 0; 0, 20]
		DstBlock		"Mux"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "iqd"
	      SrcBlock		      "iq,id"
	      SrcPort		      1
	      Points		      [35, 0; 0, 0]
	      Branch {
		DstBlock		"qd2abc"
		DstPort			2
	      }
	      Branch {
		Points			[0, 80]
		Branch {
		  DstBlock		  "mec"
		  DstPort		  2
		}
		Branch {
		  Labels		  [-1, 1]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "abc2qd"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "abc2qd"
	      SrcPort		      1
	      DstBlock		      "qd2abc"
	      DstPort		      1
	    }
	    Line {
	      Name		      "vqd"
	      SrcBlock		      "abc2qd"
	      SrcPort		      2
	      Points		      [0, 0]
	      Branch {
		DstBlock		"iq,id"
		DstPort			1
	      }
	      Branch {
		Labels			[-1, 1]
		Points			[0, 115]
		DstBlock		"Mux"
		DstPort			3
	      }
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "mec"
	      SrcPort		      1
	      Points		      [-10, 0]
	      DstBlock		      "iq,id"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Tm"
	      SrcPort		      1
	      Points		      [190, 0; 0, -55]
	      DstBlock		      "mec"
	      DstPort		      1
	    }
	    Line {
	      Name		      "w,th,Te"
	      Labels		      [-1, 1]
	      SrcBlock		      "mec"
	      SrcPort		      3
	      Points		      [-15, 0; 0, 50]
	      DstBlock		      "Mux"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "mec"
	      SrcPort		      2
	      Points		      [-95, 0]
	      DstBlock		      "abc2qd"
	      DstPort		      2
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "PSS"
	  Ports			  [1, 1]
	  Position		  [355, 310, 400, 380]
	  BackgroundColor	  "green"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Generic PSS"
	  MaskDescription	  "This block implements a generic Power Syste"
"m Stabilizer (PSS). \n\nInput (In): Synchronous machine speed deviation with "
"respect to nominal (dw in pu) or acceleration power (Pa=Pm-Pe in pu).\nOutput"
" (VS): stabilization voltage (pu).\n\nLook under mask to see how the various "
"transfer functions are connected.\n\n"
	  MaskPromptString	  "Sensor time constant:|Gain:|Wash-out time c"
"onstant:|Lead-lag #1 time constants: [ Tnum Tden ]|Leag-lag #2 time constants"
": [ Tnum Tden ]|Output limits: [ VSmin VSmax ]|Initial input:|Plot frequency "
"response|Magnitude in dB|Frequency range (Hz):"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,edit,checkbox"
",checkbox,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "|||||||parametres=get_param(gcb,'MaskValues"
"');p8=parametres{8};if strcmp(p8,'on');param9='on';param10='on';else;param9='"
"off';param10='off';end;visible={'on','on','on','on','on','on','on','on',param"
"9,param10};set_param(gcb,'MaskVisibilities',visible)||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,off,off"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,,"
	  MaskVariables		  "Tsensor=@1;K=@2;Twashout=@3;Tleadlag1=@4;Tl"
"eadlag2=@5;VSlimits=@6;Vinit=@7;Plot_On=@8;MagdB_On=@9;FreqRange=@10;"
	  MaskInitialization	  "T1n=Tleadlag1(1);\nT1d=Tleadlag1(2);\nT2n=T"
"leadlag2(1);\nT2d=Tleadlag2(2);\n%\nif Plot_On==1,\n% Compute global system ("
"sysG):\nnumS=[1];\ndenS=[Tsensor 1];\nsysS=tf(numS,denS);\nnumW=[Twashout 0];"
"\ndenW=[Twashout 1];\nsysW=tf(numW,denW);\nnumL1=[T1n 1];\ndenL1=[T1d 1];\nsy"
"sL1=tf(numL1,denL1);\nnumL2=[T2n 1];\ndenL2=[T2d 1];\nsysL2=tf(numL2,denL2);"
"\nsysG=sysS*K*sysW*sysL1*sysL2;\n%\n% Plot response:\nw=2*pi*FreqRange;\n[Mag"
",Pha]=bode(sysG,w);\nsubplot(2,1,1)\nif  MagdB_On==1,\nY= 20*log10(squeeze(Ma"
"g)) ;\nstrLabel='dB';\nelse\nY=squeeze(Mag);\nstrLabel='pu/pu';\nend\n%\nsemi"
"logx(FreqRange,Y)\nylabel(strLabel);grid;\ntitle('PSS Frequency Response');\n"
"subplot(2,1,2);\nsemilogx(FreqRange,rem(squeeze(Pha),360))\nylabel('Degrees')"
";grid;\nxlabel('Frequency (Hz)');\nend\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "Tsensor|K|Twashout|Tleadlag1|Tleadlag2|VSli"
"mits|Vinit|off|on|logspace(-2,2,500)"
	  MaskTabNameString	  ",,,,,,,,,"
	  System {
	    Name		    "PSS"
	    Location		    [180, 84, 1039, 335]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "In"
	      Position		      [40, 118, 70, 132]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      "Lead-lag #1"
	      Position		      [425, 95, 505, 155]
	      Numerator		      "[T1n 1]"
	      Denominator	      "[T1d 1]"
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      "Lead-lag #2"
	      Position		      [535, 95, 615, 155]
	      Numerator		      "[T2n 1]"
	      Denominator	      "[T2d 1]"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Limiter "
	      Position		      [680, 113, 710, 137]
	      UpperLimit	      "VSlimits(2)"
	      LowerLimit	      "VSlimits(1)"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Overall\nGain"
	      Position		      [220, 103, 270, 147]
	      Gain		      "K"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Sensor"
	      Ports		      [1, 1]
	      Position		      [115, 105, 160, 145]
	      AncestorBlock	      "powerlib_extras/Control \nBlocks/1st-Or"
"der \nFilter"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Discrete 1st-Order Filter"
	      MaskPromptString	      "Filter Type:|Time constant (s):|Initial"
"ize filter states|AC initial input: [ Mag  Phase(degrees)  Freq(Hz) ]|DC Init"
"ial input:|Plot filter response|Frequency range(Hz) : [Start  End  Inc.]"
	      MaskStyleString	      "popup(Lowpass|Highpass),edit,checkbox,e"
"dit,edit,checkbox,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on"
	      MaskCallbackString      "||parametres=get_param(gcb,'MaskValues'"
");p3=parametres{3};p6=parametres{6};if strcmp(p3,'on');param4='on';param5='on"
"';else;param4='off';param5='off';end;if strcmp(p6,'on');param7='on';else;para"
"m7='off';end;visible={'on','on','on',param4,param5,'on',param7};set_param(gcb"
",'MaskVisibilities',visible)|||parametres=get_param(gcb,'MaskValues');p3=para"
"metres{3};p6=parametres{6};if strcmp(p3,'on');param4='on';param5='on';else;pa"
"ram4='off';param5='off';end;if strcmp(p6,'on');param7='on';else;param7='off';"
"end;visible={'on','on','on',param4,param5,'on',param7};set_param(gcb,'MaskVis"
"ibilities',visible)|"
	      MaskEnableString	      "on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,off"
	      MaskToolTipString	      "on,on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,,"
	      MaskVariables	      "FilterType=@1;Tc=@2;Initialize=@3;Vac_I"
"nit=@4;Vdc_Init=@5;PlotResponse=@6;param1=@7;"
	      MaskInitialization      "switch FilterType\ncase 1, % Lowpass\n "
"      X=[0 1 2 3 4];\n       Y=[-2 -2 -3 -4 -4];\n       numc=1;\n       denc"
"=[Tc 1];\n case 2,   % Highpass\n       X=[0 1 2 3 4];\n       Y=[-4 -4 -3 -2"
" -2];\n        numc=[1 0];\n        denc=[1 1/Tc];\nend\n%\n[Ac,Bc,Cc,Dc]=tf2"
"ss(numc,denc);\n%\n%\nif Initialize==1  % Compute initial conditions on state"
"s\nu1=Vac_Init(1)*exp(j*Vac_Init(2)*pi/180);\nu2=Vdc_Init*exp(j*90*pi/180);\n"
"u=u1+u2;\nu0=imag(u); % input at  t=0;\nI=eye(size(Ac));\nsI1=I*j*(2*pi*Vac_I"
"nit(3));\nsI2=I*j*0;\nx=inv(sI1-Ac)*Bc*u1 + inv(sI2-Ac)*Bc*u2;\nx0c=imag(x);"
"\nelse\nx0c=0;\nend\n%\nif PlotResponse==1 % Plot frequency and step response"
"\nfigure(1)\nsys=ss(Ac,Bc,Cc,Dc);\nf=param1(1):param1(3):param1(2);\nw=2*pi*f"
";\n[mag phase]=bode(sys,w);\nsubplot(2,1,1)\nplot(f,squeeze(mag))\ntitle('Mag"
"nitude')\ngrid\nsubplot(2,1,2)\nplot(f,squeeze(phase))\ntitle('Phase (degrees"
")')\nxlabel('Hz')\ngrid\nfigure(2)\nstep(sys)\nend\n"
	      MaskDisplay	      "plot(X,Y);"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Lowpass|Tsensor|on|[0 0 60]|Vinit|off|["
"1 500 1]"
	      MaskTabNameString	      ",,,,,,"
	      System {
		Name			"Sensor"
		Location		[532, 171, 930, 387]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [40, 53, 70, 67]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  StateSpace
		  Name			  "State-Space"
		  Position		  [135, 32, 225, 88]
		  A			  "Ac"
		  B			  "Bc"
		  C			  "Cc"
		  D			  "Dc"
		  X0			  "x0c"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [270, 53, 300, 67]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "State-Space"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "State-Space"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Wash-out"
	      Ports		      [1, 1]
	      Position		      [330, 105, 375, 145]
	      AncestorBlock	      "powerlib_extras/Control \nBlocks/1st-Or"
"der \nFilter"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Discrete 1st-Order Filter"
	      MaskPromptString	      "Filter Type:|Time constant (s):|Initial"
"ize filter states|AC initial input: [ Mag  Phase(degrees)  Freq(Hz) ]|DC Init"
"ial input:|Plot filter response|Frequency range(Hz) : [Start  End  Inc.]"
	      MaskStyleString	      "popup(Lowpass|Highpass),edit,checkbox,e"
"dit,edit,checkbox,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on"
	      MaskCallbackString      "||parametres=get_param(gcb,'MaskValues'"
");p3=parametres{3};p6=parametres{6};if strcmp(p3,'on');param4='on';param5='on"
"';else;param4='off';param5='off';end;if strcmp(p6,'on');param7='on';else;para"
"m7='off';end;visible={'on','on','on',param4,param5,'on',param7};set_param(gcb"
",'MaskVisibilities',visible)|||parametres=get_param(gcb,'MaskValues');p3=para"
"metres{3};p6=parametres{6};if strcmp(p3,'on');param4='on';param5='on';else;pa"
"ram4='off';param5='off';end;if strcmp(p6,'on');param7='on';else;param7='off';"
"end;visible={'on','on','on',param4,param5,'on',param7};set_param(gcb,'MaskVis"
"ibilities',visible)|"
	      MaskEnableString	      "on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,off,off,on,off"
	      MaskToolTipString	      "on,on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,,"
	      MaskVariables	      "FilterType=@1;Tc=@2;Initialize=@3;Vac_I"
"nit=@4;Vdc_Init=@5;PlotResponse=@6;param1=@7;"
	      MaskInitialization      "switch FilterType\ncase 1, % Lowpass\n "
"      X=[0 1 2 3 4];\n       Y=[-2 -2 -3 -4 -4];\n       numc=1;\n       denc"
"=[Tc 1];\n case 2,   % Highpass\n       X=[0 1 2 3 4];\n       Y=[-4 -4 -3 -2"
" -2];\n        numc=[1 0];\n        denc=[1 1/Tc];\nend\n%\n[Ac,Bc,Cc,Dc]=tf2"
"ss(numc,denc);\n%\n%\nif Initialize==1  % Compute initial conditions on state"
"s\nu1=Vac_Init(1)*exp(j*Vac_Init(2)*pi/180);\nu2=Vdc_Init*exp(j*90*pi/180);\n"
"u=u1+u2;\nu0=imag(u); % input at  t=0;\nI=eye(size(Ac));\nsI1=I*j*(2*pi*Vac_I"
"nit(3));\nsI2=I*j*0;\nx=inv(sI1-Ac)*Bc*u1 + inv(sI2-Ac)*Bc*u2;\nx0c=imag(x);"
"\nelse\nx0c=0;\nend\n%\nif PlotResponse==1 % Plot frequency and step response"
"\nfigure(1)\nsys=ss(Ac,Bc,Cc,Dc);\nf=param1(1):param1(3):param1(2);\nw=2*pi*f"
";\n[mag phase]=bode(sys,w);\nsubplot(2,1,1)\nplot(f,squeeze(mag))\ntitle('Mag"
"nitude')\ngrid\nsubplot(2,1,2)\nplot(f,squeeze(phase))\ntitle('Phase (degrees"
")')\nxlabel('Hz')\ngrid\nfigure(2)\nstep(sys)\nend\n"
	      MaskDisplay	      "plot(X,Y);"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Highpass|Twashout|on|[0 0 60]|K*Vinit|o"
"ff|[1 500 1]"
	      MaskTabNameString	      ",,,,,,"
	      System {
		Name			"Wash-out"
		Location		[532, 171, 930, 387]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [40, 53, 70, 67]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  StateSpace
		  Name			  "State-Space"
		  Position		  [135, 32, 225, 88]
		  A			  "Ac"
		  B			  "Bc"
		  C			  "Cc"
		  D			  "Dc"
		  X0			  "x0c"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [270, 53, 300, 67]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "State-Space"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "State-Space"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "VS"
	      Position		      [755, 118, 785, 132]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Limiter "
	      SrcPort		      1
	      DstBlock		      "VS"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Lead-lag #2"
	      SrcPort		      1
	      DstBlock		      "Limiter "
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Lead-lag #1"
	      SrcPort		      1
	      DstBlock		      "Lead-lag #2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Wash-out"
	      SrcPort		      1
	      DstBlock		      "Lead-lag #1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Overall\nGain"
	      SrcPort		      1
	      DstBlock		      "Wash-out"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sensor"
	      SrcPort		      1
	      DstBlock		      "Overall\nGain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "In"
	      SrcPort		      1
	      DstBlock		      "Sensor"
	      DstPort		      1
	    }
	    Annotation {
	      Name		      "Power System Stabilizer (PSS)\n(generic"
" model)"
	      Position		      [116, 34]
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Three-Level Bridge"
	  Ports			  [2, 3]
	  Position		  [25, 309, 70, 381]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Three-level Bridge Logic"
	  MaskPromptString	  "Number of bridge arms (1,2 or 3)|Snubber ca"
"pacitance Cs (F):|Forward Voltages [ Vf  Vfd ]:|Internal resistance Ron (Ohms"
"):|Sample time"
	  MaskStyleString	  "edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on"
	  MaskCallbackString	  "||||"
	  MaskEnableString	  "on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on"
	  MaskVarAliasString	  ",,,,"
	  MaskVariables		  "nb_arm=@1;Cs=@2;Par_Vf=@3;Ron=@4;Ts=@5;"
	  MaskInitialization	  "if nb_arm==1,\n   StatusElements=[1 2 3];\n"
"elseif nb_arm==2,\n   StatusElements=[1 2 5 3 4 6];\nelseif nb_arm==3,\n   St"
"atusElements=[1 2 7 3 4 8 5 6 9];\nend"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "nb_arm|Cs|[Vf Vfd]|Ron|0"
	  MaskTabNameString	  ",,,,"
	  System {
	    Name		    "Three-Level Bridge"
	    Location		    [401, 57, 1103, 477]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [90, 73, 120, 87]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      PortDimensions	      "nb_arm*3"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [20, 268, 50, 282]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      PortDimensions	      "nb_arm*4"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      Ports		      [4, 4]
	      Position		      [350, 71, 445, 164]
	      ForegroundColor	      "red"
	      DropShadow	      on
	      AncestorBlock	      "powerlib_models/Discrete/GTO-IGBT Bridg"
"e"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "GTO & IGBT Bridge Logic(modified)"
	      MaskDescription	      "Generates the switch status ( 0 or 1) a"
"nd the tail currents for a forced-commutated two- level bridge using GTO/Diod"
"e or IGBT/Diode pairs.\nSpecify  3 arms (6 switches) for 3 phase bridge, 2 ar"
"ms for 4 switches, or 1 arm.\nTo turn-off the tail current, specify Tf=0 and "
"Tt=0."
	      MaskPromptString	      "Number of bridge arms (1,2 or 3)|Curent"
" 10% fall time Tf (s) :|Current tail time Tt (s) :|Snubber Capacitance Cs (F)"
":|Forward Voltages [ Vf  Vfd ]|Device resistance|Time step Ts (s) :"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on"
	      MaskCallbackString      "||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,,"
	      MaskVariables	      "nb_arm=@1;Tf=@2;Tt=@3;Cs=@4;VFs=@5;Rsw="
"@6;Ts=@7;"
	      MaskInitialization      "Vf=VFs(1);\nVfd=VFs(2);\nnb_switch=nb_a"
"rm*2;\nif nb_arm==1,\n   Selec_Diode=[2 1];\n   Block3Elements=[1 2];\n   Vsw"
"Elements=[1 2];\nelseif nb_arm==2,\n   Selec_Diode=[2 1 4 3];\n   Block3Eleme"
"nts=[1 3 2 4];\n   VswElements=[1 2 4 5];\nelseif nb_arm==3,\n   Selec_Diode="
"[2 1 4 3 6 5];\n   Block3Elements=[1 3 5 2 4 6];\n   VswElements=[1 2 4 5 7 8"
"];\nend"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "nb_arm|0|0|Cs|Par_Vf|Ron|Ts"
	      MaskTabNameString	      ",,,,,,"
	      System {
		Name			"2-level GTO-IGBT Bridge \nLogic (modi"
"fied)"
		Location		[69, 268, 1108, 722]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "v"
		  Position		  [15, 247, 45, 263]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "g"
		  Position		  [20, 282, 50, 298]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Block12"
		  Position		  [405, 57, 435, 73]
		  ForegroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Trig12"
		  Position		  [485, 102, 515, 118]
		  ForegroundColor	  "red"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [795, 135, 845, 155]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion4"
		  Position		  [115, 278, 165, 302]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [500, 256, 505, 294]
		  ForegroundColor	  "red"
		  BackgroundColor	  "red"
		  ShowName		  off
		  Outputs		  "[nb_arm nb_arm]"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Diode Logic"
		  Ports			  [2, 2]
		  Position		  [315, 27, 370, 83]
		  ForegroundColor	  "red"
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Diode Logic"
		    Location		    [117, 211, 780, 540]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Vak"
		    Position		    [15, 30, 35, 50]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "G"
		    Position		    [15, 100, 35, 120]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "0 2"
		    Position		    [155, 45, 175, 65]
		    ShowName		    off
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "1"
		    Ports		    [2, 1]
		    Position		    [425, 86, 455, 119]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Blocking Diodes"
		    Ports		    [1, 1]
		    Position		    [140, 87, 200, 133]
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    System {
		    Name		    "Blocking Diodes"
		    Location		    [209, 470, 834, 654]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "G"
		    Position		    [40, 60, 70, 80]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Bloque D214365"
		    Ports		    [1, 1]
		    Position		    [410, 53, 440, 107]
		    Elements		    "Selec_Diode"
		    InputPortWidth	    "nb_switch"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [215, 54, 245, 86]
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [140, 55, 170, 85]
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Pulse 1 step"
		    Ports		    [2, 1]
		    Position		    [305, 62, 335, 93]
		    Port {
		    PortNumber		    1
		    Name		    "Blockinkg "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Block.D"
		    Position		    [490, 70, 520, 90]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "G"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50; 190, 0]
		    DstBlock		    "Pulse 1 step"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Pulse 1 step"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Blockinkg "
		    Labels		    [0, 0]
		    SrcBlock		    "Pulse 1 step"
		    SrcPort		    1
		    DstBlock		    "Bloque D214365"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Bloque D214365"
		    SrcPort		    1
		    DstBlock		    "Block.D"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion5"
		    Position		    [295, 41, 315, 59]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator3"
		    Ports		    [1, 1]
		    Position		    [355, 105, 385, 135]
		    ShowName		    off
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "b6"
		    Position		    [205, 34, 230, 61]
		    ShowName		    off
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "status"
		    Position		    [615, 155, 635, 175]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "block"
		    Position		    [475, 275, 495, 295]
		    ForegroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion5"
		    SrcPort		    1
		    Points		    [90, 0]
		    DstBlock		    "1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "b6"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion5"
		    DstPort		    1
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "Vak"
		    SrcPort		    1
		    DstBlock		    "b6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "0 2"
		    SrcPort		    1
		    DstBlock		    "b6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "G"
		    SrcPort		    1
		    DstBlock		    "Blocking Diodes"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Blocking Diodes"
		    SrcPort		    1
		    Points		    [110, 0; 0, 10; 15, 0]
		    Branch {
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 165]
		    DstBlock		    "block"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator3"
		    SrcPort		    1
		    Points		    [0, -10]
		    DstBlock		    "1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "1"
		    SrcPort		    1
		    Points		    [90, 0; 0, 60]
		    DstBlock		    "status"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "GTO Logic"
		  Ports			  [2, 1]
		  Position		  [285, 185, 340, 240]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "GTO Logic"
		    Location		    [322, 443, 719, 657]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Vak"
		    Position		    [30, 44, 50, 66]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "G"
		    Position		    [25, 131, 45, 149]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    " "
		    Position		    [140, 133, 160, 162]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "    "
		    Position		    [30, 175, 55, 195]
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    ". "
		    Ports		    [2, 1]
		    Position		    [255, 85, 285, 125]
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion1"
		    Position		    [180, 55, 230, 75]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion2"
		    Position		    [180, 140, 230, 160]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion3"
		    Position		    [75, 145, 120, 165]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vpos"
		    Position		    [75, 64, 105, 86]
		    Value		    "0"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "b"
		    Position		    [140, 48, 160, 77]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "status"
		    Position		    [340, 95, 360, 115]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion3"
		    SrcPort		    1
		    DstBlock		    " "
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "    "
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion2"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    ". "
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    " "
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    ". "
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "b"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "G"
		    SrcPort		    1
		    DstBlock		    " "
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vpos"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "b"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Vak"
		    SrcPort		    1
		    DstBlock		    "b"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    ". "
		    SrcPort		    1
		    DstBlock		    "status"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "G_D"
		  Ports			  [2, 1]
		  Position		  [725, 118, 760, 167]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Logic
		  Name			  "G_D2"
		  Ports			  [1, 1]
		  Position		  [465, 55, 500, 75]
		  ForegroundColor	  "red"
		  ShowName		  off
		  Operator		  "NOT"
		}
		Block {
		  BlockType		  Logic
		  Name			  "G_D3"
		  Ports			  [2, 1]
		  Position		  [540, 256, 565, 294]
		  ForegroundColor	  "red"
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Logic
		  Name			  "G_D4"
		  Ports			  [2, 1]
		  Position		  [605, 43, 640, 92]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [205, 105, 235, 135]
		  Orientation		  "up"
		  ShowName		  off
		  Gain			  "-1"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [840, 30, 870, 60]
		  ForegroundColor	  "red"
		  ShowName		  off
		  Gain			  "2"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [885, 30, 915, 60]
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory1"
		  Position		  [875, 130, 905, 160]
		}
		Block {
		  BlockType		  Logic
		  Name			  "Note 3"
		  Ports			  [2, 1]
		  Position		  [540, 29, 570, 76]
		  ForegroundColor	  "red"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Select_Block3"
		  Ports			  [1, 1]
		  Position		  [420, 262, 440, 288]
		  ForegroundColor	  "red"
		  Elements		  "Block3Elements"
		  InputPortWidth	  "nb_switch"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Select_Vsw"
		  Ports			  [1, 1]
		  Position		  [60, 243, 90, 267]
		  Elements		  "VswElements"
		  InputPortWidth	  "nb_arm*3"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Vf "
		  Ports			  [1, 1]
		  Position		  [725, 19, 810, 71]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Vf "
		    Location		    [602, 81, 1068, 350]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "status_GTO"
		    Position		    [85, 63, 115, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [190, 55, 220, 85]
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vf device"
		    Position		    [25, 23, 145, 47]
		    Value		    "Vf*ones(nb_switch,1)"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vf diode"
		    Position		    [25, 98, 145, 122]
		    Value		    "-Vfd*ones(nb_switch,1)"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Vf"
		    Position		    [340, 63, 370, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "[0]"
		    }
		    Line {
		    SrcBlock		    "Vf device"
		    SrcPort		    1
		    Points		    [15, 0; 0, 25]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vf diode"
		    SrcPort		    1
		    Points		    [10, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Vf"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "status_GTO"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "status"
		  Position		  [940, 137, 970, 153]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vf"
		  Position		  [950, 37, 980, 53]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Block3"
		  Position		  [615, 268, 645, 282]
		  ForegroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "status_GTO"
		  Position		  [710, 207, 740, 223]
		  Port			  "4"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  DstBlock		  "G_D3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  DstBlock		  "G_D3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Select_Block3"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Select_Vsw"
		  SrcPort		  1
		  Points		  [125, 0; 0, -55]
		  Branch {
		    DstBlock		    "GTO Logic"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Trig12"
		  SrcPort		  1
		  Points		  [70, 0]
		  DstBlock		  "G_D4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Note 3"
		  SrcPort		  1
		  DstBlock		  "G_D4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "G_D4"
		  SrcPort		  1
		  Points		  [50, 0; 0, 60]
		  DstBlock		  "G_D"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  DstBlock		  "Vf"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  DstBlock		  "Memory1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "G_D"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Memory1"
		  SrcPort		  1
		  DstBlock		  "status"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion4"
		  SrcPort		  1
		  Points		  [80, 0; 0, -65]
		  DstBlock		  "GTO Logic"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "g"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "GTO Logic"
		  SrcPort		  1
		  Points		  [320, 0]
		  Branch {
		    DstBlock		    "status_GTO"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -60]
		    Branch {
		    Points		    [0, -110]
		    DstBlock		    "Vf "
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-390, 0; 0, -85]
		    DstBlock		    "Diode Logic"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "G_D"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "Vf "
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "v"
		  SrcPort		  1
		  DstBlock		  "Select_Vsw"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [0, -60]
		  DstBlock		  "Diode Logic"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Diode Logic"
		  SrcPort		  2
		  Points		  [15, 0; 0, 205]
		  DstBlock		  "Select_Block3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Diode Logic"
		  SrcPort		  1
		  DstBlock		  "Note 3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Block12"
		  SrcPort		  1
		  DstBlock		  "G_D2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "G_D2"
		  SrcPort		  1
		  DstBlock		  "Note 3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Memory"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "G_D3"
		  SrcPort		  1
		  DstBlock		  "Block3"
		  DstPort		  1
		}
		Annotation {
		  Name			  "Diode Logic :\n1) Diodes are blocke"
"d when complementary GTOs are switched on"
		  Position		  [246, 358]
		  ForegroundColor	  "red"
		  FontSize		  12
		}
		Annotation {
		  Name			  "Note 3: See Sw3 logic "
		  Position		  [134, 396]
		  ForegroundColor	  "red"
		  FontSize		  12
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Input"
	      Ports		      [1, 1]
	      Position		      [85, 258, 120, 292]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Input"
		Location		[741, 349, 1126, 514]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [85, 68, 115, 82]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [120, 96, 135, 114]
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "require"
		  Ports			  [2, 1]
		  Position		  [180, 67, 210, 98]
		  ShowName		  off
		  OutDataTypeMode	  "Specify via dialog"
		  LogicDataType		  "float('double')"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [235, 78, 265, 92]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "require"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "require"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [15, 0; 0, -15]
		  DstBlock		  "require"
		  DstPort		  2
		}
		Annotation {
		  Name			  "This block is required when the \"p"
"ulses\" input is not connected"
		  Position		  [176, 25]
		}
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [530, 71, 535, 109]
	      ShowName		      off
	      Inputs		      "[nb_arm*2 nb_arm]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [2, 1]
	      Position		      [530, 141, 535, 179]
	      ShowName		      off
	      Inputs		      "[nb_arm*2 nb_arm]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Select_Status"
	      Ports		      [1, 1]
	      Position		      [585, 76, 605, 104]
	      Elements		      "StatusElements"
	      InputPortWidth	      "3*nb_arm"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Select_Status1"
	      Ports		      [1, 1]
	      Position		      [585, 147, 605, 173]
	      Elements		      "StatusElements"
	      InputPortWidth	      "3*nb_arm"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "SubSystem"
	      Ports		      []
	      Position		      [56, 12, 99, 48]
	      ForegroundColor	      "blue"
	      DropShadow	      on
	      ShowName		      off
	      FontWeight	      "bold"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('?')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"SubSystem"
		Location		[81, 152, 948, 638]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Annotation {
		  Name			  "(or B or C)"
		  Position		  [381, 246]
		}
		Annotation {
		  Name			  "(or B or C)"
		  Position		  [806, 246]
		}
		Annotation {
		  Name			  "<======>"
		  Position		  [501, 222]
		  ForegroundColor	  "red"
		  FontSize		  18
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "|\n|\n|\n|\n|\n[Sw2]\n|\n|\n|\n|"
		  Position		  [726, 289]
		}
		Annotation {
		  Name			  "|\n|\n|\n|\n|\n[Sw1]\n|\n|\n|\n|"
		  Position		  [726, 159]
		}
		Annotation {
		  Name			  "+ Vdc ------------"
		  Position		  [660, 97]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "---------- A"
		  Position		  [770, 227]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "+ Vdc --------------------------"
		  Position		  [160, 77]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "- Vdc--------------------------"
		  Position		  [160, 372]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "N ----------"
		  Position		  [103, 226]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|"
		  Position		  [147, 228]
		}
		Annotation {
		  Name			  "------------ A"
		  Position		  [335, 227]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "-----<-[D6]---------"
		  Position		  [213, 295]
		}
		Annotation {
		  Name			  "-------[D5]-->-------"
		  Position		  [213, 155]
		}
		Annotation {
		  Name			  "|\n|\n[Q4 - D4]\n|\n|\n|"
		  Position		  [281, 334]
		}
		Annotation {
		  Name			  "|\n|\n[Q3 - D3]\n|\n|"
		  Position		  [281, 259]
		}
		Annotation {
		  Name			  "|\n|\n[Q2 - D2]\n|\n|"
		  Position		  [281, 189]
		}
		Annotation {
		  Name			  "|\n|\n|\n[Q1 - D1]\n|\n|"
		  Position		  [281, 114]
		}
		Annotation {
		  Name			  "-[Sw3]-----"
		  Position		  [688, 225]
		}
		Annotation {
		  Name			  "N ----"
		  Position		  [633, 226]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  " - Vdc ------------"
		  Position		  [655, 347]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "D5, D6 : Clamping diodes"
		  Position		  [222, 417]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Sw3 (clamping diode)\nLogic"
	      Ports		      [4, 5]
	      Position		      [185, 234, 275, 336]
	      ForegroundColor	      "blue"
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskPromptString	      "Number of bridge arm:|Forward Voltages "
"[ Vf  Vfd ]|Sample time:"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVarAliasString      ",,"
	      MaskVariables	      "nb_arm=@1;VFs=@2;Ts=@3;"
	      MaskInitialization      "Vf=VFs(1);\nVfd=VFs(2);\nnb_switch=nb_a"
"rm*2;\nif nb_arm==1,\n   Vsw3Elements=[3];\n   PulseElements=[1 2 3 4];\n   g"
"12Elements=[1 2];\n  Trig12Elements=[1 2];\nBlockDElements=[1 2];\nelseif nb_"
"arm==2,\n   Vsw3Elements=[3 6];\n   PulseElements=[1 5 2 6 3 7 4 8];\n   g12E"
"lements=[1 3 2 4];\n  BlockDElements=[1 3 2 4];\n  Trig12Elements=[1 3 2 4];"
"\nelseif nb_arm==3,\n   Vsw3Elements=[3 6 9];\n   PulseElements=[1 5 9 2 6 10"
" 3 7 11 4 8 12];\n   g12Elements=[1 4 2 5 3 6];\n   BlockDElements=[1 4 2 5 3"
" 6];\n  Trig12Elements=[1 3 5 2 4 6];\nend"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "nb_arm|Par_Vf|Ts"
	      MaskTabNameString	      ",,"
	      System {
		Name			"Sw3 (clamping diode)\nLogic"
		Location		[138, 174, 1069, 774]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "V_Sw123"
		  Position		  [25, 338, 55, 352]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Pulses"
		  Position		  [70, 163, 100, 177]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Block3"
		  Position		  [355, 463, 385, 477]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Status_GTO"
		  Position		  [85, 243, 115, 257]
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 2"
		  Position		  [150, 355, 170, 375]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Logic
		  Name			  "1"
		  Ports			  [2, 1]
		  Position		  [410, 317, 440, 368]
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "D5_On"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "2"
		  Ports			  [1, 1]
		  Position		  [320, 403, 350, 437]
		  ShowName		  off
		  Operator		  "NOT"
		}
		Block {
		  BlockType		  Logic
		  Name			  "3"
		  Ports			  [2, 1]
		  Position		  [515, 336, 545, 369]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Logic
		  Name			  "4"
		  Ports			  [2, 1]
		  Position		  [410, 382, 440, 433]
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "D6_On"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "5"
		  Ports			  [2, 1]
		  Position		  [595, 339, 630, 401]
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "6"
		  Ports			  [1, 1]
		  Position		  [425, 453, 455, 487]
		  ShowName		  off
		  Operator		  "NOT"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [245, 344, 295, 366]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [690, 359, 740, 381]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion4"
		  Position		  [200, 159, 250, 181]
		  BackgroundColor	  "green"
		  ShowName		  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 4]
		  Position		  [310, 99, 315, 236]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "[nb_arm nb_arm nb_arm nb_arm]"
		  Port {
		    PortNumber		    1
		    Name		    "Q1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  Port {
		    PortNumber		    2
		    Name		    "Q2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  Port {
		    PortNumber		    3
		    Name		    "Q3"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  Port {
		    PortNumber		    4
		    Name		    "Q4"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [2, 1]
		  Position		  [400, 104, 430, 151]
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [2, 1]
		  Position		  [400, 174, 430, 221]
		  ShowName		  off
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [780, 175, 810, 205]
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory1"
		  Position		  [780, 355, 810, 385]
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [480, 121, 485, 159]
		  ShowName		  off
		  Inputs		  "[nb_arm nb_arm]"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Note 3"
		  Ports			  [1, 1]
		  Position		  [685, 267, 745, 313]
		  ForegroundColor	  "red"
		  DropShadow		  on
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Note 3"
		    Location		    [58, 418, 729, 605]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "G"
		    Position		    [40, 60, 70, 80]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [215, 54, 245, 86]
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [140, 55, 170, 85]
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [450, 71, 455, 109]
		    ShowName		    off
		    Inputs		    "[nb_arm nb_arm]"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Pulse 1 step"
		    Ports		    [2, 1]
		    Position		    [305, 62, 335, 93]
		    Port {
		    PortNumber		    1
		    Name		    "Blocking "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Select_BlockD"
		    Ports		    [1, 1]
		    Position		    [510, 75, 535, 105]
		    Elements		    "BlockDElements"
		    InputPortWidth	    "nb_arm*2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Block.D"
		    Position		    [580, 80, 610, 100]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Select_BlockD"
		    SrcPort		    1
		    DstBlock		    "Block.D"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "Select_BlockD"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Blocking "
		    Labels		    [0, 0]
		    SrcBlock		    "Pulse 1 step"
		    SrcPort		    1
		    Points		    [75, 0]
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "G"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50; 190, 0]
		    DstBlock		    "Pulse 1 step"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Pulse 1 step"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Note 4"
		  Ports			  [4, 1]
		  Position		  [670, 27, 745, 88]
		  ForegroundColor	  "red"
		  DropShadow		  on
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Note 4"
		    Location		    [60, 92, 869, 702]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "pulses"
		    Position		    [30, 93, 60, 107]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "D5_On"
		    Position		    [245, 218, 275, 232]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "D6_On"
		    Position		    [245, 23, 275, 37]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Status_GTO"
		    Position		    [65, 383, 95, 397]
		    Port		    "4"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 4]
		    Position		    [95, 46, 100, 149]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "[nb_arm nb_arm nb_arm nb_arm]"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux1"
		    Ports		    [1, 2]
		    Position		    [245, 338, 250, 442]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "[nb_arm nb_arm]"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [325, 54, 355, 76]
		    ShowName		    off
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [4, 1]
		    Position		    [145, 43, 175, 152]
		    ShowName		    off
		    Operator		    "NOR"
		    Inputs		    "4"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator10"
		    Ports		    [1, 1]
		    Position		    [305, 534, 335, 556]
		    ShowName		    off
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator2"
		    Ports		    [3, 1]
		    Position		    [420, 311, 450, 409]
		    ShowName		    off
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator3"
		    Ports		    [3, 1]
		    Position		    [410, 12, 445, 118]
		    ShowName		    off
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator4"
		    Ports		    [1, 1]
		    Position		    [325, 249, 355, 271]
		    ShowName		    off
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator5"
		    Ports		    [3, 1]
		    Position		    [405, 172, 440, 278]
		    ShowName		    off
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator6"
		    Ports		    [1, 1]
		    Position		    [290, 379, 320, 401]
		    ShowName		    off
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator7"
		    Ports		    [2, 1]
		    Position		    [505, 39, 540, 146]
		    ShowName		    off
		    Operator		    "OR"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator8"
		    Ports		    [2, 1]
		    Position		    [520, 199, 555, 306]
		    ShowName		    off
		    Operator		    "OR"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator9"
		    Ports		    [3, 1]
		    Position		    [415, 466, 445, 564]
		    ShowName		    off
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory"
		    Position		    [325, 15, 355, 45]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    Position		    [330, 210, 360, 240]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    Position		    [295, 335, 325, 365]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory3"
		    Position		    [310, 495, 340, 525]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [630, 86, 635, 124]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Select_StatGTO"
		    Ports		    [1, 1]
		    Position		    [165, 378, 185, 402]
		    Elements		    "Trig12Elements"
		    InputPortWidth	    "nb_arm*2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Trig12"
		    Position		    [720, 98, 750, 112]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator9"
		    SrcPort		    1
		    Points		    [20, 0; 0, -395]
		    DstBlock		    "Logical\nOperator7"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator2"
		    SrcPort		    1
		    Points		    [25, 0; 0, -80]
		    DstBlock		    "Logical\nOperator8"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory3"
		    SrcPort		    1
		    Points		    [0, 5]
		    DstBlock		    "Logical\nOperator9"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    2
		    Points		    [20, 0; 0, 100]
		    Branch {
		    Points		    [20, 0]
		    DstBlock		    "Memory3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Logical\nOperator10"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator10"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator9"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Logical\nOperator6"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Select_StatGTO"
		    SrcPort		    1
		    DstBlock		    "Demux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator8"
		    SrcPort		    1
		    Points		    [25, 0; 0, -140]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator5"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator8"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator7"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator3"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator7"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    Points		    [0, 10]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator6"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Status_GTO"
		    SrcPort		    1
		    DstBlock		    "Select_StatGTO"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [0, 0; 135, 0]
		    Branch {
		    Points		    [0, 90; 65, 0]
		    Branch {
		    Points		    [0, 135]
		    Branch {
		    Points		    [0, 160]
		    DstBlock		    "Logical\nOperator9"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 5]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator5"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    4
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    3
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "Trig12"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator4"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator5"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "D5_On"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Logical\nOperator4"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "D6_On"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "pulses"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "Select_Pulses"
		  Ports			  [1, 1]
		  Position		  [135, 157, 160, 183]
		  Elements		  "PulseElements"
		  InputPortWidth	  "nb_arm*4"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Select_Vsw3"
		  Ports			  [1, 1]
		  Position		  [95, 329, 115, 361]
		  Elements		  "Vsw3Elements"
		  InputPortWidth	  "nb_arm*3"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Select_g12a"
		  Ports			  [1, 1]
		  Position		  [525, 129, 550, 151]
		  Elements		  "g12Elements"
		  InputPortWidth	  "nb_arm*2"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Select_g12b"
		  Ports			  [1, 1]
		  Position		  [790, 47, 815, 73]
		  Elements		  "g12Elements"
		  InputPortWidth	  "nb_arm*2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Vf Computation\nfor Sw3"
		  Ports			  [1, 1]
		  Position		  [675, 158, 740, 222]
		  DropShadow		  on
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Vf Computation\nfor Sw3"
		    Location		    [254, 518, 887, 788]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "D5_On"
		    Position		    [185, 63, 215, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    Position		    [285, 35, 315, 65]
		    ShowName		    off
		    Gain		    "-1"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain2"
		    Position		    [285, 75, 315, 105]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [370, 43, 400, 97]
		    ShowName		    off
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vf device"
		    Position		    [35, 38, 165, 62]
		    Value		    "(Vf+Vfd)*ones(nb_arm,1)"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Vf"
		    Position		    [485, 63, 515, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Vf"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vf device"
		    SrcPort		    1
		    Points		    [80, 0]
		    Branch {
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Gain2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain2"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "D5_On"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b6"
		  Position		  [190, 337, 220, 373]
		  ShowName		  off
		  Operator		  "<"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Status"
		  Position		  [855, 363, 885, 377]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vf"
		  Position		  [860, 183, 890, 197]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "g12"
		  Position		  [575, 133, 605, 147]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Block12"
		  Position		  [825, 283, 855, 297]
		  Port			  "4"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Trig12"
		  Position		  [855, 53, 885, 67]
		  Port			  "5"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Status_GTO"
		  SrcPort		  1
		  Points		  [525, 0; 0, -170]
		  DstBlock		  "Note 4"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Select_Pulses"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Note 4"
		  SrcPort		  1
		  DstBlock		  "Select_g12b"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  DstBlock		  "Memory1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "6"
		  SrcPort		  1
		  Points		  [85, 0; 0, -85]
		  DstBlock		  "5"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "3"
		  SrcPort		  1
		  DstBlock		  "5"
		  DstPort		  1
		}
		Line {
		  Name			  "D5_On"
		  Labels		  [0, 0]
		  SrcBlock		  "1"
		  SrcPort		  1
		  Points		  [0, 0; 30, 0]
		  Branch {
		    Points		    [0, -155; 135, 0]
		    Branch {
		    Points		    [0, -140]
		    DstBlock		    "Note 4"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Vf Computation\nfor Sw3"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "3"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "D6_On"
		  Labels		  [0, 0]
		  SrcBlock		  "4"
		  SrcPort		  1
		  Points		  [45, 0; 0, -50]
		  Branch {
		    Points		    [0, -160; 135, 0; 0, -135]
		    DstBlock		    "Note 4"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "3"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  Points		  [-10, 0; 15, 0]
		  Branch {
		    DstBlock		    "2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "b6"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [25, 0; 0, -50]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  Name			  "Q4"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  4
		  Points		  [40, 0; 0, -10]
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  2
		}
		Line {
		  Name			  "Q3"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  3
		  Points		  [0, 0; 60, 0]
		  Branch {
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 210]
		    DstBlock		    "4"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "Q2"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 50, 0]
		  Branch {
		    Points		    [0, 180]
		    DstBlock		    "1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -10]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		  }
		}
		Line {
		  Name			  "Q1"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion4"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, -135]
		    DstBlock		    "Note 4"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Demux"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  DstBlock		  "Vf"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vf Computation\nfor Sw3"
		  SrcPort		  1
		  DstBlock		  "Memory"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "Select_g12a"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Pulses"
		  SrcPort		  1
		  DstBlock		  "Select_Pulses"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "0 2"
		  SrcPort		  1
		  DstBlock		  "b6"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "V_Sw123"
		  SrcPort		  1
		  DstBlock		  "Select_Vsw3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "2"
		  SrcPort		  1
		  DstBlock		  "4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Memory1"
		  SrcPort		  1
		  DstBlock		  "Status"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Block3"
		  SrcPort		  1
		  DstBlock		  "6"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "Note 3"
		  SrcPort		  1
		  DstBlock		  "Block12"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "5"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "Data Type \nConversion2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -80]
		    DstBlock		    "Note 3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Select_Vsw3"
		  SrcPort		  1
		  DstBlock		  "b6"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Select_g12a"
		  SrcPort		  1
		  DstBlock		  "g12"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Select_g12b"
		  SrcPort		  1
		  DstBlock		  "Trig12"
		  DstPort		  1
		}
		Annotation {
		  Name			  "Note 4: When no pulses are sent to "
"the valves:\ntrig (one time step) diodes D1 and D2 when diode D6 stop conduct"
"ing or when Q3+Q4 stop conducting\nor trig (one time step) diodes D3 and D4 w"
"hen diode D5 stop conducting or when Q1+Q2 stop conducting."
		  Position		  [29, 561]
		  HorizontalAlignment	  "left"
		  ForegroundColor	  "red"
		  FontSize		  12
		}
		Annotation {
		  Name			  "Note 3: Diodes D1,D2,D3 and D4 are "
"blocked for one step when diode 5 or 6 (Sw3) start conducting"
		  Position		  [299, 526]
		  ForegroundColor	  "red"
		  FontSize		  12
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "x"
	      Position		      [655, 28, 685, 42]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Status"
	      Position		      [655, 83, 685, 97]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vf"
	      Position		      [650, 153, 680, 167]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Line {
	      SrcBlock		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      SrcPort		      4
	      Points		      [5, 0; 0, 70; -300, 0; 0, 100]
	      DstBlock		      "Sw3 (clamping diode)\nLogic"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "Input"
	      SrcPort		      1
	      DstBlock		      "Sw3 (clamping diode)\nLogic"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "Input"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sw3 (clamping diode)\nLogic"
	      SrcPort		      5
	      Points		      [40, 0; 0, -170]
	      DstBlock		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [0, 0; 20, 0]
	      Branch {
		DstBlock		"2-level GTO-IGBT Bridge \nLogic (modi"
"fied)"
		DstPort			1
	      }
	      Branch {
		Points			[0, 170]
		DstBlock		"Sw3 (clamping diode)\nLogic"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      DstBlock		      "Select_Status1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Select_Status"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      SrcPort		      2
	      Points		      [35, 0; 0, 45]
	      DstBlock		      "Mux1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sw3 (clamping diode)\nLogic"
	      SrcPort		      1
	      Points		      [215, 0; 0, -145]
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sw3 (clamping diode)\nLogic"
	      SrcPort		      2
	      Points		      [225, 0; 0, -95]
	      DstBlock		      "Mux1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sw3 (clamping diode)\nLogic"
	      SrcPort		      3
	      Points		      [15, 0; 0, -180]
	      DstBlock		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sw3 (clamping diode)\nLogic"
	      SrcPort		      4
	      Points		      [30, 0; 0, -175]
	      DstBlock		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      SrcPort		      3
	      Points		      [20, 0; 0, 245; -330, 0; 0, -75]
	      DstBlock		      "Sw3 (clamping diode)\nLogic"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Select_Status"
	      SrcPort		      1
	      DstBlock		      "Status"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Select_Status1"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		DstBlock		"Vf"
		DstPort			1
	      }
	      Branch {
		Points			[0, -125]
		DstBlock		"x"
		DstPort			1
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "asynchronous_machine"
	  Ports			  [2, 2]
	  Position		  [355, 14, 400, 81]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Asynchronous Machine Model"
	  MaskDescription	  "Simulink model for the Asynchronous Machine"
" blocks. The machine is  modeled in the dq rotor reference frame. Stator and "
"rotor windings are connected in wye to an internal neutral point."
	  MaskHelp		  "First 3 inputs: Stator terminals = phases a"
", b and c; 4th input: Simulink signal = Mechanical torque applied to the shaf"
"t (p.u., >0 for motor mode, <0 for generator mode); First 3 outputs: Rotor te"
"rminals = phases a, b and c; 4th output: Simulink measurement output = vector"
" (20x1) containing the following (all currents flowing into the machine): [1-"
"3] : Rotor line currents ira, irb and irc; [4-5] : Rotor currents iqr and idr"
"; [6-7] : Rotor fluxes phiqr and  phidr; [8-9] : Rotor voltages vqr and vdr; "
"[10-12] : Stator line currents isa, isb, isc; [13-14] : Stator currents iqs a"
"nd ids; [15-16] : Stator fluxes phiqs and  phids; [17-18] : Stator voltages v"
"qs and vds; [19] : Rotor speed wm; [20 ]: Electromagnetic torque Te. Units of"
" output measurement depend on checkbox in block's dialog box."
	  MaskPromptString	  "Rotor type:|Reference frame:|Nom. power,L-L"
" volt. and freq. [ Pn(VA),Vn(Vrms),fn(Hz) ]:|Stator [ Rs,Lls (p.u.) ]:|Rotor "
"[ Rr',Llr' (p.u.) ]:|Magnetizing inductance Lm (p.u.):|Inertia constant,frict"
"ion factor and pairs of poles [ H(s)  F(p.u.)  p() ]:|Initial conditions [ s("
")  th(deg)   isa,isb,isc(p.u.)   pha,phb,phc(deg) ]:|I/O units (check for S.I"
"., otherwise p.u.)"
	  MaskStyleString	  "popup(Wound|Squirrel-cage),popup(Rotor|Stat"
"ionary|Synchronous),edit,edit,edit,edit,edit,edit,checkbox"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "||||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,"
	  MaskVariables		  "rotType=@1;ctrl=@2;nom=@3;sta=@4;rot=@5;Lm="
"@6;mec=@7;ini=@8;iounits=@9;"
	  MaskInitialization	  "[Rs,Lls,Rr,Llr,H,F,p,Laq,Lad,web_psb,Vb,Vb2"
",ib,ib2,phib2,Nb2,Tb2,phisqo,phisdo,phirqo,phirdo,wmo,tho] = powericonV2('Asy"
"nchronous Machine Model',nom, sta, rot, Lm, mec,ini,iounits);one_third=1/3; s"
"qrt3_3=sqrt(3)/3;sqrt3=sqrt(3);\nswitch rotType\n    case 1, selWidth=6; elem"
"ents1=3:6; elements2=1:4;\n    case 2, selWidth=4; elements1=1:4; elements2=3"
":4;\nend"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "Wound|Rotor|[2.2380e+03  2.2000e+02  6.0000"
"e+01]|[2.0114e-02  3.4865e-02]|[3.7732e-02  3.4865e-02]|[1.2082e+00]|[7.0650e"
"-01  0.0000e+00  2.0000e+00]|[1.0000e+00  0.0000e+00  0.0000e+00  0.0000e+00 "
" 0.0000e+00  0.0000e+00  0.0000e+00  0.0000e+00]|on"
	  MaskTabNameString	  ",,,,,,,,"
	  System {
	    Name		    "asynchronous_machine"
	    Location		    [188, 441, 771, 810]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [20, 33, 50, 47]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "Tm"
	      Position		      [20, 258, 50, 272]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [475, 179, 500, 211]
	      Gain		      "[ib2*ones(5,1);phib2;phib2;Vb2;Vb2;ib2*"
"ones(5,1);phib2;phib2;Vb2;Vb2;Nb2;Tb2;1]"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Mechanical"
	      Ports		      [2, 2]
	      Position		      [85, 276, 160, 354]
	      Orientation	      "left"
	      ShowName		      off
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('Mechanical')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Mechanical"
		Location		[62, 204, 703, 381]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Tm"
		  Position		  [15, 28, 45, 42]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phis,is"
		  Position		  [15, 123, 45, 137]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\p"
		  Position		  [485, 130, 525, 160]
		  ShowName		  off
		  Gain			  "1/p"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_2H"
		  Position		  [285, 28, 320, 62]
		  Gain			  "1/(2*H)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Tb2"
		  Position		  [165, 14, 205, 56]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/Tb2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "F"
		  Position		  [315, 73, 340, 97]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "F"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [340, 35, 360, 55]
		  ShowName		  off
		  InitialCondition	  "wmo"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  Ports			  [1, 1]
		  Position		  [440, 35, 460, 55]
		  ShowName		  off
		  InitialCondition	  "tho"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [505, 33, 510, 77]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [3, 1]
		  Position		  [550, 72, 555, 158]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [1, 1]
		  Position		  [145, 104, 170, 126]
		  ShowName		  off
		  Inputs		  "1"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [1, 1]
		  Position		  [145, 134, 170, 156]
		  ShowName		  off
		  Inputs		  "1"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  Ports			  [1, 1]
		  Position		  [75, 103, 120, 127]
		  ShowName		  off
		  Elements		  "[1 4]"
		  InputPortWidth	  "4"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector1"
		  Ports			  [1, 1]
		  Position		  [75, 133, 120, 157]
		  ShowName		  off
		  Elements		  "[2 3]"
		  InputPortWidth	  "4"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [245, 28, 265, 62]
		  ShowName		  off
		  Inputs		  "-+-"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [190, 105, 210, 125]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|-+"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [395, 24, 425, 66]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "w,Te,thr"
		  Position		  [580, 108, 610, 122]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "thr,wr"
		  Position		  [580, 48, 610, 62]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "1\\p"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "1\\p"
		  SrcPort		  1
		  DstBlock		  "Mux4"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -70]
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "1_Tb2"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "F"
		  SrcPort		  1
		  Points		  [-80, 0]
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "web_psb"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 40]
		    Branch {
		    Points		    [100, 0]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -20]
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "F"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "1_2H"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "1_2H"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tm"
		  SrcPort		  1
		  DstBlock		  "1_Tb2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "thr,wr"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "w,Te,thr"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phis,is"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -15]
		    DstBlock		    "Selector"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 15]
		    DstBlock		    "Selector1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Selector1"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Mutual fluxes"
	      Ports		      [2, 1]
	      Position		      [230, 126, 365, 199]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Mutual fluxes"
		Location		[307, 430, 683, 620]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "phiqr,phidr"
		  Position		  [25, 63, 55, 77]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phiqs,phids"
		  Position		  [25, 123, 55, 137]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr"
		  Position		  [80, 51, 115, 89]
		  ShowName		  off
		  Gain			  "1/Llr"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr1"
		  Position		  [225, 36, 260, 74]
		  ShowName		  off
		  Gain			  "Laq"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr2"
		  Position		  [225, 121, 260, 159]
		  ShowName		  off
		  Gain			  "Lad"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Lls"
		  Position		  [80, 111, 115, 149]
		  ShowName		  off
		  Gain			  "1/Lls"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [145, 44, 150, 91]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  Ports			  [1, 2]
		  Position		  [145, 104, 150, 151]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [285, 14, 290, 181]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [170, 45, 190, 65]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [185, 130, 205, 150]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phimq,phimd"
		  Position		  [315, 93, 345, 107]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "phimq,phimd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1\\Llr2"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "1\\Llr1"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [40, 0]
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "1\\Lls"
		  SrcPort		  1
		  DstBlock		  "Demux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "1\\Llr1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1\\Llr"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phiqr,phidr"
		  SrcPort		  1
		  DstBlock		  "1\\Llr"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phiqs,phids"
		  SrcPort		  1
		  DstBlock		  "1\\Lls"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "1\\Llr2"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux3"
	      Ports		      [9, 1]
	      Position		      [440, 138, 445, 252]
	      ShowName		      off
	      Inputs		      "[3,2,2,2,3,2,2,2,3]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Rotor"
	      Ports		      [3, 2]
	      Position		      [230, 27, 365, 103]
	      ShowName		      off
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('Rotor')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Rotor"
		Location		[297, 107, 877, 445]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "vqr,vdr"
		  Position		  [20, 28, 50, 42]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "w-wr"
		  Position		  [20, 78, 50, 92]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phimq,phimd"
		  Position		  [20, 178, 50, 192]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr"
		  Position		  [195, 159, 235, 191]
		  ShowName		  off
		  Gain			  "1/Llr"
		  Port {
		    PortNumber		    1
		    Name		    "iqr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr1"
		  Position		  [265, 134, 300, 166]
		  ShowName		  off
		  Gain			  "Rr"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr2"
		  Position		  [150, 259, 190, 291]
		  ShowName		  off
		  Gain			  "1/Llr"
		  Port {
		    PortNumber		    1
		    Name		    "idr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr3"
		  Position		  [215, 259, 255, 291]
		  ShowName		  off
		  Gain			  "Rr"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [75, 16, 80, 54]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [90, 166, 95, 204]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [310, 163, 315, 207]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [480, 243, 485, 287]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [255, 63, 275, 92]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [145, 93, 165, 122]
		  Orientation		  "left"
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [3, 1]
		  Position		  [310, 260, 340, 290]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++-||"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [300, 65, 330, 95]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+--"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [145, 160, 175, 190]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+-|"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  Ports			  [2, 1]
		  Position		  [90, 260, 120, 290]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "-+|"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "phidr"
		  Ports			  [1, 1]
		  Position		  [420, 260, 450, 290]
		  InitialCondition	  "phirdo"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "phiqr"
		  Ports			  [1, 1]
		  Position		  [420, 65, 450, 95]
		  InitialCondition	  "phirqo"
		  Port {
		    PortNumber		    1
		    Name		    "phiqr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "web1"
		  Position		  [360, 259, 400, 291]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [355, 64, 395, 96]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "iqr,idr"
		  Position		  [515, 178, 545, 192]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "phiqr,phidr"
		  Position		  [515, 258, 545, 272]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "phiqr,phidr"
		  DstPort		  1
		}
		Line {
		  Name			  "phiqr"
		  SrcBlock		  "phiqr"
		  SrcPort		  1
		  Points		  [5, 0; 0, 50]
		  Branch {
		    Points		    [0, 125]
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [-275, 0]
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [-25, 0]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "web1"
		  SrcPort		  1
		  DstBlock		  "phidr"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "web1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w-wr"
		  SrcPort		  1
		  Points		  [130, 0]
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 15]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "phiqr"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phidr"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 40; -390, 0; 0, -40]
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -205]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "vqr,vdr"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [-15, 0; 0, 130; 200, 0]
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [30, 0; 0, 209]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "1\\Llr3"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  3
		}
		Line {
		  Name			  "idr"
		  SrcBlock		  "1\\Llr2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "1\\Llr3"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [-1, 0]
		    Points		    [0, -80]
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  DstBlock		  "1\\Llr2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [5, 0]
		  DstBlock		  "Sum4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "iqr,idr"
		  DstPort		  1
		}
		Line {
		  Name			  "iqr"
		  SrcBlock		  "1\\Llr"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Labels		    [-1, 1]
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "1\\Llr1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "1\\Llr1"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "Sum2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "1\\Llr"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [230, 0]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phimq,phimd"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Stator"
	      Ports		      [3, 3]
	      Position		      [230, 247, 365, 323]
	      ShowName		      off
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('Stator')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Stator"
		Location		[73, 194, 703, 505]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "phimq,phimd"
		  Position		  [25, 58, 55, 72]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "vqs,vds"
		  Position		  [25, 158, 55, 172]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "w"
		  Position		  [25, 103, 55, 117]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr"
		  Position		  [200, 39, 240, 71]
		  ShowName		  off
		  Gain			  "1/Lls"
		  Port {
		    PortNumber		    1
		    Name		    "iqs"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr1"
		  Position		  [270, 39, 305, 71]
		  ShowName		  off
		  Gain			  "Rs"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr2"
		  Position		  [150, 219, 190, 251]
		  ShowName		  off
		  Gain			  "1/Lls"
		  Port {
		    PortNumber		    1
		    Name		    "ids"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr3"
		  Position		  [220, 219, 260, 251]
		  ShowName		  off
		  Gain			  "Rs"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [85, 146, 90, 184]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [85, 46, 90, 84]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [500, 168, 505, 192]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [500, 218, 505, 242]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [540, 258, 545, 282]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [270, 103, 290, 132]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [155, 178, 175, 207]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [3, 1]
		  Position		  [310, 220, 340, 250]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++-||"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [310, 105, 340, 135]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "--+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [95, 220, 125, 250]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  Ports			  [2, 1]
		  Position		  [145, 40, 175, 70]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+-|"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "phids"
		  Ports			  [1, 1]
		  Position		  [420, 220, 450, 250]
		  InitialCondition	  "phisdo"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "phiqs"
		  Ports			  [1, 1]
		  Position		  [425, 105, 455, 135]
		  InitialCondition	  "phisqo"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web1"
		  Position		  [360, 219, 400, 251]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [360, 104, 400, 136]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phiqs,phids"
		  Position		  [565, 223, 595, 237]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "iqs,ids"
		  Position		  [565, 173, 595, 187]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "phis,is"
		  Position		  [565, 263, 595, 277]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "phimq,phimd"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  DstBlock		  "1\\Llr"
		  DstPort		  1
		}
		Line {
		  Name			  "iqs"
		  Labels		  [0, 0]
		  SrcBlock		  "1\\Llr"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, 120]
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "1\\Llr1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "1\\Llr1"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vqs,vds"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [230, 0]
		  DstBlock		  "Sum2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "phiqs"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phiqs"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 105]
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -100; -315, 0]
		    Branch {
		    Points		    [-30, 0; 0, 180]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "iqs,ids"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 95]
		    DstBlock		    "Mux4"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "w"
		  SrcPort		  1
		  Points		  [80, 0]
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [15, 0]
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "1\\Llr2"
		  DstPort		  1
		}
		Line {
		  Name			  "ids"
		  Labels		  [0, 0]
		  SrcBlock		  "1\\Llr2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "1\\Llr3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "1\\Llr3"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "web1"
		  SrcPort		  1
		  DstBlock		  "phids"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "web1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phids"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, -70; -210, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 40; -355, 0]
		    DstBlock		    "Sum3"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [25, 0; 0, 39]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [145, 0]
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "phiqs,phids"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "phis,is"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "abc2qd"
	      Ports		      [2, 2]
	      Position		      [85, 20, 165, 100]
	      ShowName		      off
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('abc2qd')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"abc2qd"
		Location		[563, 176, 1110, 609]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "v"
		  Position		  [20, 73, 50, 87]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "sin,cos"
		  Position		  [20, 108, 50, 122]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Vb"
		  Position		  [140, 61, 170, 99]
		  ShowName		  off
		  Gain			  "1/Vb"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [273, 15, 317, 40]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl==1"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [273, 150, 317, 175]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl==2"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [273, 285, 317, 310]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl==3"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [370, 45, 400, 60]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [425, 322, 455, 338]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl"
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch"
		  Ports			  [4, 1]
		  Position		  [430, 62, 460, 108]
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch1"
		  Ports			  [4, 1]
		  Position		  [430, 347, 460, 393]
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [190, 62, 195, 133]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Rotor reference frame"
		  Ports			  [1, 2, 1]
		  Position		  [230, 64, 360, 131]
		  ShowName		  off
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('Rotor\\nreference\\nframe')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Rotor reference frame"
		    Location		    [287, 195, 809, 431]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [440, 15, 460, 35]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [405, 123, 410, 212]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "Vqs,vds"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [405, 18, 410, 107]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "Vqr,vdr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vdr"
		    Position		    [110, 72, 360, 98]
		    Expr		    "-sqrt3_3 * u[2]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vds"
		    Position		    [110, 177, 360, 203]
		    Expr		    "one_third * (2*u[5]*u[3] + (u[5]-"
"sqrt3*u[6]) * u[4])"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vqr"
		    Position		    [110, 26, 360, 54]
		    Expr		    "one_third * (2*u[1] + u[2])"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vqs"
		    Position		    [110, 131, 360, 159]
		    Expr		    "one_third * (2*u[6]*u[3] + (u[6]+"
"sqrt3*u[5]) * u[4])"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vqr,vdr"
		    Position		    [475, 58, 505, 72]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vqs,vds"
		    Position		    [475, 163, 505, 177]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "vdr"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "vds"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "vqs"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "vqr"
		    DstPort		    1
		    }
		    }
		    Line {
		    Name		    "Vqr,vdr"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "vqr,vdr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vqr"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vdr"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    Name		    "Vqs,vds"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "vqs,vds"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vds"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "vqs"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Stationary reference frame"
		  Ports			  [1, 2, 1]
		  Position		  [230, 199, 360, 266]
		  ShowName		  off
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('Stationary\\nreference\\nfram"
"e')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Stationary reference frame"
		    Location		    [190, 419, 712, 655]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 43, 55, 57]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [425, 15, 445, 35]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [400, 123, 405, 212]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "Vqs,vds"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [400, 28, 405, 117]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "Vqr,vdr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vdr"
		    Position		    [105, 81, 360, 109]
		    Expr		    "one_third * (-2*u[5]*u[1] + (-u[5"
"]-sqrt3*u[6]) * u[2])"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vds"
		    Position		    [110, 177, 365, 203]
		    Expr		    "-sqrt3_3*u[4]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vqr"
		    Position		    [105, 36, 360, 64]
		    Expr		    "one_third * (2*u[6]*u[1] + (u[6]-"
"sqrt3*u[5]) * u[2])"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vqs"
		    Position		    [110, 131, 365, 159]
		    Expr		    "one_third * (2*u[3] + u[4])"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vqr,vdr"
		    Position		    [470, 68, 500, 82]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vqs,vds"
		    Position		    [470, 163, 500, 177]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    Name		    "Vqr,vdr"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "vqr,vdr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "vdr"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    DstBlock		    "vqs"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "vds"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "vqr"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "vdr"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "vqr"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Vqs,vds"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "vqs,vds"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vqs"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vds"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Synchronous reference frame"
		  Ports			  [1, 2, 1]
		  Position		  [230, 334, 360, 401]
		  ShowName		  off
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('Synchronous\\nreference\\nfra"
"me')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Synchronous reference frame"
		    Location		    [295, 454, 798, 690]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [400, 15, 420, 35]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [370, 123, 375, 212]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "Vqs,vds"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [370, 23, 375, 112]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "Vqr,vdr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vdr"
		    Position		    [110, 77, 335, 103]
		    Expr		    "(2*u[5]*u[1] + (u[5]-sqrt3*u[6]) "
"* u[2]) / 3"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vds"
		    Position		    [110, 177, 335, 203]
		    Expr		    "(2*u[7]*u[3] + (u[7]-sqrt3*u[8]) "
"* u[4]) / 3"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vqr"
		    Position		    [110, 31, 335, 59]
		    Expr		    "(2*u[6]*u[1] + (u[6]+sqrt3*u[5]) "
"* u[2]) / 3"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vqs"
		    Position		    [110, 131, 335, 159]
		    Expr		    "(2*u[8]*u[3] + (u[8]+sqrt3*u[7]) "
"* u[4]) / 3"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vqr,vdr"
		    Position		    [440, 63, 470, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vqs,vds"
		    Position		    [440, 163, 470, 177]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    Name		    "Vqr,vdr"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "vqr,vdr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "vdr"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "vqs"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "vds"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "vqr"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "vdr"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "vqr"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Vqs,vds"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "vqs,vds"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vds"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "vqs"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "transit"
		  Ports			  [1, 1]
		  Position		  [75, 63, 120, 97]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "transit"
		    Location		    [502, 571, 821, 714]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "vu"
		    Position		    [25, 53, 55, 67]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant6"
		    Position		    [70, 31, 105, 49]
		    ShowName		    off
		    Value		    "[0;0]"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [125, 31, 130, 69]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector"
		    Ports		    [1, 1]
		    Position		    [155, 15, 200, 85]
		    Elements		    "elements1"
		    InputPortWidth	    "selWidth"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vr,vs"
		    Position		    [230, 43, 260, 57]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Selector"
		    SrcPort		    1
		    DstBlock		    "vr,vs"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vu"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "Selector"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant6"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "vqr,vdr"
		  Position		  [485, 78, 515, 92]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "vqs,vds"
		  Position		  [485, 363, 515, 377]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "transit"
		  SrcPort		  1
		  DstBlock		  "1_Vb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  Points		  [-5, 0]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  Points		  [0, 5]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_Vb"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 135]
		    Branch {
		    Points		    [0, 135]
		    DstBlock		    "Synchronous reference frame"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Stationary reference frame"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Rotor reference frame"
		    DstPort		    1
		  }
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "sin,cos"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch"
		  SrcPort		  1
		  DstBlock		  "vqr,vdr"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Synchronous reference frame"
		  SrcPort		  2
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Stationary reference frame"
		  SrcPort		  2
		  Points		  [30, 0; 0, 125]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Rotor reference frame"
		  SrcPort		  2
		  Points		  [40, 0; 0, 250]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Synchronous reference frame"
		  SrcPort		  1
		  Points		  [20, 0; 0, -250]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Stationary reference frame"
		  SrcPort		  1
		  Points		  [10, 0; 0, -125]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Rotor reference frame"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch1"
		  SrcPort		  1
		  DstBlock		  "vqs,vds"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "Synchronous reference frame"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  DstBlock		  "Stationary reference frame"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Rotor reference frame"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "v"
		  SrcPort		  1
		  DstBlock		  "transit"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "dq2abc"
	      Ports		      [3, 3]
	      Position		      [415, 28, 505, 102]
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"dq2abc"
		Location		[749, 436, 1226, 863]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "sin,cos"
		  Position		  [20, 128, 50, 142]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "iqr,idr"
		  Position		  [20, 58, 50, 72]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "iqs,ids"
		  Position		  [20, 93, 50, 107]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [153, 15, 197, 40]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl==1"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [153, 150, 197, 175]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl==2"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [153, 285, 197, 310]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl==3"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [265, 40, 295, 55]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [305, 322, 335, 338]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl"
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch"
		  Ports			  [4, 1]
		  Position		  [305, 61, 330, 109]
		  ShowName		  off
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch1"
		  Ports			  [4, 1]
		  Position		  [310, 346, 335, 394]
		  ShowName		  off
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [3, 1]
		  Position		  [70, 50, 75, 150]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [315, 214, 320, 256]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [360, 102, 365, 153]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [405, 357, 410, 408]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Rotor reference frame"
		  Ports			  [1, 2, 1]
		  Position		  [110, 64, 240, 131]
		  ShowName		  off
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('Rotor\\nreference\\nframe')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Rotor reference frame"
		    Location		    [449, 416, 971, 652]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 43, 55, 57]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [480, 15, 500, 35]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [405, 28, 410, 117]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "ira,irb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [405, 123, 410, 212]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "isa,isb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "ira"
		    Position		    [110, 36, 360, 64]
		    Expr		    "u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "irb"
		    Position		    [110, 82, 360, 108]
		    Expr		    "-(u[1] + sqrt3*u[2]) / 2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "isa"
		    Position		    [110, 131, 360, 159]
		    Expr		    "u[6]*u[3]+u[5]*u[4]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "isb"
		    Position		    [110, 177, 360, 203]
		    Expr		    "((-u[6]+sqrt3*u[5])*u[3] + (-sqrt"
"3*u[6]-u[5])*u[4]) / 2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "ira,irb"
		    Position		    [475, 68, 505, 82]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "isa,isb"
		    Position		    [475, 163, 505, 177]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    Name		    "isa,isb"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "isa,isb"
		    DstPort		    1
		    }
		    Line {
		    Name		    "ira,irb"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "ira,irb"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "isb"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "isa"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "irb"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "ira"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "isb"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "isa"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "irb"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "ira"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  Ports			  [1, 1]
		  Position		  [385, 210, 410, 260]
		  Elements		  "elements2"
		  InputPortWidth	  "4"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Stationary reference frame"
		  Ports			  [1, 2, 1]
		  Position		  [110, 198, 240, 267]
		  ShowName		  off
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('Stationary\\nreference\\nfram"
"e')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Stationary reference frame"
		    Location		    [81, 74, 603, 310]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [15, 43, 45, 57]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [470, 15, 490, 35]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [395, 28, 400, 117]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "ira,irb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [395, 123, 400, 212]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "isa,isb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "ira"
		    Position		    [100, 36, 350, 64]
		    Expr		    "u[6]*u[1] - u[5]*u[2]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "irb"
		    Position		    [100, 82, 350, 108]
		    Expr		    "((-u[6]-sqrt3*u[5])*u[1] + (u[5]-"
"sqrt3*u[6])*u[2]) / 2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "isa"
		    Position		    [100, 131, 350, 159]
		    Expr		    "u[3]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "isb"
		    Position		    [100, 177, 350, 203]
		    Expr		    "-(u[3] + sqrt3*u[4]) / 2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "ira,irb"
		    Position		    [465, 68, 495, 82]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "isa,isb"
		    Position		    [465, 163, 495, 177]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    Name		    "isa,isb"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "isa,isb"
		    DstPort		    1
		    }
		    Line {
		    Name		    "ira,irb"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "ira,irb"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "isb"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "isa"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "irb"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "ira"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "isb"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "isa"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "irb"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "ira"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [1, 1]
		  Position		  [315, 128, 335, 152]
		  ShowName		  off
		  Inputs		  "-"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [1, 1]
		  Position		  [365, 383, 385, 407]
		  ShowName		  off
		  Inputs		  "-"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Synchronous reference frame"
		  Ports			  [1, 2, 1]
		  Position		  [110, 333, 240, 402]
		  ShowName		  off
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('Synchronous\\nreference\\nfra"
"me')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Synchronous reference frame"
		    Location		    [391, 142, 913, 378]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [15, 43, 45, 57]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [470, 15, 490, 35]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [395, 28, 400, 117]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "ira,irb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [395, 123, 400, 212]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "isa,isb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "ira"
		    Position		    [100, 36, 350, 64]
		    Expr		    "u[6]*u[1] + u[5]*u[2]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "irb"
		    Position		    [100, 82, 350, 108]
		    Expr		    "((-u[6]+sqrt3*u[5])*u[1] + (-sqrt"
"3*u[6]-u[5])*u[2]) / 2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "isa"
		    Position		    [100, 131, 350, 159]
		    Expr		    "u[8]*u[3] + u[7]*u[4]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "isb"
		    Position		    [100, 177, 350, 203]
		    Expr		    "((-u[8]+sqrt3*u[7])*u[3] + (-sqrt"
"3*u[8]-u[7])*u[4]) / 2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "ira,irb"
		    Position		    [465, 68, 495, 82]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "isa,isb"
		    Position		    [465, 163, 495, 177]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    Name		    "isa,isb"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "isa,isb"
		    DstPort		    1
		    }
		    Line {
		    Name		    "ira,irb"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "ira,irb"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "isb"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "isa"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "irb"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "ira"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "isb"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "isa"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "irb"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "ira"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "ib"
		  Position		  [340, 222, 365, 248]
		  ShowName		  off
		  Gain			  "ib"
		}
		Block {
		  BlockType		  Outport
		  Name			  "irab,isab"
		  Position		  [430, 228, 460, 242]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "irabc"
		  Position		  [425, 123, 455, 137]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "isabc"
		  Position		  [435, 378, 465, 392]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  DstBlock		  "irab,isab"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "ib"
		  SrcPort		  1
		  DstBlock		  "Selector"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "isabc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  Points		  [-5, 0]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  Points		  [0, 10]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "ib"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rotor reference frame"
		  SrcPort		  2
		  Points		  [40, 0; 0, 250]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "sin,cos"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch1"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -55; -55, 0; 0, -70]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "irabc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch"
		  SrcPort		  1
		  Points		  [5, 0; 0, 30]
		  Branch {
		    Points		    [-45, 0; 0, 25]
		    Branch {
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 85]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "iqr,idr"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "iqs,ids"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 135]
		    Branch {
		    Points		    [0, 135]
		    DstBlock		    "Synchronous reference frame"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Stationary reference frame"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Rotor reference frame"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Synchronous reference frame"
		  SrcPort		  2
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Stationary reference frame"
		  SrcPort		  2
		  Points		  [30, 0; 0, 125]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Synchronous reference frame"
		  SrcPort		  1
		  Points		  [20, 0; 0, -250]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Stationary reference frame"
		  SrcPort		  1
		  Points		  [10, 0; 0, -125]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Rotor reference frame"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "Synchronous reference frame"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  DstBlock		  "Stationary reference frame"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Rotor reference frame"
		  DstPort		  enable
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "sin,cos"
	      Ports		      [1, 3]
	      Position		      [85, 127, 165, 203]
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"sin,cos"
		Location		[238, 126, 730, 516]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "thr,wr"
		  Position		  [25, 83, 55, 97]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [207, 15, 243, 35]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl<3"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [335, 206, 360, 224]
		  ShowName		  off
		  Value			  "ctrl"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [335, 226, 360, 244]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [212, 130, 248, 150]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl==3"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [145, 284, 180, 306]
		  ShowName		  off
		  Value			  "ctrl"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant5"
		  Position		  [135, 326, 160, 344]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant6"
		  Position		  [135, 346, 160, 364]
		  ShowName		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [170, 240, 200, 270]
		  ShowName		  off
		  Gain			  "-1"
		  Port {
		    PortNumber		    1
		    Name		    "-wr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch"
		  Ports			  [4, 1]
		  Position		  [385, 200, 415, 290]
		  ShowName		  off
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch1"
		  Ports			  [4, 1]
		  Position		  [200, 280, 230, 370]
		  ShowName		  off
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  Ports			  [1, 1]
		  Position		  [90, 75, 130, 105]
		  ShowName		  off
		  InputPortWidth	  "2"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector1"
		  Ports			  [1, 1]
		  Position		  [90, 240, 130, 270]
		  ShowName		  off
		  Elements		  "2"
		  InputPortWidth	  "2"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [385, 85, 415, 115]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "sin(beta),cos(beta),sin(th),cos(th)"
		  Ports			  [1, 2, 1]
		  Position		  [150, 169, 310, 231]
		  ShowName		  off
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "sin(beta),cos(beta),sin(th),cos(t"
"h)"
		    Location		    [522, 636, 1028, 838]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "thr,wr"
		    Position		    [25, 43, 55, 57]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [415, 20, 435, 40]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [125, 90, 145, 110]
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux2"
		    Ports		    [1, 2]
		    Position		    [80, 31, 85, 69]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    Port {
		    PortNumber		    1
		    Name		    "thr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    Port {
		    PortNumber		    2
		    Name		    "wr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [4, 1]
		    Position		    [360, 26, 365, 144]
		    ShowName		    off
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [95, 140, 125, 170]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "-+|"
		    Port {
		    PortNumber		    1
		    Name		    "we-wr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 30, 225, 50]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|-+"
		    Port {
		    PortNumber		    1
		    Name		    "beta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction"
		    Ports		    [1, 1]
		    Position		    [275, 89, 310, 111]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction1"
		    Ports		    [1, 1]
		    Position		    [275, 29, 310, 51]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction2"
		    Ports		    [1, 1]
		    Position		    [275, 59, 310, 81]
		    ShowName		    off
		    Operator		    "cos"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction3"
		    Ports		    [1, 1]
		    Position		    [275, 119, 310, 141]
		    ShowName		    off
		    Operator		    "cos"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "we"
		    Position		    [50, 145, 75, 165]
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "web_psb"
		    Position		    [170, 81, 205, 119]
		    ShowName		    off
		    Gain		    "web_psb"
		    Port {
		    PortNumber		    1
		    Name		    "th"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "sin(beta),cos(beta),\nsin(th),cos"
"(th)"
		    Position		    [405, 78, 435, 92]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "we-wr"
		    Position		    [410, 148, 440, 162]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "thr,wr"
		    SrcPort		    1
		    DstBlock		    "Demux2"
		    DstPort		    1
		    }
		    Line {
		    Name		    "wr"
		    Labels		    [0, 0]
		    SrcBlock		    "Demux2"
		    SrcPort		    2
		    Points		    [20, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Trigonometric\nFunction1"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Trigonometric\nFunction2"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Trigonometric\nFunction"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Trigonometric\nFunction3"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "sin(beta),cos(beta),\nsin(th),cos"
"(th)"
		    DstPort		    1
		    }
		    Line {
		    Name		    "beta"
		    Labels		    [0, 0]
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Trigonometric\nFunction1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Trigonometric\nFunction2"
		    DstPort		    1
		    }
		    }
		    Line {
		    Name		    "thr"
		    Labels		    [0, 0]
		    SrcBlock		    "Demux2"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    Name		    "th"
		    Labels		    [1, 0]
		    SrcBlock		    "web_psb"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Branch {
		    Labels		    [1, 0]
		    Points		    [40, 0]
		    Branch {
		    DstBlock		    "Trigonometric\nFunction"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Trigonometric\nFunction3"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    DstBlock		    "web_psb"
		    DstPort		    1
		    }
		    Line {
		    Name		    "we-wr"
		    Labels		    [0, 0]
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "we-wr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "we"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "sin(thr),cos(thr)"
		  Ports			  [1, 1, 1]
		  Position		  [150, 67, 305, 113]
		  ShowName		  off
		  FontSize		  12
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "sin(thr),cos(thr)"
		    Location		    [222, 187, 489, 355]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "thr"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [190, 30, 210, 50]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [90, 115, 125, 135]
		    Value		    "[0; 0]"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [3, 1]
		    Position		    [150, 26, 155, 144]
		    ShowName		    off
		    Inputs		    "3"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction"
		    Ports		    [1, 1]
		    Position		    [90, 34, 125, 56]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction1"
		    Ports		    [1, 1]
		    Position		    [90, 74, 125, 96]
		    ShowName		    off
		    Operator		    "cos"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "sin(thr),cos(thr)"
		    Position		    [195, 78, 225, 92]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Trigonometric\nFunction"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Trigonometric\nFunction1"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "thr"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Trigonometric\nFunction"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Trigonometric\nFunction1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "sin(thr),cos(thr)"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "sin,cos"
		  Position		  [440, 93, 470, 107]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "w-wr"
		  Position		  [440, 238, 470, 252]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "w"
		  Position		  [440, 318, 470, 332]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [0, 5]
		  Branch {
		    DstBlock		    "sin(thr),cos(thr)"
		    DstPort		    enable
		  }
		  Branch {
		    Points		    [95, 0; 0, 55]
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "thr,wr"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Selector"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 110]
		    Branch {
		    DstBlock		    "sin(beta),cos(beta),sin(th),cos(t"
"h)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Selector1"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  DstBlock		  "sin(thr),cos(thr)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "sin,cos"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  DstBlock		  "sin(beta),cos(beta),sin(th),cos(th)"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "sin(beta),cos(beta),sin(th),cos(th)"
		  SrcPort		  2
		  Points		  [5, 0; 0, 60]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch"
		  SrcPort		  1
		  DstBlock		  "w-wr"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sin(thr),cos(thr)"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sin(beta),cos(beta),sin(th),cos(th)"
		  SrcPort		  1
		  Points		  [5, 0; 0, -75]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  Name			  "-wr"
		  Labels		  [0, 0]
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Selector1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "Multiport\nSwitch1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant5"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Constant6"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch1"
		  SrcPort		  1
		  DstBlock		  "w"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [530, 33, 560, 47]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [530, 188, 560, 202]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Line {
	      SrcBlock		      "sin,cos"
	      SrcPort		      2
	      Points		      [15, 0; 0, -100]
	      DstBlock		      "Rotor"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Mutual fluxes"
	      SrcPort		      1
	      Points		      [-10, 0]
	      Branch {
		DstBlock		"Rotor"
		DstPort			3
	      }
	      Branch {
		DstBlock		"Stator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "sin,cos"
	      SrcPort		      1
	      Points		      [5, 0; 0, -25]
	      Branch {
		Points			[-110, 0; 0, -35]
		DstBlock		"abc2qd"
		DstPort			2
	      }
	      Branch {
		Points			[0, -100; 225, 0]
		DstBlock		"dq2abc"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Stator"
	      SrcPort		      3
	      Points		      [5, 0; 0, 25]
	      DstBlock		      "Mechanical"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "sin,cos"
	      SrcPort		      3
	      Points		      [15, 0; 0, 120]
	      DstBlock		      "Stator"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "abc2qd"
	      SrcPort		      2
	      Points		      [35, 0; 0, 145]
	      Branch {
		Points			[0, 60]
		DstBlock		"Stator"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Mux3"
		DstPort			8
	      }
	    }
	    Line {
	      SrcBlock		      "abc2qd"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		DstBlock		"Rotor"
		DstPort			1
	      }
	      Branch {
		Points			[0, 170; 185, 0; 0, -25]
		DstBlock		"Mux3"
		DstPort			4
	      }
	    }
	    Line {
	      SrcBlock		      "dq2abc"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Rotor"
	      SrcPort		      2
	      Points		      [10, 0; 0, 60]
	      Branch {
		DstBlock		"Mutual fluxes"
		DstPort			1
	      }
	      Branch {
		Points			[0, 30]
		DstBlock		"Mux3"
		DstPort			3
	      }
	    }
	    Line {
	      SrcBlock		      "Rotor"
	      SrcPort		      1
	      Points		      [20, 0; 0, 20]
	      Branch {
		Points			[0, 100]
		DstBlock		"Mux3"
		DstPort			2
	      }
	      Branch {
		DstBlock		"dq2abc"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "abc2qd"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mechanical"
	      SrcPort		      2
	      Points		      [-15, 0; 0, -170]
	      DstBlock		      "sin,cos"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Stator"
	      SrcPort		      1
	      Points		      [20, 0; 0, -45]
	      Branch {
		Points			[0, -35]
		DstBlock		"Mutual fluxes"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Mux3"
		DstPort			7
	      }
	    }
	    Line {
	      SrcBlock		      "Stator"
	      SrcPort		      2
	      Points		      [30, 0; 0, -80]
	      Branch {
		DstBlock		"dq2abc"
		DstPort			3
	      }
	      Branch {
		DstBlock		"Mux3"
		DstPort			6
	      }
	    }
	    Line {
	      SrcBlock		      "Mechanical"
	      SrcPort		      1
	      Points		      [-5, 0; 0, -60]
	      DstBlock		      "Mux3"
	      DstPort		      9
	    }
	    Line {
	      SrcBlock		      "Mux3"
	      SrcPort		      1
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "dq2abc"
	      SrcPort		      3
	      Points		      [5, 0; 0, 35; -105, 0; 0, 70]
	      DstBlock		      "Mux3"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "dq2abc"
	      SrcPort		      2
	      Points		      [15, 0; 0, 70; -105, 0; 0, 20]
	      DstBlock		      "Mux3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Tm"
	      SrcPort		      1
	      Points		      [120, 0]
	      DstBlock		      "Mechanical"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "breaker"
	  Ports			  [2, 2]
	  Position		  [25, 109, 70, 176]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskDescription	  "Simulink model for the Breaker block"
	  MaskPromptString	  "Number of breakers|Initial state|Breaker Re"
"sistances"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVarAliasString	  ",,"
	  MaskVariables		  "Nsw=@1;istate=@2;Rsw=@3;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|0|1"
	  MaskTabNameString	  ",,"
	  System {
	    Name		    "breaker"
	    Location		    [94, 527, 736, 705]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [55, 75, 75, 95]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"Breaker voltage"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [55, 105, 75, 125]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"gate signal"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Break Algebraic Loop"
	      Ports		      [1, 1]
	      Position		      [385, 84, 460, 116]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskPromptString	      "number of switches|initial condition"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVarAliasString      ","
	      MaskVariables	      "Nsw=@1;istate=@2;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "1|istate"
	      MaskTabNameString	      ","
	      System {
		Name			"Break Algebraic Loop"
		Location		[173, 453, 825, 582]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [35, 33, 65, 47]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 2"
		  Position		  [360, 53, 390, 77]
		  ShowName		  off
		  Value			  "0.001"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion"
		  Position		  [470, 49, 525, 71]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [95, 29, 140, 51]
		  ShowName		  off
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [295, 25, 325, 75]
		  ShowName		  off
		  InitialCondition	  "0.00101*(istate&1)"
		  LimitOutput		  on
		  UpperSaturationLimit	  "0.00101"
		}
		Block {
		  BlockType		  Gain
		  Name			  "R_device"
		  Position		  [240, 30, 270, 70]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1e7"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator1"
		  Position		  [415, 42, 445, 73]
		  Operator		  ">"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Vak-Vf-Ron*Iak"
		  Ports			  [2, 1]
		  Position		  [175, 31, 205, 64]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [550, 53, 580, 67]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Data Type \nConversion"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  DstBlock		  "Vak-Vf-Ron*Iak"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "R_device"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vak-Vf-Ron*Iak"
		  SrcPort		  1
		  DstBlock		  "R_device"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [0, 50; -180, 0]
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "0 2"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Relational\nOperator1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [375, 32, 465, 58]
	      Value		      "zeros(Nsw,1)"
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "S function"
	      Ports		      [2, 1]
	      Position		      [210, 70, 305, 130]
	      FunctionName	      "sfun_psbbreaker"
	      Parameters	      "istate"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		1
		Name			"status"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [520, 35, 540, 55]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Status"
	      Position		      [520, 90, 540, 110]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Breaker voltage"
	      Labels		      [-1, 0]
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "S function"
	      DstPort		      1
	    }
	    Line {
	      Name		      "status"
	      Labels		      [0, 1]
	      SrcBlock		      "S function"
	      SrcPort		      1
	      DstBlock		      "Break Algebraic Loop"
	      DstPort		      1
	    }
	    Line {
	      Name		      "gate signal"
	      Labels		      [-1, 1]
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "S function"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Break Algebraic Loop"
	      SrcPort		      1
	      DstBlock		      "Status"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "detailed_thyristor (logical)"
	  Ports			  [2, 4]
	  Position		  [115, 110, 160, 175]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskDescription	  "Simulink model for the Detailed Thyristor b"
"lock when Lon=0. This model is used during a continuous simulation."
	  MaskPromptString	  "Number of thyristors|Forward voltage Vf (V)"
"|Thyristor resistances"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVarAliasString	  ",,"
	  MaskVariables		  "Nsw=@1;Vf=@2;Rsw=@3;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|0|1"
	  MaskTabNameString	  ",,"
	  System {
	    Name		    "detailed_thyristor (logical)"
	    Location		    [311, 44, 1107, 459]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [75, 130, 95, 150]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"Vak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [265, 240, 285, 260]
	      NamePlacement	      "alternate"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 1"
	      Position		      [235, 95, 255, 115]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 2"
	      Position		      [235, 145, 255, 165]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 3"
	      Position		      [235, 195, 255, 215]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 4"
	      Position		      [310, 305, 330, 325]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1/Rsw"
	      Position		      [90, 185, 120, 215]
	      Orientation	      "down"
	      Gain		      "1./Rsw"
	      Port {
		PortNumber		1
		Name			"Iak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Break Alg. Loop"
	      Ports		      [1, 1]
	      Position		      [590, 92, 635, 128]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskPromptString	      "number of switches"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "Nsw=@1;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "1"
	      System {
		Name			"Break Alg. Loop"
		Location		[167, 447, 819, 576]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [35, 33, 65, 47]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 2"
		  Position		  [360, 53, 390, 77]
		  ShowName		  off
		  Value			  "0.001"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion"
		  Position		  [470, 49, 525, 71]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [95, 29, 140, 51]
		  ShowName		  off
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [295, 25, 325, 75]
		  ShowName		  off
		  LimitOutput		  on
		  UpperSaturationLimit	  "0.00101"
		}
		Block {
		  BlockType		  Gain
		  Name			  "R_device"
		  Position		  [240, 30, 270, 70]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1e7"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator1"
		  Position		  [415, 42, 445, 73]
		  Operator		  ">"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Vak-Vf-Ron*Iak"
		  Ports			  [2, 1]
		  Position		  [175, 31, 205, 64]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [550, 53, 580, 67]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Relational\nOperator1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "0 2"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 50; -180, 0]
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Vak-Vf-Ron*Iak"
		  SrcPort		  1
		  DstBlock		  "R_device"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "R_device"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  DstBlock		  "Vak-Vf-Ron*Iak"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [570, 37, 660, 63]
	      Value		      "zeros(Nsw,1)"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion1"
	      Position		      [330, 90, 385, 110]
	      ShowName		      off
	      Port {
		PortNumber		1
		Name			"Current > 0"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion2"
	      Position		      [330, 140, 385, 160]
	      ShowName		      off
	      Port {
		PortNumber		1
		Name			"Voltage > 0"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion3"
	      Position		      [330, 240, 385, 260]
	      ShowName		      off
	      Port {
		PortNumber		1
		Name			"Gate = 1"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion4"
	      Position		      [330, 190, 385, 210]
	      ShowName		      off
	      Port {
		PortNumber		1
		Name			"Current = 0"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [520, 301, 525, 339]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	      Port {
		PortNumber		1
		Name			"measurement signals"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [425, 280, 455, 310]
	      UpperLimit	      "inf"
	      LowerLimit	      "0"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [180, 320, 200, 340]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|++"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [370, 280, 400, 310]
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b5"
	      Position		      [275, 81, 300, 114]
	      ShowName		      off
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b6"
	      Position		      [275, 131, 300, 164]
	      ShowName		      off
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b7"
	      Position		      [275, 181, 300, 214]
	      ShowName		      off
	      Operator		      "=="
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "or2"
	      Ports		      [2, 1]
	      Position		      [535, 90, 565, 130]
	      ShowName		      off
	      Operator		      "OR"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "or3"
	      Ports		      [3, 1]
	      Position		      [470, 180, 500, 220]
	      ShowName		      off
	      Inputs		      "3"
	      Port {
		PortNumber		1
		Name			"Fire"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "vf"
	      Position		      [100, 354, 150, 376]
	      Value		      "Vf"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [690, 40, 710, 60]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Status"
	      Position		      [690, 100, 710, 120]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [635, 310, 655, 330]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vf"
	      Position		      [240, 355, 260, 375]
	      Port		      "4"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "0 2"
	      SrcPort		      1
	      DstBlock		      "b6"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Fire"
	      Labels		      [1, 1]
	      SrcBlock		      "or3"
	      SrcPort		      1
	      Points		      [0, -80]
	      DstBlock		      "or2"
	      DstPort		      2
	    }
	    Line {
	      Name		      "measurement signals"
	      Labels		      [0, 0]
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 3"
	      SrcPort		      1
	      DstBlock		      "b7"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "or2"
	      SrcPort		      1
	      DstBlock		      "Break Alg. Loop"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Break Alg. Loop"
	      SrcPort		      1
	      Points		      [0, 0; 25, 0]
	      Branch {
		Points			[0, 0]
		DstBlock		"Status"
		DstPort			1
	      }
	      Branch {
		Points			[0, 270; -370, 0; 0, -85]
		DstBlock		"Switch"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "0 1"
	      SrcPort		      1
	      DstBlock		      "b5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Vak"
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [0, 0; 5, 0]
	      Branch {
		Labels			[1, 0]
		Points			[45, 0]
		Branch {
		  Points		  [0, 190]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "b6"
		  DstPort		  1
		}
	      }
	      Branch {
		DstBlock		"1/Rsw"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "vf"
	      SrcPort		      1
	      Points		      [0, 0; 35, 0]
	      Branch {
		DstBlock		"Vf"
		DstPort			1
	      }
	      Branch {
		Points			[0, 0]
		DstBlock		"Sum"
		DstPort			2
	      }
	    }
	    Line {
	      Name		      "Current = 0"
	      Labels		      [0, 1]
	      SrcBlock		      "Data Type \nConversion4"
	      SrcPort		      1
	      DstBlock		      "or3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "b5"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Current > 0"
	      Labels		      [-1, 1]
	      SrcBlock		      "Data Type \nConversion1"
	      SrcPort		      1
	      DstBlock		      "or2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "b6"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Voltage > 0"
	      Labels		      [0, 1]
	      SrcBlock		      "Data Type \nConversion2"
	      SrcPort		      1
	      Points		      [65, 0]
	      DstBlock		      "or3"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Gate = 1"
	      Labels		      [0, 1]
	      SrcBlock		      "Data Type \nConversion3"
	      SrcPort		      1
	      Points		      [65, 0]
	      DstBlock		      "or3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "b7"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 4"
	      SrcPort		      1
	      Points		      [20, 0]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      Points		      [0, 0; 30, 0]
	      Branch {
		Points			[15, 0]
		DstBlock		"Mux"
		DstPort			1
	      }
	      Branch {
		Points			[0, -20; -275, 0; 0, -85]
		Branch {
		  DstBlock		  "b7"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, -100]
		  DstBlock		  "b5"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      Name		      "Iak"
	      Labels		      [0, 0]
	      SrcBlock		      "1/Rsw"
	      SrcPort		      1
	      Points		      [0, 65]
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "diode (logical)"
	  Ports			  [1, 4]
	  Position		  [115, 16, 160, 79]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskDescription	  "Simulink model for the Diode block when Lon"
"=0. This model is used during a continuous simulation."
	  MaskPromptString	  "Number of Diodes|Forward voltage Vf (V):|Di"
"ode resistances"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVarAliasString	  ",,"
	  MaskVariables		  "Nsw=@1;Vf=@2;Rsw=@3;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|0|1"
	  MaskTabNameString	  ",,"
	  System {
	    Name		    "diode (logical)"
	    Location		    [98, 436, 1029, 835]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [15, 85, 35, 105]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"Diode voltage"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 1"
	      Position		      [190, 205, 210, 225]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 2"
	      Position		      [420, 100, 440, 120]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 3"
	      Position		      [420, 145, 440, 165]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 4"
	      Position		      [420, 55, 440, 75]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Break Alg. Loop"
	      Ports		      [1, 1]
	      Position		      [780, 53, 835, 87]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskPromptString	      "number of switches"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "Nsw=@1;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "1"
	      Port {
		PortNumber		1
		Name			"status"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"Break Alg. Loop"
		Location		[169, 449, 821, 578]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [35, 33, 65, 47]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 2"
		  Position		  [360, 53, 390, 77]
		  ShowName		  off
		  Value			  "0.001"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion"
		  Position		  [470, 49, 525, 71]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [95, 29, 140, 51]
		  ShowName		  off
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [295, 25, 325, 75]
		  ShowName		  off
		  LimitOutput		  on
		  UpperSaturationLimit	  "0.00101"
		}
		Block {
		  BlockType		  Gain
		  Name			  "R_device"
		  Position		  [240, 30, 270, 70]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1e7"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator1"
		  Position		  [415, 42, 445, 73]
		  Operator		  ">"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Vak-Vf-Ron*Iak"
		  Ports			  [2, 1]
		  Position		  [175, 31, 205, 64]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [550, 53, 580, 67]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Relational\nOperator1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "0 2"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 50; -180, 0]
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Vak-Vf-Ron*Iak"
		  SrcPort		  1
		  DstBlock		  "R_device"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "R_device"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  DstBlock		  "Vak-Vf-Ron*Iak"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [445, 312, 535, 338]
	      Value		      "zeros(Nsw,1)"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion1"
	      Position		      [560, 48, 615, 72]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion2"
	      Position		      [560, 93, 615, 117]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion3"
	      Position		      [560, 138, 615, 162]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [80, 169, 125, 221]
	      ShowName		      off
	      Gain		      "1./Rsw"
	      Port {
		PortNumber		1
		Name			"Diode current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [435, 196, 440, 234]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	      Port {
		PortNumber		1
		Name			"measurement signals"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [310, 190, 340, 220]
	      UpperLimit	      "inf"
	      LowerLimit	      "0"
	      Port {
		PortNumber		1
		Name			"Diode current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [190, 270, 210, 290]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|++"
	      Port {
		PortNumber		1
		Name			"V = Vak + Vf"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [250, 190, 280, 220]
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b5"
	      Position		      [465, 41, 490, 74]
	      ShowName		      off
	      Operator		      ">"
	      Port {
		PortNumber		1
		Name			"Current > 0"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b6"
	      Position		      [465, 89, 490, 116]
	      ShowName		      off
	      Operator		      ">"
	      Port {
		PortNumber		1
		Name			"Voltage > 0"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b7"
	      Position		      [465, 134, 490, 161]
	      ShowName		      off
	      Operator		      "=="
	      Port {
		PortNumber		1
		Name			"Current = 0"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "or2"
	      Ports		      [2, 1]
	      Position		      [725, 50, 760, 85]
	      ShowName		      off
	      Operator		      "OR"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "or3"
	      Ports		      [2, 1]
	      Position		      [660, 110, 695, 145]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "vf"
	      Position		      [120, 319, 170, 341]
	      Value		      "Vf"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [570, 315, 590, 335]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "status"
	      Position		      [880, 60, 900, 80]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [570, 205, 590, 225]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vf"
	      Position		      [245, 320, 265, 340]
	      Port		      "4"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "0 3"
	      SrcPort		      1
	      DstBlock		      "b7"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "0 2"
	      SrcPort		      1
	      DstBlock		      "b6"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Diode voltage"
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [0, 0; 15, 0]
	      Branch {
		Labels			[-1, 1]
		DstBlock		"b6"
		DstPort			1
	      }
	      Branch {
		Points			[0, 100]
		Branch {
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 85]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      Name		      "measurement signals"
	      Labels		      [0, 0]
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Voltage > 0"
	      Labels		      [0, 0]
	      SrcBlock		      "b6"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "or3"
	      SrcPort		      1
	      Points		      [10, 0]
	      DstBlock		      "or2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "or2"
	      SrcPort		      1
	      DstBlock		      "Break Alg. Loop"
	      DstPort		      1
	    }
	    Line {
	      Name		      "status"
	      Labels		      [0, 0]
	      SrcBlock		      "Break Alg. Loop"
	      SrcPort		      1
	      Points		      [0, 0; 15, 0]
	      Branch {
		DstBlock		"status"
		DstPort			1
	      }
	      Branch {
		Labels			[2, 0]
		Points			[0, 190; -625, 0; 0, -55]
		DstBlock		"Switch"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "0 4"
	      SrcPort		      1
	      DstBlock		      "b5"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Current > 0"
	      Labels		      [0, 1]
	      SrcBlock		      "b5"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      Name		      "V = Vak + Vf"
	      Labels		      [0, 0]
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      Points		      [195, 0; 0, -55]
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "vf"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		DstBlock		"Sum"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Vf"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "Current = 0"
	      Labels		      [0, 0]
	      SrcBlock		      "b7"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion1"
	      SrcPort		      1
	      DstBlock		      "or2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion2"
	      SrcPort		      1
	      Points		      [25, 0]
	      DstBlock		      "or3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion3"
	      SrcPort		      1
	      Points		      [25, 0]
	      DstBlock		      "or3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 1"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      Name		      "Diode current"
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      Points		      [0, 0; 30, 0]
	      Branch {
		DstBlock		"Mux"
		DstPort			1
	      }
	      Branch {
		Points			[0, -65]
		Branch {
		  Labels		  [-1, 1]
		  DstBlock		  "b7"
		  DstPort		  1
		}
		Branch {
		  Labels		  [-1, 1]
		  Points		  [0, -90]
		  DstBlock		  "b5"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      Name		      "Diode current"
	      Labels		      [0, 0]
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "distributed_param_line"
	  Ports			  [1, 1]
	  Position		  [480, 212, 525, 278]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Distributed Parameter Line Model"
	  MaskDescription	  "Simulink model for the Distributed Paramete"
"r Line block. The  last five parameters are automatically calculated  by SimP"
"owerSystems at the begining of the simulation."
	  MaskPromptString	  "Number of phases|Frequency used for R L C s"
"pecification (Hz) |R [3*3 matrix] or [R0 R1] (ohms/km) |L [3*3matrix ] or [L0"
" L1] (H/km)|C [3*3matrix] or [C0 C1] (F/km) |Line length (km)|V1_init:|V2_ini"
"t|I1_init:|I2_init:|time delay init"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,edit,edit,edi"
"t,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "||||||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,,,"
	  MaskVariables		  "nphase=@1;f=@2;ri=@3;li=@4;ci=@5;long=@6;V1"
"_init=@7;V2_init=@8;I1_init=@9;I2_init=@10;time_init=@11;"
	  MaskInitialization	  "[Zm,R,v,Ti]=powericonV2('Distributed Parame"
"ter Line Model',nphase,f,ri,li,ci);to=long./v;Rt4=R*long/4;h=(Zm-Rt4)./(Zm+Rt"
"4);\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "3|60|[0.01273 0.3864]|[0.9337e-3  4.1264e-3"
"]|[12.74e-9 7.751e-9]|100|[0 0 0 0; 0.0001244 0 0 0; 0.0002488 0 0 0; 0.00037"
"33 0 0 0; 0.0004977 0 0 0; 0.0006221 0 0 0]|[0 0 0 0; 0.0001244 0 0 0; 0.0002"
"488 0 0 0; 0.0003733 0 0 0; 0.0004977 0 0 0; 0.0006221 0 0 0]|[0 0 0 0; 0.000"
"1244 0 0 0; 0.0002488 0 0 0; 0.0003733 0 0 0; 0.0004977 0 0 0; 0.0006221 0 0 "
"0]|[0 0 0 0; 0.0001244 0 0 0; 0.0002488 0 0 0; 0.0003733 0 0 0; 0.0004977 0 0"
" 0; 0.0006221 0 0 0]|0"
	  MaskTabNameString	  ",,,,,,,,,,"
	  System {
	    Name		    "distributed_param_line"
	    Location		    [0, 97, 1135, 719]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [45, 190, 65, 210]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Clock
	      Name		      "Clock1"
	      Position		      [255, 200, 275, 220]
	      Decimation	      "10"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [85, 182, 125, 218]
	      Outputs		      "[nphase,nphase]"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [420, 83, 440, 107]
	      Gain		      "(1+h)./(Zm+Rt4)"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain1"
	      Position		      [400, 312, 470, 358]
	      Gain		      "(1+h)./(Zm+Rt4)"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain3"
	      Position		      [725, 300, 820, 350]
	      Gain		      "(1+h)/2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain4"
	      Position		      [715, 91, 810, 139]
	      Gain		      "(1+h)/2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain5"
	      Position		      [725, 366, 820, 414]
	      Gain		      "(1-h)/2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain6"
	      Position		      [715, 22, 815, 68]
	      Gain		      "(1-h)/2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain7"
	      Position		      [875, 158, 925, 192]
	      Orientation	      "left"
	      Gain		      "h"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain8"
	      Position		      [875, 228, 925, 262]
	      Orientation	      "left"
	      Gain		      "h"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      FromWorkspace
	      Name		      "I1_ini"
	      Position		      [645, 170, 685, 200]
	      Orientation	      "left"
	      VariableName	      "I1_init"
	      SampleTime	      "0"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      FromWorkspace
	      Name		      "I2_ini"
	      Position		      [650, 280, 690, 310]
	      Orientation	      "left"
	      VariableName	      "I2_init"
	      SampleTime	      "0"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      StateSpace
	      Name		      "Matrix\nGain"
	      Position		      [180, 91, 205, 119]
	      A			      "[]"
	      B			      "[]"
	      C			      "[]"
	      D			      "K"
	      MaskType		      "Matrix Gain"
	      MaskDescription	      "Matrix Gain."
	      MaskHelp		      "Multiplies input vector by entered matr"
"ix to produce output vector (y=Au)."
	      MaskPromptString	      "Gain matrix:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskInitialization      "K = @1;"
	      MaskDisplay	      "disp('K')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Ti'"
	    }
	    Block {
	      BlockType		      StateSpace
	      Name		      "Matrix\nGain1"
	      Position		      [175, 294, 205, 326]
	      A			      "[]"
	      B			      "[]"
	      C			      "[]"
	      D			      "K"
	      MaskType		      "Matrix Gain"
	      MaskDescription	      "Matrix Gain."
	      MaskHelp		      "Multiplies input vector by entered matr"
"ix to produce output vector (y=Au)."
	      MaskPromptString	      "Gain matrix:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskInitialization      "K = @1;"
	      MaskDisplay	      "disp('K')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Ti'"
	    }
	    Block {
	      BlockType		      StateSpace
	      Name		      "Matrix\nGain2"
	      Position		      [1005, 136, 1030, 164]
	      A			      "[]"
	      B			      "[]"
	      C			      "[]"
	      D			      "K"
	      MaskType		      "Matrix Gain"
	      MaskDescription	      "Matrix Gain."
	      MaskHelp		      "Multiplies input vector by entered matr"
"ix to produce output vector (y=Au)."
	      MaskPromptString	      "Gain matrix:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskInitialization      "K = @1;"
	      MaskDisplay	      "disp('K')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Ti"
	    }
	    Block {
	      BlockType		      StateSpace
	      Name		      "Matrix\nGain3"
	      Position		      [1005, 241, 1030, 269]
	      A			      "[]"
	      B			      "[]"
	      C			      "[]"
	      D			      "K"
	      MaskType		      "Matrix Gain"
	      MaskDescription	      "Matrix Gain."
	      MaskHelp		      "Multiplies input vector by entered matr"
"ix to produce output vector (y=Au)."
	      MaskPromptString	      "Gain matrix:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskInitialization      "K = @1;"
	      MaskDisplay	      "disp('K')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Ti"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [1055, 197, 1085, 233]
	      Inputs		      "[nphase,nphase]"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [515, 90, 535, 110]
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [515, 320, 535, 340]
	      Inputs		      "-+"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [905, 105, 925, 125]
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [900, 295, 920, 315]
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [325, 96, 355, 154]
	      Threshold		      "time_init"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch2"
	      Position		      [340, 306, 370, 364]
	      Threshold		      "time_init"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch3"
	      Position		      [550, 125, 580, 185]
	      Orientation	      "left"
	      Threshold		      "time_init"
	      SaturateOnIntegerOverflow	off
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch4"
	      Position		      [550, 235, 580, 295]
	      Orientation	      "left"
	      Threshold		      "time_init"
	      SaturateOnIntegerOverflow	off
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      FromWorkspace
	      Name		      "V1_ini"
	      Position		      [225, 142, 265, 168]
	      VariableName	      "V1_init"
	      SampleTime	      "0"
	    }
	    Block {
	      BlockType		      FromWorkspace
	      Name		      "V2_ini"
	      Position		      [235, 367, 275, 393]
	      VariableName	      "V2_init"
	      SampleTime	      "0"
	    }
	    Block {
	      BlockType		      TransportDelay
	      Name		      "delai1"
	      Position		      [235, 90, 275, 120]
	      DelayTime		      "to"
	    }
	    Block {
	      BlockType		      TransportDelay
	      Name		      "delai2"
	      Position		      [245, 300, 285, 330]
	      DelayTime		      "to"
	    }
	    Block {
	      BlockType		      TransportDelay
	      Name		      "delai3"
	      Position		      [640, 120, 680, 150]
	      Orientation	      "left"
	      DelayTime		      "to"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      TransportDelay
	      Name		      "delai4"
	      Position		      [645, 230, 685, 260]
	      Orientation	      "left"
	      DelayTime		      "to"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [1105, 205, 1125, 225]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Matrix\nGain2"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Matrix\nGain3"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [15, 0; 0, 100]
	      DstBlock		      "Matrix\nGain1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Matrix\nGain1"
	      SrcPort		      1
	      DstBlock		      "delai2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [20, 0; 0, -85]
	      DstBlock		      "Matrix\nGain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Matrix\nGain"
	      SrcPort		      1
	      DstBlock		      "delai1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain4"
	      SrcPort		      1
	      Points		      [25, 0; 0, 185]
	      DstBlock		      "Sum3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain3"
	      SrcPort		      1
	      Points		      [30, 0; 0, -205]
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain6"
	      SrcPort		      1
	      Points		      [70, 0]
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain5"
	      SrcPort		      1
	      Points		      [60, 0]
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain1"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      Points		      [50, 0; 0, -45]
	      Branch {
		Points			[0, -15]
		DstBlock		"Gain8"
		DstPort			1
	      }
	      Branch {
		Points			[0, -5]
		DstBlock		"Matrix\nGain3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Gain7"
	      SrcPort		      1
	      Points		      [-165, 0; 0, -40]
	      DstBlock		      "delai3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      Points		      [50, 0; 0, 35; 0, 0]
	      Branch {
		Points			[0, 25]
		DstBlock		"Gain7"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Matrix\nGain2"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Gain8"
	      SrcPort		      1
	      DstBlock		      "delai4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "delai1"
	      SrcPort		      1
	      DstBlock		      "Switch1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "V1_ini"
	      SrcPort		      1
	      Points		      [5, 0; 0, -10]
	      DstBlock		      "Switch1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Switch2"
	      SrcPort		      1
	      DstBlock		      "Gain1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      Points		      [15, 0; 0, -30]
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "delai2"
	      SrcPort		      1
	      DstBlock		      "Switch2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "V2_ini"
	      SrcPort		      1
	      Points		      [0, -25]
	      DstBlock		      "Switch2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      Points		      [145, 0; 0, -20]
	      Branch {
		Points			[0, 35]
		DstBlock		"Gain4"
		DstPort			1
	      }
	      Branch {
		Points			[0, -35]
		DstBlock		"Gain6"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [150, 0; 0, 30]
	      Branch {
		Points			[0, -35]
		DstBlock		"Gain3"
		DstPort			1
	      }
	      Branch {
		Points			[0, 30]
		DstBlock		"Gain5"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "delai3"
	      SrcPort		      1
	      DstBlock		      "Switch3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch3"
	      SrcPort		      1
	      Points		      [-55, 0; 0, -50]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Switch4"
	      SrcPort		      1
	      Points		      [-55, 0; 0, 60]
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "delai4"
	      SrcPort		      1
	      DstBlock		      "Switch4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Clock1"
	      SrcPort		      1
	      Points		      [20, 0; 0, 0]
	      Branch {
		Points			[305, 0; 0, 0]
		Branch {
		  Points		  [0, 55]
		  DstBlock		  "Switch4"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, -55]
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
	      }
	      Branch {
		Points			[0, 0]
		Branch {
		  Points		  [0, 125]
		  DstBlock		  "Switch2"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, -85]
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      SrcBlock		      "I1_ini"
	      SrcPort		      1
	      Points		      [-15, 0; 0, -10]
	      DstBlock		      "Switch3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "I2_ini"
	      SrcPort		      1
	      Points		      [-20, 0; 0, -10]
	      DstBlock		      "Switch4"
	      DstPort		      3
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "hysteresis_transformer"
	  Ports			  [1, 2]
	  Position		  [480, 109, 525, 176]
	  BackgroundColor	  "orange"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Saturable transformer model"
	  MaskDescription	  "Simulink model for the saturation character"
"istic of the Saturable Transformer block. The saturation characteristic shoul"
"d be given in increasing order starting with current-flux pair (0,0). Only po"
"sitive part of the characteristic must be entered. If the initial flux parame"
"ter (phi0) is not declared, the flux will be initialized automatically accord"
"ing to the steady-state voltage across the magnetizing branch"
	  MaskHelp		  "  "
	  MaskPromptString	  "Saturation current:|Flux saturation:|Initia"
"l flux:|pente initial du flux initial|Mat file|Transfo no:|Base flux|Base cur"
"rent"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "|||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,"
	  MaskVariables		  "isat=@1;phisat=@2;fluxinit=@3;initialslope="
"@4;matfile=@5;indice=@6;fluxbase=@7;currentbase=@8;"
	  MaskInitialization	  "[fb,ib,Tolerances,HT,UpperFlux,LowerFlux,Cu"
"rrent] = powericonV2('inithysteresis',matfile,1,fluxbase,currentbase);"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "[-734.846922834953 0 0 734.846922834953]|[-"
"1624.36833590349 -1191.20344632923 1191.20344632923 1624.36833590349]|0|+1|'h"
"ysteresis'|1|1082.91222393566|734.846922834953"
	  MaskTabNameString	  ",,,,,,,"
	  System {
	    Name		    "hysteresis_transformer"
	    Location		    [93, 521, 551, 742]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [15, 70, 35, 90]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Hysteresis\n( always SI )"
	      Ports		      [1, 1]
	      Position		      [135, 113, 285, 167]
	      ForegroundColor	      "red"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Hysteresis\n( always SI )"
		Location		[-50, 70, 869, 629]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [35, 138, 65, 152]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Hysteresis main loop\n+\nSaturation"
"\n(Lower Part)"
		  Position		  [115, 69, 165, 121]
		  ForegroundColor	  "magenta"
		  NamePlacement		  "alternate"
		  DialogController	  "Simulink.DDGSource"
		  InputValues		  "LowerFlux"
		  OutputValues		  "Current"
		  Port {
		    PortNumber		    1
		    Name		    "courbe principale + Saturation, p"
"artie du bas, le flux est en monte, donc sens positif"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Hysteresis main loop\n+\nSaturation"
".\n(Upper Part)"
		  Position		  [115, 209, 165, 261]
		  ForegroundColor	  "darkGreen"
		  DialogController	  "Simulink.DDGSource"
		  InputValues		  "UpperFlux"
		  OutputValues		  "Current"
		  Port {
		    PortNumber		    1
		    Name		    "courbe principale + Saturation, p"
"artie superieure, le flux est en descente, donc sens negatif"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [125, 155, 155, 185]
		  Port {
		    PortNumber		    1
		    Name		    "precedent"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "SI conversion2"
		  Position		  [395, 350, 435, 380]
		  ForegroundColor	  "orange"
		  Gain			  "ib"
		  Port {
		    PortNumber		    1
		    Name		    "Boucles internes"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  Ports			  [1, 1]
		  Position		  [260, 291, 300, 329]
		  Elements		  "2"
		  InputPortWidth	  "2"
		  Port {
		    PortNumber		    1
		    Name		    "Tr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector1"
		  Ports			  [1, 1]
		  Position		  [255, 346, 295, 384]
		  ForegroundColor	  "orange"
		  InputPortWidth	  "2"
		}
		Block {
		  BlockType		  Signum
		  Name			  "Sign"
		  Position		  [245, 130, 275, 160]
		  Port {
		    PortNumber		    1
		    Name		    "sens du flux"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [200, 135, 220, 155]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [585, 78, 620, 212]
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [705, 243, 740, 377]
		  Threshold		  "1.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Display
		  Name			  "Tr"
		  Ports			  [1]
		  Position		  [420, 267, 505, 293]
		  Decimation		  "1"
		}
		Block {
		  BlockType		  Gain
		  Name			  "pu conversion"
		  Position		  [105, 350, 145, 380]
		  ForegroundColor	  "orange"
		  Gain			  "fb"
		}
		Block {
		  BlockType		  "S-Function"
		  Name			  "sfun_psbtransfosat"
		  Ports			  [1, 1]
		  Position		  [165, 353, 215, 377]
		  ForegroundColor	  "orange"
		  ShowName		  off
		  FunctionName		  "sfun_test"
		  Parameters		  "fluxinit*fb,HT,indice,-1,Tolerances"
",initialslope"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [800, 303, 830, 317]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Sign"
		  DstPort		  1
		}
		Line {
		  Name			  "Boucles internes"
		  Labels		  [1, 1]
		  SrcBlock		  "SI conversion2"
		  SrcPort		  1
		  Points		  [175, 0; 0, -100]
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Selector1"
		  SrcPort		  1
		  DstBlock		  "SI conversion2"
		  DstPort		  1
		}
		Line {
		  Name			  "Tr"
		  Labels		  [0, 1]
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  Points		  [80, 0]
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "Tr"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Switch2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  Points		  [20, 0; 0, 210]
		  DstBlock		  "Switch2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sfun_psbtransfosat"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Selector1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -55]
		    DstBlock		    "Selector"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "pu conversion"
		  SrcPort		  1
		  DstBlock		  "sfun_psbtransfosat"
		  DstPort		  1
		}
		Line {
		  Name			  "sens du flux"
		  Labels		  [0, 0]
		  SrcBlock		  "Sign"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  Name			  "precedent"
		  Labels		  [-1, 1]
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  Name			  "courbe principale + Saturation, par"
"tie superieure, le flux est en descente, donc sens negatif"
		  Labels		  [0, 0]
		  SrcBlock		  "Hysteresis main loop\n+\nSaturation"
".\n(Upper Part)"
		  SrcPort		  1
		  Points		  [400, 0]
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [0, 90]
		    Branch {
		    Points		    [0, 130]
		    DstBlock		    "pu conversion"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Hysteresis main loop\n+\nSaturati"
"on.\n(Upper Part)"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "Hysteresis main loop\n+\nSaturati"
"on\n(Lower Part)"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "courbe principale + Saturation, par"
"tie du bas, le flux est en monte, donc sens positif"
		  Labels		  [0, 0]
		  SrcBlock		  "Hysteresis main loop\n+\nSaturation"
"\n(Lower Part)"
		  SrcPort		  1
		  Points		  [400, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "fluxinit"
	      Ports		      [1, 1]
	      Position		      [55, 65, 70, 95]
	      InitialCondition	      "fluxinit"
	      Port {
		PortNumber		1
		Name			"flux displayed by Multimeter block"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [370, 130, 390, 150]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "f"
	      Position		      [370, 70, 390, 90]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Hysteresis\n( always SI )"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "fluxinit"
	      DstPort		      1
	    }
	    Line {
	      Name		      "flux displayed by Multimeter block"
	      SrcBlock		      "fluxinit"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		Points			[0, 60]
		DstBlock		"Hysteresis\n( always SI )"
		DstPort			1
	      }
	      Branch {
		Labels			[1, 1]
		DstBlock		"f"
		DstPort			1
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "ideal_switch"
	  Ports			  [2, 3]
	  Position		  [25, 13, 70, 77]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Switch logic model"
	  MaskDescription	  "Simulink model for the Ideal Switch block d"
"uring a continuous simulation. The switching logic of the ideal switch is han"
"dled by the sfun_psbcontc.c function. "
	  MaskPromptString	  "Number of switches|Switch resistances"
	  MaskStyleString	  "edit,edit"
	  MaskTunableValueString  "on,on"
	  MaskCallbackString	  "|"
	  MaskEnableString	  "on,on"
	  MaskVisibilityString	  "on,on"
	  MaskToolTipString	  "on,on"
	  MaskVarAliasString	  ","
	  MaskVariables		  "Nsw=@1;Rsw=@2;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|1"
	  MaskTabNameString	  ","
	  System {
	    Name		    "ideal_switch"
	    Location		    [345, 536, 1017, 816]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [75, 145, 95, 165]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"Vak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [75, 190, 95, 210]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 1"
	      Position		      [275, 120, 295, 140]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1/Rsw"
	      Position		      [150, 71, 200, 119]
	      ShowName		      off
	      Gain		      "1./Rsw"
	      Port {
		PortNumber		1
		Name			"Iak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [435, 47, 525, 73]
	      Value		      "zeros(Nsw,1)"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type Conversion"
	      Position		      [390, 186, 440, 214]
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [430, 126, 435, 164]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	      Port {
		PortNumber		1
		Name			"measurement signals"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [325, 90, 355, 120]
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [560, 50, 580, 70]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Status"
	      Position		      [565, 190, 585, 210]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [565, 135, 585, 155]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "g"
	      SrcPort		      1
	      Points		      [0, 0; 150, 0]
	      Branch {
		Points			[0, -95]
		DstBlock		"Switch"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Data Type Conversion"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "measurement signals"
	      Labels		      [0, 0]
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Vak"
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [0, 0; 30, 0]
	      Branch {
		Labels			[2, 1]
		Points			[250, 0]
		DstBlock		"Mux"
		DstPort			2
	      }
	      Branch {
		Points			[0, -60]
		DstBlock		"1/Rsw"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Iak"
	      Labels		      [0, 0]
	      SrcBlock		      "1/Rsw"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      Points		      [40, 0; 0, 30]
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 1"
	      SrcPort		      1
	      Points		      [10, 0]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Data Type Conversion"
	      SrcPort		      1
	      DstBlock		      "Status"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "saturable_transformer"
	  Ports			  [1, 2]
	  Position		  [480, 14, 525, 81]
	  BackgroundColor	  "orange"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Saturable transformer model"
	  MaskDescription	  "Simulink model for the saturation character"
"istic of the Saturable Transformer block. The saturation characteristic shoul"
"d be given in increasing order starting with current-flux pair (0,0). Only po"
"sitive part of the characteristic must be entered. If the initial flux parame"
"ter (phi0) is not declared, the flux will be initialized automatically accord"
"ing to the steady-state voltage across the magnetizing branch"
	  MaskHelp		  "  "
	  MaskPromptString	  "Saturation current:|Flux saturation:|Initia"
"l flux:"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVarAliasString	  ",,"
	  MaskVariables		  "isat=@1;phisat=@2;fluxinit=@3;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "[1,2,3,5]|[1,2,3,4]|0"
	  MaskTabNameString	  ",,"
	  System {
	    Name		    "saturable_transformer"
	    Location		    [351, 651, 660, 800]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [15, 55, 35, 75]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator"
	      Ports		      [1, 1]
	      Position		      [70, 55, 90, 75]
	      InitialCondition	      "fluxinit"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "Look-Up\nTable"
	      Position		      [130, 54, 180, 76]
	      DialogController	      "Simulink.DDGSource"
	      InputValues	      "phisat"
	      OutputValues	      "isat"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [220, 55, 240, 75]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "f"
	      Position		      [220, 105, 240, 125]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Look-Up\nTable"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Integrator"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		DstBlock		"Look-Up\nTable"
		DstPort			1
	      }
	      Branch {
		Labels			[-1, 0]
		Points			[0, 50]
		DstBlock		"f"
		DstPort			1
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "simplified_sync_mach"
	  Ports			  [3, 2]
	  Position		  [355, 110, 400, 180]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Simplified Synchronous Machine Model"
	  MaskDescription	  "Simulink model for the Simplified Synchrono"
"us Machine block. The  machine is modeled as an internal voltage behind a R-L"
" impedance. Stator windings are connected in wye to an internal neutral point"
"."
	  MaskHelp		  "1st input: Simulink signal:  mechanical pow"
"er supplied to\n         the machine (p.u., >0 for generator mode,\n         "
"<0 for motor mode)\n2nd input: Simulink signal: internal voltage (p.u.)\n\nFi"
"rst 3 outputs: Machine terminals = phases a, b and c\n4th output: Simulink me"
"asurement output = vector (12x1) containing :\n   1-3 : Line currents flowing"
" out of machine ia, ib, ic\n   4-6 : Terminal voltages va, vb, vc\n   7-9 : I"
"nternal voltages ea, eb, ec\n   10   : Electrical angle theta\n   11   : Roto"
"r speed n\n   12   : Electrical power Pe\n\nUnits of mesurement output depend"
" on checkbox in block's dialog box."
	  MaskPromptString	  "Connection type:|Nom. power, L-L volt., and"
" freq. [ Pn(VA) Vn(Vrms) fn(Hz) ]:|Inertia, damping factor and pairs of poles"
"[ H(s)  Kd() p() ]:|Internal impedance [ R,X (p.u.) ]:|Init. cond. [ dw(%)  t"
"h(deg)  ia,ib,ic(p.u.)  pha,phb,phc(deg) ]:|I/O units (check for S.I., otherw"
"ise p.u.):"
	  MaskStyleString	  "popup(3-wire Y|4-wire Y),edit,edit,edit,edi"
"t,checkbox"
	  MaskTunableValueString  "on,on,on,on,on,on"
	  MaskCallbackString	  "|||||"
	  MaskEnableString	  "on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,"
	  MaskVariables		  "v6=@1;v1=@2;v2=@3;v3=@4;v4=@5;v5=@6;"
	  MaskInitialization	  "[Pb,Nb,Vb,Vb2,Vb3,ib,ib2,web_psb,H,Kd,p,pi2"
"3,R,L,io,dwo,tho]=powericonV2('Simplified Synchronous Machine Model',v1,v2,v3"
",v4,v5);\nif v6==1,sel=1:2; else sel=1:3; end"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "4-wire Y|[ 1000  120*sqrt(3/2)  60 ]|[ inf "
" 0  2 ]|[ 1e-6  1e-6 ]|[ 0   0   0,0,0   0,0,0 ]|off"
	  MaskTabNameString	  ",,,,,"
	  System {
	    Name		    "simplified_sync_mach"
	    Location		    [601, 239, 1049, 580]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [20, 161, 40, 179]
	      BackgroundColor	      "yellow"
	      NamePlacement	      "alternate"
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "pm"
	      Position		      [20, 76, 40, 94]
	      BackgroundColor	      "yellow"
	      NamePlacement	      "alternate"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "e"
	      Position		      [20, 111, 40, 129]
	      BackgroundColor	      "yellow"
	      NamePlacement	      "alternate"
	      Port		      "3"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1\\p"
	      Position		      [150, 253, 185, 277]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Gain		      "1/p"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector"
	      Ports		      [1, 1]
	      Position		      [320, 133, 345, 167]
	      Elements		      "sel"
	      InputPortWidth	      "3"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Subsystem"
	      Ports		      [6, 1]
	      Position		      [290, 197, 320, 313]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Subsystem"
		Location		[125, 542, 343, 872]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "i"
		  Position		  [20, 30, 40, 50]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "v"
		  Position		  [20, 75, 40, 95]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "e"
		  Position		  [20, 120, 40, 140]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "theta"
		  Position		  [20, 165, 40, 185]
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "wm"
		  Position		  [20, 210, 40, 230]
		  Port			  "5"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Pe"
		  Position		  [20, 255, 40, 275]
		  Port			  "6"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [125, 140, 160, 170]
		  Gain			  "[ ib2*ones(3,1); Vb3*ones(6,1); 1; "
"Nb; Pb ]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [6, 1]
		  Position		  [70, 18, 105, 287]
		  ShowName		  off
		  Inputs		  "[ 3 3 3 1 1 1 ]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "*"
		  Position		  [180, 145, 200, 165]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "*"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Pe"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  6
		}
		Line {
		  SrcBlock		  "wm"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "theta"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "e"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "v"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "i"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Vt"
	      Ports		      [1, 2]
	      Position		      [70, 144, 105, 191]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Vt"
		Location		[147, 206, 641, 519]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "V"
		  Position		  [15, 71, 30, 89]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Vb"
		  Position		  [50, 62, 75, 98]
		  ShowName		  off
		  Gain			  "1/Vb"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [305, 15, 345, 35]
		  Orientation		  "left"
		  ShowName		  off
		  Value			  "v6==1"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [40, 195, 65, 215]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [285, 205, 315, 225]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [135, 34, 160, 56]
		  Orientation		  "left"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [170, 109, 185, 131]
		  ShowName		  off
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn"
		  Position		  [130, 154, 160, 176]
		  ShowName		  off
		  Expr			  "u[1]"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn1"
		  Position		  [130, 184, 160, 206]
		  ShowName		  off
		  Expr			  "u[2]"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn2"
		  Position		  [130, 214, 160, 236]
		  ShowName		  off
		  Expr			  "u[3]"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [355, 160, 385, 190]
		  NamePlacement		  "alternate"
		  Gain			  "1/3"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "LL2LN"
		  Ports			  [1, 1, 1]
		  Position		  [190, 66, 240, 94]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "LL2LN"
		    Location		    [669, 664, 993, 843]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [15, 38, 45, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [30, 120, 50, 140]
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn"
		    Position		    [80, 32, 180, 58]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Expr		    "(2*u(1)+u(2))/3"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [80, 74, 180, 96]
		    ShowName		    off
		    Expr		    "(u(2)-u(1))/3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [3, 1]
		    Position		    [235, 22, 240, 148]
		    ShowName		    off
		    Inputs		    "3"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [184, 105, 206, 115]
		    Orientation		    "down"
		    ShowName		    off
		    Inputs		    "--"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [265, 78, 295, 92]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "[0 0 0]"
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [0, 5]
		    DstBlock		    "Mux1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Fcn"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Fcn"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [1, 1]
		  Position		  [120, 105, 150, 135]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Operator		  "NOT"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [100, 176, 105, 214]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [3, 1]
		  Position		  [180, 151, 185, 239]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [205, 172, 235, 203]
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [1, 1]
		  Position		  [310, 165, 330, 185]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [300, 70, 320, 90]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [405, 167, 425, 223]
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vn"
		  Position		  [455, 185, 475, 205]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vabc"
		  Position		  [455, 70, 475, 90]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  Points		  [-25, 0]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [-85, 0; 0, 20]
		  Branch {
		    DstBlock		    "Data Type \nConversion1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 5]
		    Branch {
		    DstBlock		    "LL2LN"
		    DstPort		    enable
		    }
		    Branch {
		    Points		    [50, 0; 0, 145]
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  DstBlock		  "Vn"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "LL2LN"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 95]
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Vabc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Fcn"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Fcn1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Fcn2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Fcn"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Fcn1"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Fcn2"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [5, 0; 0, -85]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "V"
		  SrcPort		  1
		  DstBlock		  "1_Vb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_Vb"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "LL2LN"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		}
		Annotation {
		  Name			  "This subsystem either converts 2 li"
"ne-to-line voltages to 3 line-to-neutral voltages (internal neutral)\nand com"
"putes floating neutral voltage or directly passes Van,Vbn,Vcn if 4-wire conne"
"ction.              "
		  Position		  [244, 272]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Z"
	      Ports		      [2, 1]
	      Position		      [210, 88, 240, 212]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('Z')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Z"
		Location		[151, 210, 465, 395]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "e"
		  Position		  [25, 70, 45, 90]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "v"
		  Position		  [25, 105, 45, 125]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/L"
		  Position		  [130, 60, 175, 100]
		  ShowName		  off
		  Gain			  "web_psb/L"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator3"
		  Ports			  [1, 1]
		  Position		  [205, 70, 225, 90]
		  ShowName		  off
		  InitialCondition	  "io"
		}
		Block {
		  BlockType		  Gain
		  Name			  "R"
		  Position		  [130, 14, 155, 36]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "R"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  Ports			  [3, 1]
		  Position		  [95, 30, 110, 130]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Inputs		  "-+-"
		}
		Block {
		  BlockType		  Outport
		  Name			  "i"
		  Position		  [260, 70, 280, 90]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Integrator3"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "i"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -55]
		    DstBlock		    "R"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "1/L"
		  SrcPort		  1
		  DstBlock		  "Integrator3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "v"
		  SrcPort		  1
		  DstBlock		  "Sum5"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  DstBlock		  "1/L"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "R"
		  SrcPort		  1
		  Points		  [-45, 0]
		  DstBlock		  "Sum5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "e"
		  SrcPort		  1
		  DstBlock		  "Sum5"
		  DstPort		  2
		}
		Annotation {
		  Name			  "This subsystem models the internal "
"impedance of   \nthe machine, which consists of  a series RL circuit."
		  Position		  [142, 142]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "gen"
	      Ports		      [3, 1]
	      Position		      [150, 69, 175, 171]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('gen')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		1
		Name			"e"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"gen"
		Location		[81, 726, 497, 985]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "theta"
		  Position		  [15, 30, 35, 50]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "E"
		  Position		  [15, 120, 35, 140]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vn"
		  Position		  [15, 180, 35, 200]
		  BackgroundColor	  "yellow"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Vb2"
		  Position		  [70, 109, 120, 151]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/Vb2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [3, 1]
		  Position		  [270, 22, 275, 118]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [305, 65, 325, 85]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [345, 65, 365, 85]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [229, 85, 251, 95]
		  Orientation		  "down"
		  ShowName		  off
		  Inputs		  "--"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "rem(wt,2pi)"
		  Position		  [55, 31, 125, 49]
		  ShowName		  off
		  Expr			  "rem(u[1],2*pi)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "sin(a)"
		  Position		  [155, 29, 220, 51]
		  ShowName		  off
		  Expr			  "sin(u)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "sin(b)"
		  Position		  [155, 60, 220, 80]
		  ShowName		  off
		  Expr			  "sin(u-pi23)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "e"
		  Position		  [390, 65, 410, 85]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "rem(wt,2pi)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "sin(a)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 30]
		    DstBlock		    "sin(b)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "theta"
		  SrcPort		  1
		  DstBlock		  "rem(wt,2pi)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sin(a)"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "sin(b)"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "E"
		  SrcPort		  1
		  DstBlock		  "1_Vb2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_Vb2"
		  SrcPort		  1
		  Points		  [160, 0; 0, -50]
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Vn"
		  SrcPort		  1
		  Points		  [315, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "e"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem generates the 3 line"
"-to-neutral voltages inside the machine. "
		  Position		  [217, 222]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "ib"
	      Position		      [275, 139, 300, 161]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Gain		      "ib"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "mechanics"
	      Ports		      [2, 2]
	      Position		      [75, 75, 100, 115]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('mec')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"mechanics"
		Location		[557, 444, 1224, 621]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Pm"
		  Position		  [25, 80, 45, 100]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Pe"
		  Position		  [25, 45, 45, 65]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_(2*H)"
		  Position		  [335, 60, 360, 90]
		  NamePlacement		  "alternate"
		  Gain			  "1/(2*H)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Pb"
		  Position		  [65, 74, 100, 106]
		  ShowName		  off
		  Gain			  "1/Pb"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [325, 97, 365, 123]
		  Orientation		  "left"
		  ShowName		  off
		  Gain			  "Kd"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [390, 65, 410, 85]
		  ShowName		  off
		  InitialCondition	  "dwo"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  Ports			  [1, 1]
		  Position		  [530, 55, 550, 75]
		  ShowName		  off
		  InitialCondition	  "tho"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [160, 59, 195, 81]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [430, 37, 450, 88]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [295, 65, 315, 85]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [2, 1]
		  Position		  [115, 38, 135, 107]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "div"
		  Position		  [215, 61, 265, 79]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Expr			  "u[2]/u[1]"
		  MaskDisplay		  "disp('division')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Constant
		  Name			  "nom. speed"
		  Position		  [390, 40, 410, 60]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [470, 48, 510, 82]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "theta_e"
		  Position		  [575, 55, 595, 75]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "wm"
		  Position		  [575, 100, 595, 120]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Pm"
		  SrcPort		  1
		  DstBlock		  "1_Pb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_Pb"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  DstBlock		  "theta_e"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "div"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Pe"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -55; -310, 0]
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 45]
		    DstBlock		    "wm"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "web_psb"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "1_(2*H)"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "div"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [-40, 0]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "1_(2*H)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "nom. speed"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "wattmeter"
	      Ports		      [2, 1]
	      Position		      [110, 20, 170, 60]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('wattmeter')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"wattmeter"
		Location		[424, 514, 662, 645]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "i"
		  Position		  [10, 15, 30, 35]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "v"
		  Position		  [10, 50, 30, 70]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "2_3"
		  Position		  [145, 32, 180, 58]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "2/3"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [55, 7, 85, 78]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [1, 1]
		  Position		  [110, 33, 130, 57]
		  ShowName		  off
		  Inputs		  "+"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Pe"
		  Position		  [205, 35, 225, 55]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "i"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "v"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "2_3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "2_3"
		  SrcPort		  1
		  DstBlock		  "Pe"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem computes the total e"
"lectrical   \npower delivered or absorbed by the machine."
		  Position		  [117, 92]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [375, 142, 390, 158]
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "*"
	      Position		      [380, 247, 395, 263]
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Selector"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ib"
	      SrcPort		      1
	      DstBlock		      "Selector"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "wattmeter"
	      SrcPort		      1
	      Points		      [-50, 0; 0, 65]
	      Branch {
		DstBlock		"mechanics"
		DstPort			2
	      }
	      Branch {
		Points			[0, 200]
		DstBlock		"Subsystem"
		DstPort			6
	      }
	    }
	    Line {
	      SrcBlock		      "pm"
	      SrcPort		      1
	      DstBlock		      "mechanics"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "e"
	      SrcPort		      1
	      DstBlock		      "gen"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "mechanics"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		Points			[0, 180]
		DstBlock		"1\\p"
		DstPort			1
	      }
	      Branch {
		DstBlock		"gen"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "Vt"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "1\\p"
	      SrcPort		      1
	      DstBlock		      "Subsystem"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "mechanics"
	      SrcPort		      2
	      Points		      [15, 0; 0, 180]
	      DstBlock		      "Subsystem"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Z"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		DstBlock		"ib"
		DstPort			1
	      }
	      Branch {
		Labels			[2, 0]
		Points			[0, 55]
		DstBlock		"Subsystem"
		DstPort			1
	      }
	      Branch {
		Points			[0, -120]
		DstBlock		"wattmeter"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "e"
	      SrcBlock		      "gen"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		Points			[0, 125]
		DstBlock		"Subsystem"
		DstPort			3
	      }
	      Branch {
		DstBlock		"Z"
		DstPort			1
	      }
	      Branch {
		DstBlock		"wattmeter"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Vt"
	      SrcPort		      1
	      DstBlock		      "gen"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Vt"
	      SrcPort		      2
	      Points		      [85, 0]
	      Branch {
		DstBlock		"Z"
		DstPort			2
	      }
	      Branch {
		Points			[0, 45]
		DstBlock		"Subsystem"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Subsystem"
	      SrcPort		      1
	      DstBlock		      "*"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "surge_arrester"
	  Ports			  [1, 1]
	  Position		  [595, 310, 635, 370]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Surge arrester model"
	  MaskDescription	  "Simulink model for the Surge Arrester block"
" (Metal oxide varistor)."
	  MaskPromptString	  "Protection voltage  (V):|Number of columns:"
"|Nominal current per column  (A):|Segment 1 characteristics: [ k1 alpha1 ]|Se"
"gment 2 characteristics: [ k2 alpha2 ]|Segment 3 characteristics: [ k3 alpha3"
" ]"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on"
	  MaskCallbackString	  "|||||"
	  MaskEnableString	  "on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,"
	  MaskVariables		  "uref=@1;n=@2;iref=@3;param1=@4;param2=@5;pa"
"ram3=@6;"
	  MaskInitialization	  "k1=param1(1);k2=param2(1);k3=param3(1);a1=r"
"ound(param1(2));a2=round(param2(2));a3=round(param3(2));p1=iref*n/(k1^a1); p2"
"=iref*n/(k2^a2); p3=iref*n/(k3^a3); ic1=p1*((p1/p2)^(a1/(a2-a1)));ic2=p2*((p2"
"/p3)^(a2/(a3-a2)));\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "185e3|30|500|[.955 50]|[1.0 25]|[.9915 16.5"
"]"
	  MaskTabNameString	  ",,,,,"
	  System {
	    Name		    "surge_arrester"
	    Location		    [324, 327, 956, 545]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [40, 40, 60, 60]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs"
	      Position		      [195, 38, 225, 62]
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      "Break\nAlg. Loop"
	      Position		      [85, 32, 150, 68]
	      Denominator	      "[0.01e-6  1]"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [490, 137, 520, 168]
	      RndMeth		      "Floor"
	    }
	    Block {
	      BlockType		      Signum
	      Name		      "Sign"
	      Position		      [163, 95, 187, 130]
	      Orientation	      "down"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [365, 76, 395, 144]
	      Threshold		      "ic1"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch2"
	      Position		      [425, 36, 455, 124]
	      Threshold		      "ic2"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "segment1"
	      Position		      [275, 120, 315, 140]
	      Expr		      "p1*(u/uref)^a1"
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "segment2"
	      Position		      [275, 80, 315, 100]
	      Expr		      "p2*(u/uref)^a2"
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "segment3"
	      Position		      [275, 40, 315, 60]
	      Expr		      "p3*(u/uref)^a3"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "I"
	      Position		      [570, 145, 590, 165]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Sign"
	      SrcPort		      1
	      Points		      [0, 25]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Abs"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		Points			[0, 40; 0, 0]
		Branch {
		  Points		  [0, 40]
		  DstBlock		  "segment1"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "segment2"
		  DstPort		  1
		}
	      }
	      Branch {
		DstBlock		"segment3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "segment1"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		DstBlock		"Switch1"
		DstPort			3
	      }
	      Branch {
		Points			[0, -20]
		DstBlock		"Switch1"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "segment2"
	      SrcPort		      1
	      DstBlock		      "Switch1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch2"
	      SrcPort		      1
	      Points		      [10, 0; 0, 65]
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		Points			[0, -30]
		DstBlock		"Switch2"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Switch2"
		DstPort			3
	      }
	    }
	    Line {
	      SrcBlock		      "segment3"
	      SrcPort		      1
	      DstBlock		      "Switch2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "Break\nAlg. Loop"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Break\nAlg. Loop"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		DstBlock		"Sign"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Abs"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "I"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "synchronous_machine"
	  Ports			  [3, 2]
	  Position		  [230, 111, 275, 179]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Synchronous Machine Model"
	  MaskDescription	  "Simulink model for the Synchronous Machine "
"blocks. This model is used by the three types of Synchronous Machine mask blo"
"cks of powerlib library. SimPowerSystems converts the given parameters depend"
"ing on the type of mask you have used in your model."
	  MaskPromptString	  "Nom. power, L-L volt., freq. and [field cur"
".] [ Pn(VA) Vn(Vrms) fn(Hz) [ifn(A)] ]:|Stator [ Rs  Ll  Lmd  Lmq ] (pu):|Fie"
"ld [ Rf  Llfd ] (pu):|Dampers [ Rkd  Llkd  Rkq1  Llkq1  Rkq2  Llkq2 ] (pu):|C"
"oeff. of inertia, friction factor and pairs of poles [ H(s)  F(pu)  p() ]:|In"
"it. cond. [ dw(%)  th(deg)  ia,ib,ic(pu)  pha,phb,phc(deg)  Vf(pu) ]:|Simulat"
"e saturation|Saturation parameters [ ifd1,ifd2,... (p.u.) ; vt1,vt2,... (p.u."
") ]:|I/O units (check for S.I., otherwise p.u.):|Excitation voltage:"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,checkbox,edit"
",checkbox,popup(Field (d axis)|Damper 1 (q axis - used for testing only))"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "|||||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,,"
	  MaskVariables		  "v1=@1;v2=@2;v3=@3;v4=@4;v5=@5;v6=@6;v9=@7;v"
"7=&8;v10=@9;excAxis=@10;"
	  MaskInitialization	  "if (~isempty(exist(v7)) & v9) \n	sat"
"=str2num(v7);\nelse \n	sat=[]; \nend;\n[Rs,Ll,Lad,Laq,Rf,Llfd,Rkd,Rkq1"
",Rkq2,Llkd,Llkq1,Llkq2,H,F,p,dwo,tho,phido,phikdo,phifdo,phiqo,phikq1o,phikq2"
"o,phib,Pb,Vb,Vb2,ib,ib2,Nb,N,N2,phis,a]=powericonV2('Synchronous Machine Mode"
"l',v1,v2,v3,v4,v5,v6,sat,0,v10,excAxis);\na5=a(1); \na4=a(2); \na3=a(3); \na2"
"=a(4); \na1=a(5); \na0=a(6); \nLmd=v2(3); \nLmq=v2(4);\nweb_psb=v1(3)*2*pi; "
"\none_third=1/3; \nsqrt3=sqrt(3);\nif v10==1\n   Gain1 = Pb;\nelse\n   Gain1 "
"= 1;\nend\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "[202000000      13800         60]|[0.003   "
"  0.19837     0.91763     0.21763]|[0.00063581     0.16537]|[0.0046454       "
"       0.039203              0.006843              0.014544                  "
"   0                   Inf]|[Inf             0            32]|[0  0  0  0  0 "
" 0  0  0  0]|off|[]|off|Field (d axis)"
	  MaskTabNameString	  ",,,,,,,,,"
	  System {
	    Name		    "synchronous_machine"
	    Location		    [514, 273, 1449, 997]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [150, 340, 170, 360]
	      BackgroundColor	      "yellow"
	      Port		      "1"
	      IconDisplay	      "Port number"
	      PortDimensions	      "2"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "pm"
	      Position		      [595, 565, 615, 585]
	      BackgroundColor	      "yellow"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      PortDimensions	      "1"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "vf"
	      Position		      [25, 405, 45, 425]
	      BackgroundColor	      "yellow"
	      Port		      "3"
	      IconDisplay	      "Port number"
	      PortDimensions	      "1"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Delta angle"
	      Ports		      [2, 1]
	      Position		      [575, 645, 630, 685]
	      BackgroundColor	      "orange"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Delta angle"
		Location		[662, 472, 1039, 657]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vq"
		  Position		  [15, 73, 45, 87]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vd"
		  Position		  [75, 93, 105, 107]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Cartesian to\nPolar"
		  Ports			  [2, 2]
		  Position		  [130, 72, 165, 108]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "Cart2Polar"
		  MaskDescription	  "Transformation from cartesian to po"
"lar coordinates.\n[x, y] -> [r, theta]\n\nr = sqrt(x^2 + y^2);\ntheta = atan("
"y/x);"
		  MaskHelp		  "Unmask this block for more help."
		  MaskDisplay		  "plot(0,0,100,100,[24,20,15,20,20],["
"85,95,85,95,20],[80,20,95,85,95,85],[70,20,20,15,20,24],[56,56,55,52,50,46],["
"20,26,31,35,38,42])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Cartesian to\nPolar"
		    Location		    [136, 183, 495, 389]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x"
		    Position		    [20, 70, 40, 90]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y"
		    Position		    [20, 129, 40, 151]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [75, 96, 105, 129]
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "x->r"
		    Position		    [155, 72, 260, 98]
		    Expr		    "hypot(u[1],u[2])"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "x->theta"
		    Position		    [160, 129, 265, 151]
		    Expr		    "atan2(u[2],u[1])"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "r"
		    Position		    [295, 75, 315, 95]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "theta"
		    Position		    [295, 130, 315, 150]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    Points		    [15, 0; 0, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "x->theta"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "x->r"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "x->r"
		    SrcPort		    1
		    DstBlock		    "r"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "x->theta"
		    SrcPort		    1
		    DstBlock		    "theta"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Radians\nto Degrees"
		  Ports			  [1, 1]
		  Position		  [200, 91, 230, 109]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "RadiansToDegrees"
		  MaskDescription	  "Conversion from Radians to Degrees."
"\n\nD=180/pi*R"
		  MaskHelp		  "This block converts from Radians to"
" Degrees."
		  MaskDisplay		  "disp('R2D')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  Port {
		    PortNumber		    1
		    Name		    "delta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  System {
		    Name		    "Radians\nto Degrees"
		    Location		    [337, 532, 542, 629]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Radians\nin"
		    Position		    [15, 25, 35, 45]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [60, 17, 110, 53]
		    ShowName		    off
		    Gain		    "180/pi"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Degrees\nout"
		    Position		    [135, 25, 155, 45]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Degrees\nout"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Radians\nin"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator2"
		  Position		  [205, 74, 225, 86]
		  ShowName		  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "delta"
		  Position		  [295, 93, 325, 107]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Cartesian to\nPolar"
		  SrcPort		  2
		  DstBlock		  "Radians\nto Degrees"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Cartesian to\nPolar"
		  SrcPort		  1
		  DstBlock		  "Terminator2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vq"
		  SrcPort		  1
		  DstBlock		  "Cartesian to\nPolar"
		  DstPort		  1
		}
		Line {
		  Name			  "delta"
		  Labels		  [0, 0]
		  SrcBlock		  "Radians\nto Degrees"
		  SrcPort		  1
		  DstBlock		  "delta"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vd"
		  SrcPort		  1
		  DstBlock		  "Cartesian to\nPolar"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [6, 1]
	      Position		      [840, 377, 845, 443]
	      ShowName		      off
	      Inputs		      "[3,10,6,1,1,1]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "PQ"
	      Ports		      [3, 2]
	      Position		      [650, 401, 690, 459]
	      BackgroundColor	      "orange"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		1
		Name			" "
		PropagatedSignals	"Peo"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"PQ"
		Location		[13, 76, 958, 559]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vq"
		  Position		  [140, 48, 170, 62]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vd"
		  Position		  [140, 88, 170, 102]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Iq"
		  Position		  [110, 158, 140, 172]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  PortDimensions	  "2"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [165, 146, 170, 184]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "[1,1]"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [465, 70, 495, 100]
		  Gain			  "Gain1"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [465, 225, 495, 255]
		  NamePlacement		  "alternate"
		  Gain			  "Gain1"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [295, 48, 325, 77]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product3"
		  Ports			  [2, 1]
		  Position		  [295, 88, 325, 117]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product4"
		  Ports			  [2, 1]
		  Position		  [295, 203, 325, 232]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product5"
		  Ports			  [2, 1]
		  Position		  [295, 243, 325, 272]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [360, 46, 390, 124]
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "Peo"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [360, 201, 390, 279]
		  ShowName		  off
		  Inputs		  "+-"
		  Port {
		    PortNumber		    1
		    Name		    "Qeo"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Peo"
		  Position		  [565, 78, 595, 92]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Qeo"
		  Position		  [555, 233, 585, 247]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [60, 0]
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Product4"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [35, 0; 0, -65]
		    DstBlock		    "Product3"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Vq"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    Points		    [0, 155]
		    DstBlock		    "Product4"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Vd"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    Points		    [0, 155]
		    DstBlock		    "Product5"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 0]
		    DstBlock		    "Product3"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "Qeo"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  Name			  "Peo"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product5"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product4"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product3"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "Peo"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Qeo"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Iq"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [80, 0; 0, 0]
		  Branch {
		    Points		    [0, -85]
		    DstBlock		    "Product2"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 110]
		    DstBlock		    "Product5"
		    DstPort		    2
		  }
		}
		Annotation {
		  Name			  "PQ Measurement:"
		  Position		  [87, 298]
		  FontName		  "Arial"
		  FontSize		  14
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "Q = Vq*Id-Vd*Iq"
		  Position		  [217, 323]
		  FontName		  "Arial"
		  FontSize		  14
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "P = Vd*Id + Vq*Iq"
		  Position		  [222, 298]
		  FontName		  "Arial"
		  FontSize		  14
		  FontWeight		  "bold"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Subsystem"
	      Ports		      [1, 2]
	      Position		      [70, 395, 110, 435]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Subsystem"
		Location		[219, 457, 548, 681]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vf"
		  Position		  [20, 28, 50, 42]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [75, 46, 120, 64]
		  ShowName		  off
		  Value			  "excAxis"
		}
		Block {
		  BlockType		  Ground
		  Name			  "Ground2"
		  Position		  [150, 67, 165, 83]
		  ShowName		  off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [195, 24, 215, 86]
		  NamePlacement		  "alternate"
		  Threshold		  "1.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [195, 124, 215, 186]
		  Threshold		  "1.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vkq1"
		  Position		  [245, 48, 275, 62]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vfd"
		  Position		  [245, 148, 275, 162]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Ground2"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Switch1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Vf"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 140]
		    DstBlock		    "Switch1"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 100]
		    DstBlock		    "Switch1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "Vfd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Vkq1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "abc2qd"
	      Ports		      [2, 3]
	      Position		      [190, 336, 235, 394]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('abc/\\nqd')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		1
		Name			"sin,cos"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		2
		Name			"Vq"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		3
		Name			"Vd"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"abc2qd"
		Location		[114, 80, 719, 291]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "v"
		  Position		  [15, 55, 35, 75]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "2"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "theta"
		  Position		  [15, 85, 35, 105]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Vb"
		  Position		  [55, 51, 105, 79]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/Vb"
		}
		Block {
		  BlockType		  ElementaryMath
		  Name			  "Elementary\nMath"
		  Ports			  [1, 1]
		  Position		  [55, 88, 85, 102]
		  ShowName		  off
		}
		Block {
		  BlockType		  ElementaryMath
		  Name			  "Elementary\nMath1"
		  Ports			  [1, 1]
		  Position		  [55, 112, 85, 128]
		  ShowName		  off
		  Operator		  "cos"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn2"
		  Position		  [230, 58, 475, 82]
		  ShowName		  off
		  Expr			  "(u[4]*(2*u[1]+u[2]) + (sqrt3*u[2]*u"
"[3])) * one_third"
		  Port {
		    PortNumber		    1
		    Name		    "vq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn3"
		  Position		  [230, 92, 475, 118]
		  ShowName		  off
		  Expr			  "(u[3]*(2*u[1]+u[2]) + (-sqrt3*u[2]*"
"u[4])) * one_third"
		  Port {
		    PortNumber		    1
		    Name		    "vd"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [170, 42, 200, 133]
		  ShowName		  off
		  Inputs		  "[ 2 2 ]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [105, 84, 130, 131]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Outport
		  Name			  "cos,sin"
		  Position		  [540, 20, 560, 40]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "vq"
		  Position		  [540, 60, 560, 80]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "vd"
		  Position		  [540, 95, 560, 115]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "1_Vb"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "v"
		  SrcPort		  1
		  DstBlock		  "1_Vb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "Fcn2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 15]
		    DstBlock		    "Fcn3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -80]
		    DstBlock		    "cos,sin"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "theta"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Elementary\nMath"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Elementary\nMath1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Elementary\nMath"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Elementary\nMath1"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  Name			  "vq"
		  Labels		  [0, 0]
		  SrcBlock		  "Fcn2"
		  SrcPort		  1
		  DstBlock		  "vq"
		  DstPort		  1
		}
		Line {
		  Name			  "vd"
		  Labels		  [0, 0]
		  SrcBlock		  "Fcn3"
		  SrcPort		  1
		  DstBlock		  "vd"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem converts Vab and Vbc"
" to Vd,Vq. The sine and cosine com-\nputed here are sent to the inverse trans"
"formation subsystem qd/abc.        "
		  Position		  [257, 152]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "currents and mutual fluxes"
	      Ports		      [8, 4]
	      Position		      [535, 250, 580, 400]
	      BackgroundColor	      "lightBlue"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('currents\\nand\\nmutual\\nfluxes'"
")"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		3
		Name			"iq,id"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"currents and mutual fluxes"
		Location		[139, 44, 842, 701]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "phiq"
		  Position		  [20, 35, 40, 55]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phikq2"
		  Position		  [20, 125, 40, 145]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phid"
		  Position		  [20, 485, 40, 505]
		  BackgroundColor	  "yellow"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phifd"
		  Position		  [20, 530, 40, 550]
		  BackgroundColor	  "yellow"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phikq1"
		  Position		  [20, 80, 40, 100]
		  BackgroundColor	  "yellow"
		  Port			  "5"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phikd"
		  Position		  [20, 575, 40, 595]
		  BackgroundColor	  "yellow"
		  Port			  "6"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "vq"
		  Position		  [250, 505, 270, 525]
		  BackgroundColor	  "yellow"
		  Port			  "7"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		  Port {
		    PortNumber		    1
		    Name		    "vq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "vd"
		  Position		  [250, 560, 270, 580]
		  BackgroundColor	  "yellow"
		  Port			  "8"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		  Port {
		    PortNumber		    1
		    Name		    "vd"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "-1_Ll"
		  Position		  [240, 147, 265, 173]
		  Gain			  "-1/Ll"
		  Port {
		    PortNumber		    1
		    Name		    "iq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "-1_Ll "
		  Position		  [240, 322, 265, 348]
		  Gain			  "-1/Ll"
		  Port {
		    PortNumber		    1
		    Name		    "id"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Llfd"
		  Position		  [240, 372, 265, 398]
		  Gain			  "1/Llfd"
		  Port {
		    PortNumber		    1
		    Name		    "ifd"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Llkd"
		  Position		  [240, 422, 265, 448]
		  Gain			  "1/Llkd"
		  Port {
		    PortNumber		    1
		    Name		    "ikd"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Llkq1"
		  Position		  [240, 187, 265, 213]
		  Gain			  "1/Llkq1"
		  Port {
		    PortNumber		    1
		    Name		    "ikq1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Llkq2"
		  Position		  [240, 232, 265, 258]
		  Gain			  "1/Llkq2"
		  Port {
		    PortNumber		    1
		    Name		    "ikq2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "Lad_Ll"
		  Position		  [90, 482, 115, 508]
		  Gain			  "Lad/Ll"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Lad_Llfd"
		  Position		  [90, 527, 115, 553]
		  Gain			  "Lad/Llfd"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Lad_Llkd"
		  Position		  [90, 572, 115, 598]
		  Gain			  "Lad/Llkd"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Laq_Ll"
		  Position		  [90, 32, 115, 58]
		  NamePlacement		  "alternate"
		  Gain			  "Laq/Ll"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Laq_Llkq1"
		  Position		  [90, 77, 115, 103]
		  Gain			  "Laq/Llkq1"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Laq_Llkq2"
		  Position		  [90, 122, 115, 148]
		  Gain			  "Laq/Llkq2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [365, 153, 370, 182]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "iq & id"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [10, 1]
		  Position		  [420, 296, 425, 469]
		  ShowName		  off
		  Inputs		  "[1,1,1,1,1,1,1,1,1,1]"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "dq0 components"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Saturation"
		  Ports			  [2, 2]
		  Position		  [430, 230, 525, 310]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  Port {
		    PortNumber		    1
		    Name		    "phimq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  Port {
		    PortNumber		    2
		    Name		    "phimd"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  System {
		    Name		    "Saturation"
		    Location		    [222, 239, 743, 673]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "phimq_in"
		    Position		    [40, 188, 70, 202]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "phimd_in"
		    Position		    [40, 158, 70, 172]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion"
		    Position		    [240, 45, 280, 65]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion1"
		    Position		    [155, 275, 195, 295]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion2"
		    Position		    [75, 25, 90, 55]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion3"
		    Position		    [75, 55, 90, 85]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion4"
		    Position		    [90, 307, 135, 333]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [300, 272, 325, 298]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Gain		    "2"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    Position		    [165, 307, 190, 333]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Gain		    "3"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [120, 31, 155, 49]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [120, 61, 155, 79]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator2"
		    Ports		    [2, 1]
		    Position		    [185, 24, 220, 86]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator3"
		    Ports		    [2, 1]
		    Position		    [115, 100, 155, 125]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    MultiPortSwitch
		    Name		    "Multiport\nSwitch"
		    Ports		    [4, 1]
		    Position		    [405, 312, 435, 358]
		    Inputs		    "3"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [3, 1]
		    Position		    [355, 275, 375, 295]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "+++"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [405, 160, 435, 190]
		    Threshold		    "0.5"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vs4"
		    Position		    [15, 28, 40, 52]
		    BackgroundColor	    "green"
		    ShowName		    off
		    Value		    "phis==1e6"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vs5"
		    Position		    [15, 58, 45, 82]
		    BackgroundColor	    "green"
		    ShowName		    off
		    Value		    "isinf(Llkq2)"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "d axis saturation"
		    Ports		    [1, 1, 1]
		    Position		    [245, 342, 325, 388]
		    TreatAsAtomicUnit	    on
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    Port {
		    PortNumber		    1
		    Name		    "phimds"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    System {
		    Name		    "d axis saturation"
		    Location		    [105, 302, 750, 478]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "phimd"
		    Position		    [15, 35, 35, 55]
		    BackgroundColor	    "yellow"
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [15, 90, 35, 110]
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Lad\\Lmd"
		    Position		    [435, 32, 460, 58]
		    NamePlacement	    "alternate"
		    Gain		    "Lad/Lmd"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [115, 74, 135, 96]
		    ShowName		    off
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum21"
		    Ports		    [2, 1]
		    Position		    [480, 35, 500, 55]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|-+"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [530, 22, 565, 148]
		    ShowName		    off
		    Threshold		    "0.5"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vs"
		    Position		    [60, 80, 90, 100]
		    BackgroundColor	    "green"
		    ShowName		    off
		    Value		    "phis"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "polynomial approximation of exp"
		    Position		    [170, 34, 365, 56]
		    NamePlacement	    "alternate"
		    Expr		    "((((a5*u+a4)*u+a3)*u+a2)*u+a1)*u+"
"a0"
		    Port {
		    PortNumber		    1
		    Name		    "f(phimd)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimd\nsat."
		    Position		    [595, 75, 615, 95]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Vs"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum21"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    Name		    "f(phimd)"
		    FontSize		    10
		    Labels		    [0, 0]
		    SrcBlock		    "polynomial approximation of exp"
		    SrcPort		    1
		    DstBlock		    "Lad\\Lmd"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Lad\\Lmd"
		    SrcPort		    1
		    DstBlock		    "Sum21"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "phimd\nsat."
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "phimd"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 80]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [50, 0]
		    Branch {
		    Points		    [45, 0]
		    Branch {
		    DstBlock		    "polynomial approximation of exp"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Sum21"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dq axis saturation"
		    Ports		    [2, 2, 1]
		    Position		    [245, 148, 325, 212]
		    TreatAsAtomicUnit	    on
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    System {
		    Name		    "dq axis saturation"
		    Location		    [144, 505, 867, 754]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "phimd"
		    Position		    [15, 45, 35, 65]
		    BackgroundColor	    "yellow"
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "phimq"
		    Position		    [15, 110, 35, 130]
		    BackgroundColor	    "yellow"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [60, 170, 80, 190]
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Lad\\Lmd"
		    Position		    [480, 35, 510, 65]
		    Gain		    "Lad/Lmd"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Laq\\Lmq"
		    Position		    [480, 120, 510, 150]
		    NamePlacement	    "alternate"
		    Gain		    "Laq/Lmq"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [80, 47, 110, 78]
		    ShowName		    off
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [80, 97, 110, 128]
		    ShowName		    off
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [395, 32, 425, 63]
		    ShowName		    off
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "f(phimd)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [395, 117, 425, 148]
		    ShowName		    off
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "f(phimq)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [220, 178, 240, 222]
		    NamePlacement	    "alternate"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [125, 80, 145, 100]
		    ShowName		    off
		    IconShape		    "round"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [550, 13, 570, 62]
		    ShowName		    off
		    Inputs		    "+-"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [550, 123, 570, 172]
		    ShowName		    off
		    Inputs		    "-+"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [600, 32, 635, 88]
		    Threshold		    "0.5"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [600, 142, 635, 198]
		    Threshold		    "0.5"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vs"
		    Position		    [150, 200, 190, 220]
		    BackgroundColor	    "green"
		    ShowName		    off
		    Value		    "phis^2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "polynomial approximation of exp"
		    Position		    [165, 78, 350, 102]
		    NamePlacement	    "alternate"
		    Expr		    "((((a5*u+a4)*u+a3)*u+a2)*u+a1)*u+"
"a0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimq\nsat."
		    Position		    [665, 160, 685, 180]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimd\nsat."
		    Position		    [665, 50, 685, 70]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "phimd\nsat."
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "phimq\nsat."
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vs"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [335, 0; 0, -30]
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -110]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "polynomial approximation of exp"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Laq\\Lmq"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Lad\\Lmd"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    Name		    "f(phimq)"
		    Labels		    [0, 0]
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "Laq\\Lmq"
		    DstPort		    1
		    }
		    Line {
		    Name		    "f(phimd)"
		    Labels		    [0, 0]
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "Lad\\Lmd"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "polynomial approximation of exp"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "phimq"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 20; 305, 0]
		    Branch {
		    Points		    [0, 20; 160, 0]
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "phimd"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, -15; 305, 0]
		    Branch {
		    Points		    [0, -15; 160, 0]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimq_out"
		    Position		    [460, 168, 490, 182]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimd_out"
		    Position		    [465, 328, 495, 342]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion4"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion3"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Vs5"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion1"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "d axis saturation"
		    DstPort		    enable
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator3"
		    SrcPort		    1
		    Points		    [0, 155]
		    DstBlock		    "Data Type \nConversion1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion"
		    SrcPort		    1
		    Points		    [0, 65]
		    Branch {
		    Points		    [80, 0; 0, 55]
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "dq axis saturation"
		    DstPort		    enable
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator2"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "phimq_out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Multiport\nSwitch"
		    SrcPort		    1
		    DstBlock		    "phimd_out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    Points		    [170, 0]
		    DstBlock		    "Sum"
		    DstPort		    3
		    }
		    Line {
		    Name		    "phimds"
		    Labels		    [0, 0]
		    SrcBlock		    "d axis saturation"
		    SrcPort		    1
		    Points		    [5, 0; 0, -25]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "dq axis saturation"
		    SrcPort		    2
		    Points		    [5, 0; 0, 135]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0; 0, 35]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "phimq_in"
		    SrcPort		    1
		    Points		    [155, 0]
		    Branch {
		    Points		    [0, 40; 145, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "dq axis saturation"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "dq axis saturation"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "phimd_in"
		    SrcPort		    1
		    Points		    [145, 0]
		    Branch {
		    Points		    [0, 200]
		    Branch {
		    Points		    [0, 45; 145, 0; 0, -60]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    4
		    }
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "d axis saturation"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "dq axis saturation"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion2"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vs4"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Data Type \nConversion2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 80; -35, 0; 0, 200]
		    DstBlock		    "Data Type \nConversion4"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum17"
		  Ports			  [2, 1]
		  Position		  [200, 143, 220, 172]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum18"
		  Ports			  [2, 1]
		  Position		  [200, 183, 220, 212]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum19"
		  Ports			  [2, 1]
		  Position		  [200, 418, 220, 447]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum20"
		  Ports			  [2, 1]
		  Position		  [200, 318, 220, 347]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum21"
		  Ports			  [2, 1]
		  Position		  [200, 368, 220, 397]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum22"
		  Ports			  [2, 1]
		  Position		  [200, 228, 220, 257]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Gain
		  Name			  "output\nformatting"
		  Position		  [375, 305, 390, 325]
		  ShowName		  off
		  Gain			  "ib2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "output\nformatting1"
		  Position		  [375, 320, 390, 340]
		  ShowName		  off
		  Gain			  "ib2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "output\nformatting2"
		  Position		  [375, 335, 390, 355]
		  ShowName		  off
		  Gain			  "N2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "output\nformatting3"
		  Position		  [375, 350, 390, 370]
		  ShowName		  off
		  Gain			  "ib2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "output\nformatting4"
		  Position		  [375, 365, 390, 385]
		  ShowName		  off
		  Gain			  "ib2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "output\nformatting5"
		  Position		  [375, 380, 390, 400]
		  ShowName		  off
		  Gain			  "ib2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "output\nformatting6"
		  Position		  [375, 395, 390, 415]
		  ShowName		  off
		  Gain			  "phib"
		}
		Block {
		  BlockType		  Gain
		  Name			  "output\nformatting7"
		  Position		  [375, 410, 390, 430]
		  ShowName		  off
		  Gain			  "phib"
		}
		Block {
		  BlockType		  Gain
		  Name			  "output\nformatting8"
		  Position		  [375, 425, 390, 445]
		  ShowName		  off
		  Gain			  "Vb2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "output\nformatting9"
		  Position		  [375, 440, 390, 460]
		  ShowName		  off
		  Gain			  "Vb2"
		}
		Block {
		  BlockType		  Sum
		  Name			  "sum"
		  Ports			  [3, 1]
		  Position		  [150, 24, 170, 156]
		  ShowName		  off
		  Inputs		  "+++"
		  Port {
		    PortNumber		    1
		    Name		    "phimq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "sum1"
		  Ports			  [3, 1]
		  Position		  [140, 474, 160, 606]
		  ShowName		  off
		  Inputs		  "+++"
		  Port {
		    PortNumber		    1
		    Name		    "phimd"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "phimq"
		  Position		  [615, 240, 635, 260]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "iq,id,ifd,\nikq1,ikq2,ikd,\nphimq,p"
"himd,vq,vd"
		  Position		  [620, 375, 640, 395]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "iq,id"
		  Position		  [625, 160, 645, 180]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phimd"
		  Position		  [615, 280, 635, 300]
		  BackgroundColor	  "red"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  Name			  "phimd"
		  Labels		  [0, 0]
		  SrcBlock		  "Saturation"
		  SrcPort		  2
		  Points		  [35, 0]
		  Branch {
		    Points		    [0, 200; -235, 0]
		    Branch {
		    Labels		    [1, 0]
		    Points		    [-150, 0; 0, -65]
		    Branch {
		    DstBlock		    "Sum19"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -50]
		    Branch {
		    DstBlock		    "Sum21"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Sum20"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    Labels		    [2, 0]
		    Points		    [0, -70]
		    DstBlock		    "output\nformatting7"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Labels		    [1, 0]
		    DstBlock		    "phimd"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "phimq"
		  Labels		  [0, 0]
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    Labels		    [2, 0]
		    Points		    [0, -125; -390, 0; 0, 25]
		    Branch {
		    DstBlock		    "Sum17"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "Sum22"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [4, 0]
		    Points		    [-15, 0; 0, 235; 145, 0; 0, -65]
		    DstBlock		    "output\nformatting6"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Sum18"
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    DstBlock		    "phimq"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "phimd"
		  Labels		  [0, 0]
		  SrcBlock		  "sum1"
		  SrcPort		  1
		  Points		  [5, 0; 0, -250]
		  DstBlock		  "Saturation"
		  DstPort		  2
		}
		Line {
		  Name			  "phimq"
		  Labels		  [0, 0]
		  SrcBlock		  "sum"
		  SrcPort		  1
		  Points		  [240, 0]
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Line {
		  Name			  "ikq2"
		  Labels		  [0, 0]
		  SrcBlock		  "1_Llkq2"
		  SrcPort		  1
		  Points		  [35, 0; 0, 130]
		  DstBlock		  "output\nformatting4"
		  DstPort		  1
		}
		Line {
		  Name			  "ikq1"
		  Labels		  [-1, 1]
		  SrcBlock		  "1_Llkq1"
		  SrcPort		  1
		  Points		  [45, 0; 0, 160]
		  DstBlock		  "output\nformatting3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum20"
		  SrcPort		  1
		  DstBlock		  "-1_Ll "
		  DstPort		  1
		}
		Line {
		  Name			  "id"
		  Labels		  [0, 0]
		  SrcBlock		  "-1_Ll "
		  SrcPort		  1
		  Points		  [25, 0; 0, -160; 45, 0]
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    Labels		    [2, 0]
		    Points		    [0, 155]
		    DstBlock		    "output\nformatting1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum21"
		  SrcPort		  1
		  DstBlock		  "1_Llfd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum19"
		  SrcPort		  1
		  DstBlock		  "1_Llkd"
		  DstPort		  1
		}
		Line {
		  Name			  "ifd"
		  Labels		  [-1, 1]
		  SrcBlock		  "1_Llfd"
		  SrcPort		  1
		  Points		  [25, 0; 0, -40]
		  DstBlock		  "output\nformatting2"
		  DstPort		  1
		}
		Line {
		  Name			  "ikd"
		  Labels		  [0, 0]
		  SrcBlock		  "1_Llkd"
		  SrcPort		  1
		  Points		  [25, 0; 0, -45]
		  DstBlock		  "output\nformatting5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum18"
		  SrcPort		  1
		  DstBlock		  "1_Llkq1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum17"
		  SrcPort		  1
		  DstBlock		  "-1_Ll"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum22"
		  SrcPort		  1
		  DstBlock		  "1_Llkq2"
		  DstPort		  1
		}
		Line {
		  Name			  "iq"
		  Labels		  [0, 0]
		  SrcBlock		  "-1_Ll"
		  SrcPort		  1
		  Points		  [60, 0]
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [2, 0]
		    Points		    [0, 155]
		    DstBlock		    "output\nformatting"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "iq & id"
		  Labels		  [0, 0]
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "iq,id"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Lad_Llkd"
		  SrcPort		  1
		  DstBlock		  "sum1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Lad_Llfd"
		  SrcPort		  1
		  DstBlock		  "sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Lad_Ll"
		  SrcPort		  1
		  DstBlock		  "sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phifd"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Lad_Llfd"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -150]
		    DstBlock		    "Sum21"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "phid"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, -155]
		    DstBlock		    "Sum20"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Lad_Ll"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "phikd"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "Lad_Llkd"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -145]
		    DstBlock		    "Sum19"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "phiq"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    DstBlock		    "Laq_Ll"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 120]
		    DstBlock		    "Sum17"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Laq_Ll"
		  SrcPort		  1
		  DstBlock		  "sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Laq_Llkq2"
		  SrcPort		  1
		  DstBlock		  "sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Laq_Llkq1"
		  SrcPort		  1
		  DstBlock		  "sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phikq2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Laq_Llkq2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 115]
		    DstBlock		    "Sum22"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "phikq1"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Laq_Llkq1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 115]
		    DstBlock		    "Sum18"
		    DstPort		    2
		  }
		}
		Line {
		  Name			  "vq"
		  Labels		  [0, 0]
		  SrcBlock		  "vq"
		  SrcPort		  1
		  Points		  [45, 0; 0, -80]
		  DstBlock		  "output\nformatting8"
		  DstPort		  1
		}
		Line {
		  Name			  "vd"
		  Labels		  [0, 0]
		  SrcBlock		  "vd"
		  SrcPort		  1
		  Points		  [60, 0; 0, -120]
		  DstBlock		  "output\nformatting9"
		  DstPort		  1
		}
		Line {
		  Name			  "dq0 components"
		  Labels		  [1, 1]
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "iq,id,ifd,\nikq1,ikq2,ikd,\nphimq,p"
"himd,vq,vd"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "output\nformatting"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "output\nformatting1"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "output\nformatting2"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "output\nformatting3"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "output\nformatting4"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "output\nformatting5"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  6
		}
		Line {
		  SrcBlock		  "output\nformatting6"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  7
		}
		Line {
		  SrcBlock		  "output\nformatting7"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  8
		}
		Line {
		  SrcBlock		  "output\nformatting8"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  9
		}
		Line {
		  SrcBlock		  "output\nformatting9"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  10
		}
		Annotation {
		  Name			  "This subsystem computes the mutual "
"fluxes phimd\nand phimq and all direct and quadrature axis         \ncurrents"
" in the model.                                          "
		  Position		  [517, 572]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "ia,ib"
	      Ports		      [1, 1]
	      Position		      [780, 48, 810, 72]
	      NamePlacement	      "alternate"
	      Elements		      "1:2"
	      InputPortWidth	      "3"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "mec"
	      Ports		      [4, 3]
	      Position		      [660, 525, 705, 580]
	      BackgroundColor	      "green"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('mec')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"mec"
		Location		[82, 152, 1010, 555]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "iq,id "
		  Position		  [15, 215, 35, 235]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "2"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phid"
		  Position		  [15, 145, 35, 165]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phiq"
		  Position		  [15, 180, 35, 200]
		  BackgroundColor	  "yellow"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Pm"
		  Position		  [15, 60, 35, 80]
		  BackgroundColor	  "yellow"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_(2H)"
		  Position		  [265, 65, 290, 95]
		  NamePlacement		  "alternate"
		  Gain			  "1/(2*H)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Pb"
		  Position		  [70, 56, 100, 84]
		  ShowName		  off
		  Gain			  "1/Pb"
		}
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [360, 120, 380, 140]
		  Decimation		  "10"
		}
		Block {
		  BlockType		  Gain
		  Name			  "F"
		  Position		  [270, 93, 300, 127]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "F"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn1"
		  Position		  [420, 260, 480, 290]
		  BackgroundColor	  "yellow"
		  Expr			  "rem(u,2*pi)"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [315, 70, 335, 90]
		  ShowName		  off
		  InitialCondition	  "dwo"
		  Port {
		    PortNumber		    1
		    Name		    "dw"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  Ports			  [1, 1]
		  Position		  [380, 265, 400, 285]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  InitialCondition	  "tho"
		  Port {
		    PortNumber		    1
		    Name		    "d_theta (rad)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator2"
		  Ports			  [1, 1]
		  Position		  [465, 60, 485, 80]
		  ShowName		  off
		  InitialCondition	  "tho"
		  Port {
		    PortNumber		    1
		    Name		    "d_theta (rad)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [3, 1]
		  Position		  [55, 136, 85, 244]
		  ShowName		  off
		  Inputs		  "[ 1 1 2 ]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [120, 54, 155, 76]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [6, 1]
		  Position		  [730, 156, 735, 319]
		  ShowName		  off
		  Inputs		  "[1,1,1,1,1,1]"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "Mechanical"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [405, 173, 435, 197]
		  ShowName		  off
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "Pe"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [365, 43, 385, 92]
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "n"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [220, 60, 240, 100]
		  ShowName		  off
		  Inputs		  "+--"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [510, 60, 530, 100]
		  ShowName		  off
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Te"
		  Position		  [100, 179, 190, 201]
		  Expr			  "u[1]*u[3]-u[2]*u[4]"
		  Port {
		    PortNumber		    1
		    Name		    "Te"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Fcn
		  Name			  "div"
		  Position		  [175, 55, 195, 75]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Expr			  "u[2]/u[1]"
		  MaskDisplay		  "disp('/')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Constant
		  Name			  "nom. speed"
		  Position		  [315, 45, 335, 65]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		}
		Block {
		  BlockType		  Gain
		  Name			  "theta"
		  Position		  [510, 260, 535, 290]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Gain			  "180/pi"
		  Port {
		    PortNumber		    1
		    Name		    "theta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "units"
		  Position		  [620, 190, 640, 210]
		  ShowName		  off
		  Gain			  "Nb"
		  Port {
		    PortNumber		    1
		    Name		    "n"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "units1"
		  Position		  [595, 215, 615, 235]
		  ShowName		  off
		  Gain			  "Pb"
		  Port {
		    PortNumber		    1
		    Name		    "Pe"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "units2"
		  Position		  [610, 290, 630, 310]
		  ShowName		  off
		  Gain			  "Pb/Nb"
		  Port {
		    PortNumber		    1
		    Name		    "Te"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "web1"
		  Position		  [420, 55, 445, 85]
		  NamePlacement		  "alternate"
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web2"
		  Position		  [440, 115, 465, 145]
		  NamePlacement		  "alternate"
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web3"
		  Position		  [330, 260, 355, 290]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "misc"
		  Position		  [825, 230, 845, 250]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "thetae"
		  Position		  [625, 70, 645, 90]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "we"
		  Position		  [625, 20, 645, 40]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  Name			  "d_theta (rad)"
		  SrcBlock		  "Integrator2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Sum3"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [-1, 0]
		    Points		    [0, 105]
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "web2"
		  SrcPort		  1
		  Points		  [5, 0; 0, -40]
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  DstBlock		  "web2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "web1"
		  SrcPort		  1
		  DstBlock		  "Integrator2"
		  DstPort		  1
		}
		Line {
		  Name			  "dw"
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 30]
		    Branch {
		    Points		    [0, 0]
		    Branch {
		    Points		    [55, 0]
		    DstBlock		    "web1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "F"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Labels		    [-1, 0]
		    Points		    [0, 140]
		    DstBlock		    "Mux2"
		    DstPort		    4
		    }
		  }
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		}
		Line {
		  Name			  "Pe"
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [5, 0; 0, 40]
		  DstBlock		  "units1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "nom. speed"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_(2H)"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "div"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phiq"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phid"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "iq,id "
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  Name			  "Te"
		  Labels		  [0, 0]
		  SrcBlock		  "Te"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -110]
		    DstBlock		    "Sum2"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 110]
		    DstBlock		    "units2"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Te"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "div"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Pm"
		  SrcPort		  1
		  DstBlock		  "1_Pb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_Pb"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "F"
		  SrcPort		  1
		  Points		  [-60, 0]
		  DstBlock		  "Sum2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "1_(2H)"
		  DstPort		  1
		}
		Line {
		  Name			  "n"
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, 80]
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [75, 0; 0, 50]
		    Branch {
		    Points		    [-160, 0; 0, 75]
		    DstBlock		    "web3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "units"
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    Points		    [0, -40]
		    Branch {
		    DstBlock		    "we"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-285, 0]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "thetae"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "web3"
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
		Line {
		  Name			  "d_theta (rad)"
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  DstBlock		  "Fcn1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Fcn1"
		  SrcPort		  1
		  DstBlock		  "theta"
		  DstPort		  1
		}
		Line {
		  Name			  "theta"
		  Labels		  [-1, 0]
		  SrcBlock		  "theta"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  5
		}
		Line {
		  Name			  "Mechanical"
		  Labels		  [0, 0]
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "misc"
		  DstPort		  1
		}
		Line {
		  Name			  "n"
		  Labels		  [-1, 0]
		  SrcBlock		  "units"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  Name			  "Pe"
		  Labels		  [-1, 0]
		  SrcBlock		  "units1"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  3
		}
		Line {
		  Name			  "Te"
		  Labels		  [-1, 0]
		  SrcBlock		  "units2"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  6
		}
		Annotation {
		  Name			  "This subsystem models the mechanica"
"l part of the machine."
		  Position		  [367, 352]
		  VerticalAlignment	  "top"
		}
		Annotation {
		  Name			  "Attention: Te tjrs en p.u"
		  Position		  [532, 316]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phid"
	      Ports		      [4, 1]
	      Position		      [425, 348, 460, 407]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phid')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phid"
		Location		[519, 345, 911, 546]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "w"
		  Position		  [50, 15, 70, 35]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phiq"
		  Position		  [15, 40, 35, 60]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "vd"
		  Position		  [50, 65, 70, 85]
		  BackgroundColor	  "yellow"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phimd"
		  Position		  [15, 95, 35, 115]
		  BackgroundColor	  "yellow"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [95, 14, 125, 61]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rs_Ll"
		  Position		  [130, 97, 155, 123]
		  Gain			  "Rs/Ll"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [175, 19, 200, 131]
		  ShowName		  off
		  Inputs		  "+++"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum9"
		  Ports			  [2, 1]
		  Position		  [90, 100, 110, 120]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "int"
		  Ports			  [1, 1]
		  Position		  [275, 65, 295, 85]
		  ShowName		  off
		  InitialCondition	  "phido"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [220, 59, 255, 91]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phid"
		  Position		  [330, 65, 350, 85]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "phimd"
		  SrcPort		  1
		  DstBlock		  "Sum9"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vd"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phiq"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "w"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum9"
		  SrcPort		  1
		  DstBlock		  "Rs_Ll"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rs_Ll"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "int"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "int"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "phid"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 70; -230, 0]
		    DstBlock		    "Sum9"
		    DstPort		    2
		  }
		}
		Annotation {
		  Name			  "This subsystem computes the direct "
"axis flux phid."
		  Position		  [182, 157]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phifd"
	      Ports		      [2, 1]
	      Position		      [425, 414, 460, 456]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phifd')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phifd"
		Location		[678, 76, 1071, 268]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "vfd"
		  Position		  [25, 40, 45, 60]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phimd"
		  Position		  [25, 75, 45, 95]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "N"
		  Position		  [95, 37, 130, 63]
		  ShowName		  off
		  Gain			  "N"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rf_Llfd"
		  Position		  [115, 77, 140, 103]
		  Gain			  "Rf/Llfd"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum10"
		  Ports			  [2, 1]
		  Position		  [80, 80, 100, 100]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [160, 30, 185, 110]
		  ShowName		  off
		}
		Block {
		  BlockType		  Integrator
		  Name			  "int"
		  Ports			  [1, 1]
		  Position		  [260, 60, 280, 80]
		  ShowName		  off
		  InitialCondition	  "phifdo"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [205, 54, 240, 86]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phifd"
		  Position		  [340, 60, 360, 80]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "N"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vfd"
		  SrcPort		  1
		  DstBlock		  "N"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rf_Llfd"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum10"
		  SrcPort		  1
		  DstBlock		  "Rf_Llfd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phimd"
		  SrcPort		  1
		  DstBlock		  "Sum10"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "int"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "int"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "phifd"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 55; -225, 0]
		    DstBlock		    "Sum10"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem computes the field f"
"lux phifd."
		  Position		  [202, 137]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phikd"
	      Ports		      [2, 1]
	      Position		      [425, 464, 460, 506]
	      BackgroundColor	      "magenta"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phikd')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phikd"
		Location		[578, 396, 956, 569]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "phimd"
		  Position		  [40, 55, 60, 75]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "vkd"
		  Position		  [40, 90, 60, 110]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rkd_Llkd"
		  Position		  [125, 47, 150, 73]
		  Gain			  "Rkd/Llkd"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum11"
		  Ports			  [2, 1]
		  Position		  [85, 50, 105, 70]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  Ports			  [2, 1]
		  Position		  [170, 39, 190, 121]
		  ShowName		  off
		}
		Block {
		  BlockType		  Integrator
		  Name			  "int"
		  Ports			  [1, 1]
		  Position		  [270, 70, 290, 90]
		  ShowName		  off
		  InitialCondition	  "phikdo"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [210, 64, 245, 96]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phikd"
		  Position		  [320, 70, 340, 90]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Rkd_Llkd"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum11"
		  SrcPort		  1
		  DstBlock		  "Rkd_Llkd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phimd"
		  SrcPort		  1
		  DstBlock		  "Sum11"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "vkd"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "int"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "int"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "phikd"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -45; -230, 0]
		    DstBlock		    "Sum11"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem computes the direct "
"axis damper flux phikd."
		  Position		  [187, 147]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phikq1"
	      Ports		      [2, 1]
	      Position		      [420, 238, 460, 282]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phikq1')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phikq1"
		Location		[415, 389, 771, 540]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "phimq"
		  Position		  [20, 40, 40, 60]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "vkq1"
		  Position		  [20, 75, 40, 95]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rkq1_Llkq1"
		  Position		  [110, 32, 135, 58]
		  NamePlacement		  "alternate"
		  Gain			  "Rkq1/Llkq1"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [155, 27, 175, 103]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum7"
		  Ports			  [2, 1]
		  Position		  [70, 35, 90, 55]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "int"
		  Ports			  [1, 1]
		  Position		  [250, 55, 270, 75]
		  ShowName		  off
		  InitialCondition	  "phikq1o"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [195, 49, 230, 81]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phikq1"
		  Position		  [305, 54, 325, 76]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "int"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, -50; -230, 0]
		    DstBlock		    "Sum7"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "phikq1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "int"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vkq1"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phimq"
		  SrcPort		  1
		  DstBlock		  "Sum7"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum7"
		  SrcPort		  1
		  DstBlock		  "Rkq1_Llkq1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rkq1_Llkq1"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem computes the quadrat"
"ure axis damper flux phikq."
		  Position		  [177, 122]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phikq2"
	      Ports		      [2, 1]
	      Position		      [420, 175, 460, 215]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phikq2')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phikq2"
		Location		[123, 201, 574, 383]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "vkq2"
		  Position		  [30, 95, 50, 115]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phimq"
		  Position		  [30, 60, 50, 80]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Enabled\nintegrator"
		  Ports			  [1, 1, 1]
		  Position		  [280, 72, 305, 98]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('1/s')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Enabled\nintegrator"
		    Location		    [773, 219, 953, 365]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 28, 55, 42]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [100, 80, 120, 100]
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "int"
		    Ports		    [1, 1]
		    Position		    [80, 25, 100, 45]
		    ShowName		    off
		    InitialCondition	    "phikq2o"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [125, 28, 155, 42]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "phikq2o"
		    }
		    Line {
		    SrcBlock		    "int"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "int"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rkq2_Llkq2"
		  Position		  [135, 52, 160, 78]
		  NamePlacement		  "alternate"
		  Gain			  "Rkq2/Llkq2"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [180, 47, 200, 123]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum7"
		  Ports			  [2, 1]
		  Position		  [90, 55, 110, 75]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [220, 69, 255, 101]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Constant
		  Name			  "wref"
		  Position		  [210, 22, 280, 48]
		  BackgroundColor	  "green"
		  Value			  "isfinite(Llkq2)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phikq2"
		  Position		  [360, 74, 380, 96]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "wref"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "Enabled\nintegrator"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Enabled\nintegrator"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    DstBlock		    "phikq2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -75; -260, 0]
		    DstBlock		    "Sum7"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "Enabled\nintegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum7"
		  SrcPort		  1
		  DstBlock		  "Rkq2_Llkq2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vkq2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Rkq2_Llkq2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phimq"
		  SrcPort		  1
		  DstBlock		  "Sum7"
		  DstPort		  2
		}
		Annotation {
		  Name			  "This subsystem computes the quadrat"
"ure axis damper flux phikq2."
		  Position		  [217, 142]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phiq"
	      Ports		      [4, 1]
	      Position		      [425, 89, 460, 131]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phiq')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phiq"
		Location		[540, 487, 921, 694]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "vq"
		  Position		  [15, 25, 35, 45]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "w"
		  Position		  [45, 50, 65, 70]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phid"
		  Position		  [15, 75, 35, 95]
		  BackgroundColor	  "yellow"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phimq"
		  Position		  [45, 95, 65, 115]
		  BackgroundColor	  "yellow"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [120, 49, 150, 96]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rs_Ll"
		  Position		  [145, 102, 170, 128]
		  Gain			  "Rs/Ll"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [190, 14, 210, 136]
		  ShowName		  off
		  Inputs		  "+-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  Ports			  [2, 1]
		  Position		  [100, 99, 120, 126]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "int1"
		  Ports			  [1, 1]
		  Position		  [280, 65, 300, 85]
		  ShowName		  off
		  InitialCondition	  "phiqo"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [225, 59, 260, 91]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phiq"
		  Position		  [345, 67, 360, 83]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rs_Ll"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  DstBlock		  "Rs_Ll"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "vq"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phid"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phimq"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "int1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "int1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "phiq"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 75; -225, 0]
		    DstBlock		    "Sum6"
		    DstPort		    2
		  }
		}
		Annotation {
		  Name			  "This subsystem computes the quadrat"
"ure axis flux phiq."
		  Position		  [182, 162]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "qd2abc"
	      Ports		      [2, 2]
	      Position		      [660, 49, 715, 91]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('qd/\\nabc')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		1
		Name			"iabc"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"qd2abc"
		Location		[7, 562, 769, 817]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "sin,cos"
		  Position		  [15, 45, 35, 65]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "2"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "iq,id"
		  Position		  [15, 85, 35, 105]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "2"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn"
		  Position		  [115, 22, 370, 48]
		  ShowName		  off
		  Expr			  "u[3]*u[2] + u[4]*u[1] "
		  Port {
		    PortNumber		    1
		    Name		    "is_a"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn1"
		  Position		  [115, 63, 365, 87]
		  ShowName		  off
		  Expr			  "(u[2]*(-u[3]-sqrt3*u[4]) + u[1]*(sq"
"rt3*u[3]-u[4]))*0.5"
		  Port {
		    PortNumber		    1
		    Name		    "is_b"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [60, 33, 90, 117]
		  ShowName		  off
		  Inputs		  "[ 2 2 ]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [3, 1]
		  Position		  [605, 148, 610, 222]
		  ShowName		  off
		  Inputs		  "[1,1,1]"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "Stator currents"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1_"
		  Ports			  [3, 1]
		  Position		  [470, 16, 500, 134]
		  ShowName		  off
		  Inputs		  "3"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [385, 95, 405, 110]
		  Orientation		  "down"
		  ShowName		  off
		  Inputs		  "--"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  Port {
		    PortNumber		    1
		    Name		    "is_c"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "ib"
		  Position		  [520, 60, 545, 90]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "ib"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Gain
		  Name			  "output\nformatting"
		  Position		  [500, 151, 520, 169]
		  ShowName		  off
		  Gain			  "ib2"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  Port {
		    PortNumber		    1
		    Name		    "is_a"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "output\nformatting1"
		  Position		  [500, 176, 520, 194]
		  ShowName		  off
		  Gain			  "ib2"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  Port {
		    PortNumber		    1
		    Name		    "is_b"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "output\nformatting2"
		  Position		  [500, 201, 520, 219]
		  ShowName		  off
		  Gain			  "ib2"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  Port {
		    PortNumber		    1
		    Name		    "is_c"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "is(A)"
		  Position		  [570, 65, 590, 85]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "is(pu)"
		  Position		  [700, 175, 720, 195]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "iq,id"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "sin,cos"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Fcn1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -40]
		    DstBlock		    "Fcn"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux1_"
		  SrcPort		  1
		  DstBlock		  "ib"
		  DstPort		  1
		}
		Line {
		  Name			  "is_c"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Mux1_"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 95]
		    DstBlock		    "output\nformatting2"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "is_a"
		  Labels		  [0, 0]
		  SrcBlock		  "Fcn"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [55, 0]
		    Branch {
		    DstBlock		    "Mux1_"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 125]
		    DstBlock		    "output\nformatting"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Name			  "is_b"
		  Labels		  [0, 0]
		  SrcBlock		  "Fcn1"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "Mux1_"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 110]
		    DstBlock		    "output\nformatting1"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "ib"
		  SrcPort		  1
		  DstBlock		  "is(A)"
		  DstPort		  1
		}
		Line {
		  Name			  "Stator currents"
		  Labels		  [0, 0]
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "is(pu)"
		  DstPort		  1
		}
		Line {
		  Name			  "is_a"
		  Labels		  [0, 0]
		  SrcBlock		  "output\nformatting"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  Name			  "is_b"
		  Labels		  [0, 0]
		  SrcBlock		  "output\nformatting1"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  Name			  "is_c"
		  Labels		  [0, 0]
		  SrcBlock		  "output\nformatting2"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
		Annotation {
		  Name			  "This subsystem converts id,iq to ia"
",ib,ic."
		  Position		  [232, 117]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "vkd"
	      Position		      [365, 487, 380, 503]
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "vkq2"
	      Position		      [385, 177, 400, 193]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [840, 50, 860, 70]
	      BackgroundColor	      "red"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [880, 400, 900, 420]
	      BackgroundColor	      "red"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "vf"
	      SrcPort		      1
	      DstBlock		      "Subsystem"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "currents and mutual fluxes"
	      SrcPort		      2
	      Points		      [195, 0; 0, 85]
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "vkq2"
	      SrcPort		      1
	      DstBlock		      "phikq2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Vq"
	      Labels		      [0, 0]
	      SrcBlock		      "abc2qd"
	      SrcPort		      2
	      Points		      [50, 0]
	      Branch {
		Points			[0, -270]
		DstBlock		"phiq"
		DstPort			1
	      }
	      Branch {
		Points			[0, 290; 220, 0]
		Branch {
		  DstBlock		  "Delta angle"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, -245]
		  Branch {
		    Points		    [0, -35]
		    DstBlock		    "currents and mutual fluxes"
		    DstPort		    7
		  }
		  Branch {
		    DstBlock		    "PQ"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Line {
	      SrcBlock		      "pm"
	      SrcPort		      1
	      DstBlock		      "mec"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "vkd"
	      SrcPort		      1
	      DstBlock		      "phikd"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "phiq"
	      SrcPort		      1
	      Points		      [40, 0; 0, 45]
	      Branch {
		Points			[-155, 0; 0, 215; 45, 0]
		Branch {
		  DstBlock		  "phid"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, 190]
		  DstBlock		  "mec"
		  DstPort		  3
		}
	      }
	      Branch {
		Points			[0, 100]
		DstBlock		"currents and mutual fluxes"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "iabc"
	      Labels		      [0, 0]
	      SrcBlock		      "qd2abc"
	      SrcPort		      1
	      DstBlock		      "ia,ib"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "currents and mutual fluxes"
	      SrcPort		      1
	      Points		      [10, 0; 0, -135; -225, 0]
	      Branch {
		Points			[0, -15]
		DstBlock		"phiq"
		DstPort			4
	      }
	      Branch {
		Points			[0, 65]
		Branch {
		  DstBlock		  "phikq2"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, 45]
		  DstBlock		  "phikq1"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "qd2abc"
	      SrcPort		      2
	      Points		      [75, 0; 0, 305]
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      Name		      "sin,cos"
	      Labels		      [3, 0]
	      SrcBlock		      "abc2qd"
	      SrcPort		      1
	      Points		      [15, 0; 0, -285]
	      DstBlock		      "qd2abc"
	      DstPort		      1
	    }
	    Line {
	      Name		      "iq,id"
	      SrcBlock		      "currents and mutual fluxes"
	      SrcPort		      3
	      Points		      [25, 0]
	      Branch {
		Labels			[2, 0]
		Points			[0, -265]
		DstBlock		"qd2abc"
		DstPort			2
	      }
	      Branch {
		Points			[0, 105]
		Branch {
		  Points		  [0, 80]
		  DstBlock		  "mec"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "PQ"
		  DstPort		  3
		}
	      }
	    }
	    Line {
	      SrcBlock		      "ia,ib"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "phid"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		Points			[0, -85]
		Branch {
		  DstBlock		  "currents and mutual fluxes"
		  DstPort		  3
		}
		Branch {
		  Points		  [-125, 0; 0, -180]
		  DstBlock		  "phiq"
		  DstPort		  3
		}
	      }
	      Branch {
		Points			[0, 165]
		DstBlock		"mec"
		DstPort			2
	      }
	    }
	    Line {
	      Name		      "Vd"
	      Labels		      [0, 0]
	      SrcBlock		      "abc2qd"
	      SrcPort		      3
	      Points		      [10, 0; 25, 0]
	      Branch {
		DstBlock		"phid"
		DstPort			3
	      }
	      Branch {
		Points			[0, 290; 245, 0; 0, 0]
		Branch {
		  DstBlock		  "Delta angle"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, -245]
		  Branch {
		    DstBlock		    "currents and mutual fluxes"
		    DstPort		    8
		  }
		  Branch {
		    DstBlock		    "PQ"
		    DstPort		    2
		  }
		}
	      }
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "abc2qd"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "phikd"
	      SrcPort		      1
	      Points		      [35, 0; 0, -130]
	      DstBlock		      "currents and mutual fluxes"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "phifd"
	      SrcPort		      1
	      Points		      [25, 0; 0, -120]
	      DstBlock		      "currents and mutual fluxes"
	      DstPort		      4
	    }
	    Line {
	      Labels		      [0, 0]
	      SrcBlock		      "phikq1"
	      SrcPort		      1
	      Points		      [20, 0; 0, 75]
	      DstBlock		      "currents and mutual fluxes"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "phikq2"
	      SrcPort		      1
	      Points		      [30, 0; 0, 80]
	      DstBlock		      "currents and mutual fluxes"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Subsystem"
	      SrcPort		      1
	      Points		      [15, 0; 0, -135]
	      DstBlock		      "phikq1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Subsystem"
	      SrcPort		      2
	      DstBlock		      "phifd"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "mec"
	      SrcPort		      2
	      Points		      [5, 0; 0, 65; -555, 0; 0, -240]
	      DstBlock		      "abc2qd"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "mec"
	      SrcPort		      3
	      Points		      [0, 35; -395, 0; 0, -255]
	      Branch {
		Points			[0, 0; 0, -250]
		DstBlock		"phiq"
		DstPort			2
	      }
	      Branch {
		DstBlock		"phid"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "mec"
	      SrcPort		      1
	      Points		      [70, 0; 0, -130]
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "currents and mutual fluxes"
	      SrcPort		      4
	      Points		      [10, 0; 0, 150; -250, 0; 0, -55]
	      Branch {
		Points			[0, -30]
		Branch {
		  Points		  [0, -45]
		  DstBlock		  "phid"
		  DstPort		  4
		}
		Branch {
		  DstBlock		  "phifd"
		  DstPort		  2
		}
	      }
	      Branch {
		Points			[0, 0]
		DstBlock		"phikd"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      " "
	      Labels		      [2, 0]
	      SrcBlock		      "PQ"
	      SrcPort		      1
	      Points		      [0, 10]
	      DstBlock		      "Mux"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "PQ"
	      SrcPort		      2
	      Points		      [0, -10]
	      DstBlock		      "Mux"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "Delta angle"
	      SrcPort		      1
	      Points		      [155, 0; 0, -250]
	      DstBlock		      "Mux"
	      DstPort		      4
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "thyristor (logical)"
	  Ports			  [2, 4]
	  Position		  [115, 209, 160, 276]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskDescription	  "Simulink model for the Thyristor block when"
" Lon=0. This model is used during a continuous simulation."
	  MaskPromptString	  "Number of thyristors|Forward Voltage Vf(V):"
"|Thyristor resistances"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVarAliasString	  ",,"
	  MaskVariables		  "Nsw=@1;Vf=@2;Rsw=@3;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|0|1"
	  MaskTabNameString	  ",,"
	  System {
	    Name		    "thyristor (logical)"
	    Location		    [208, 68, 1055, 482]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [80, 115, 100, 135]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"Vak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [285, 225, 305, 245]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"gate signal"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 1"
	      Position		      [260, 80, 280, 100]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 2"
	      Position		      [260, 130, 280, 150]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 3"
	      Position		      [260, 180, 280, 200]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 4"
	      Position		      [315, 290, 335, 310]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1/Rsw"
	      Position		      [100, 155, 130, 185]
	      Orientation	      "down"
	      Gain		      "1./Rsw"
	      Port {
		PortNumber		1
		Name			"Iak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Break Alg. Loop"
	      Ports		      [1, 1]
	      Position		      [660, 77, 705, 113]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskPromptString	      "number of switches"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "Nsw=@1;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "1"
	      System {
		Name			"Break Alg. Loop"
		Location		[169, 449, 821, 578]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [35, 33, 65, 47]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 2"
		  Position		  [360, 53, 390, 77]
		  ShowName		  off
		  Value			  "0.001"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion"
		  Position		  [470, 49, 525, 71]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [95, 29, 140, 51]
		  ShowName		  off
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [295, 25, 325, 75]
		  ShowName		  off
		  LimitOutput		  on
		  UpperSaturationLimit	  "0.00101"
		}
		Block {
		  BlockType		  Gain
		  Name			  "R_device"
		  Position		  [240, 30, 270, 70]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1e7"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator1"
		  Position		  [415, 42, 445, 73]
		  Operator		  ">"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Vak-Vf-Ron*Iak"
		  Ports			  [2, 1]
		  Position		  [175, 31, 205, 64]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [550, 53, 580, 67]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Relational\nOperator1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "0 2"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 50; -180, 0]
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Vak-Vf-Ron*Iak"
		  SrcPort		  1
		  DstBlock		  "R_device"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "R_device"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  DstBlock		  "Vak-Vf-Ron*Iak"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [630, 22, 720, 48]
	      Value		      "zeros(Nsw,1)"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion1"
	      Position		      [400, 74, 455, 96]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion2"
	      Position		      [400, 124, 455, 146]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion3"
	      Position		      [400, 174, 455, 196]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion4"
	      Position		      [400, 224, 455, 246]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [530, 291, 535, 329]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	      Port {
		PortNumber		1
		Name			"measurement signals"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [440, 270, 470, 300]
	      UpperLimit	      "inf"
	      LowerLimit	      "0"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [200, 310, 220, 330]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|++"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [380, 270, 410, 300]
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b5"
	      Position		      [300, 66, 325, 99]
	      ShowName		      off
	      Operator		      ">"
	      Port {
		PortNumber		1
		Name			"Current > 0"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b6"
	      Position		      [300, 116, 325, 149]
	      ShowName		      off
	      Operator		      ">"
	      Port {
		PortNumber		1
		Name			"Voltage > 0"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b7"
	      Position		      [300, 166, 325, 199]
	      ShowName		      off
	      Operator		      "=="
	      Port {
		PortNumber		1
		Name			"Current = 0"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "or2"
	      Ports		      [2, 1]
	      Position		      [595, 75, 625, 115]
	      ShowName		      off
	      Operator		      "OR"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "or3"
	      Ports		      [3, 1]
	      Position		      [530, 165, 560, 205]
	      ShowName		      off
	      Inputs		      "3"
	      Port {
		PortNumber		1
		Name			"Gate = 1\nVoltage > 0\nCurrent = 0"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "vf"
	      Position		      [115, 339, 165, 361]
	      Value		      "Vf"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [755, 25, 775, 45]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Status"
	      Position		      [755, 85, 775, 105]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [670, 300, 690, 320]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vf"
	      Position		      [255, 340, 275, 360]
	      Port		      "4"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion4"
	      SrcPort		      1
	      Points		      [55, 0]
	      DstBlock		      "or3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion3"
	      SrcPort		      1
	      DstBlock		      "or3"
	      DstPort		      2
	    }
	    Line {
	      Name		      "gate signal"
	      Labels		      [-1, 0]
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 2"
	      SrcPort		      1
	      DstBlock		      "b6"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Gate = 1\nVoltage > 0\nCurrent = 0"
	      Labels		      [0, 1]
	      SrcBlock		      "or3"
	      SrcPort		      1
	      Points		      [0, -80]
	      DstBlock		      "or2"
	      DstPort		      2
	    }
	    Line {
	      Name		      "measurement signals"
	      Labels		      [0, 0]
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 3"
	      SrcPort		      1
	      DstBlock		      "b7"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Current = 0"
	      Labels		      [0, 0]
	      SrcBlock		      "b7"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "or2"
	      SrcPort		      1
	      DstBlock		      "Break Alg. Loop"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Break Alg. Loop"
	      SrcPort		      1
	      Points		      [0, 0; 15, 0]
	      Branch {
		DstBlock		"Status"
		DstPort			1
	      }
	      Branch {
		Points			[0, 255; -425, 0; 0, -65]
		DstBlock		"Switch"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "0 1"
	      SrcPort		      1
	      DstBlock		      "b5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Vak"
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [0, 0; 10, 0]
	      Branch {
		Labels			[1, 0]
		Points			[55, 0]
		Branch {
		  DstBlock		  "b6"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 195]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
	      }
	      Branch {
		DstBlock		"1/Rsw"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "vf"
	      SrcPort		      1
	      Points		      [0, 0; 40, 0]
	      Branch {
		DstBlock		"Sum"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Vf"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "Current > 0"
	      Labels		      [0, 0]
	      SrcBlock		      "b5"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion1"
	      SrcPort		      1
	      DstBlock		      "or2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Voltage > 0"
	      Labels		      [0, 0]
	      SrcBlock		      "b6"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion2"
	      SrcPort		      1
	      Points		      [55, 0]
	      DstBlock		      "or3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 4"
	      SrcPort		      1
	      Points		      [0, -5]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      Points		      [0, 0; 25, 0]
	      Branch {
		Points			[0, 15]
		DstBlock		"Mux"
		DstPort			1
	      }
	      Branch {
		Points			[0, -25; -255, 0; 0, -85]
		Branch {
		  DstBlock		  "b7"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, -100]
		  DstBlock		  "b5"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      Name		      "Iak"
	      Labels		      [0, 0]
	      SrcBlock		      "1/Rsw"
	      SrcPort		      1
	      Points		      [0, 85]
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Discrete"
      Ports		      []
      Position		      [96, 12, 136, 57]
      TreatAsAtomicUnit	      off
      MinAlgLoopOccurrences   off
      RTWSystemCode	      "Auto"
      MaskIconFrame	      on
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskIconUnits	      "autoscale"
      System {
	Name			"Discrete"
	Location		[41, 147, 737, 573]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "3_Phase_Prog_Source"
	  Ports			  [0, 1]
	  Position		  [595, 108, 645, 172]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Discrete 3-phase Programmable Source"
	  MaskDescription	  "Use this discrete  block to generate  a set"
" of three-phase sinusoidal voltages or currents a, b and c. Time variation fo"
"r the amplitude, phase and frequency of the fundamental can be pre-programmed"
". In addition, two harmonics can be surimposed on the fundamental."
	  MaskPromptString	  "Positive-sequence: [ Amplitude  Phase(degre"
"es)   Freq. (Hz) ]|Time variation of:|Type of variation:|Step magnitude:|Rate"
" of change (value/s):|Amplitude of the modulation:|Frequency of the modulatio"
"n(Hz):|Variation timing (s) : [ Start   End ]|1-phase only|Amplitude values:|"
"Time values:|Harmonic generation:|A:  [ Order(n)   Amplitude  Phase(degrees) "
" Seq(0, 1 or 2) ]|B:  [ Order(n)   Amplitude  Phase(degrees)  Seq(0, 1 or 2) "
"]|Harmonic timing (s) : [ Start   End ]|Sample time:"
	  MaskStyleString	  "edit,popup(None|Amplitude|Phase|Frequency),"
"popup(Step|Ramp|Modulation|Table of time-amplitude pairs),edit,edit,edit,edit"
",edit,checkbox,edit,edit,checkbox,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n,on"
	  MaskCallbackString	  "|parametres=get_param(gcb,'MaskValues');p2="
"parametres{2};p3=parametres{3};p12=parametres{12};if strcmp(p3,'Step');param4"
"='on';param5='off';param6='off';param7='off';param8='on';param9='off';param10"
"='off';param11='off';elseif strcmp(p3,'Ramp');param4='off';param5='on';param6"
"='off';param7='off';param8='on';param9='off';param10='off';param11='off';else"
"if strcmp(p3,'Modulation');param4='off';param5='off';param6='on';param7='on';"
"param8='on';param9='off';param10='off';param11='off';else;param4='off';param5"
"='off';param6='off';param7='off';param8='off';param9='on';param10='on';param1"
"1='on';end;if strcmp(p2,'None');param3='off';param4='off';param5='off';param6"
"='off';param7='off';param8='off';param9='off';param10='off';param11='off';els"
"e;param3='on';end;if strcmp(p12,'on');param13='on';param14='on';param15='on';"
"else;param13='off';param14='off';param15='off';end;visible={'on','on',param3,"
"param4,param5,param6,param7,param8,param9,param10,param11,'on',param13,param1"
"4,param15,'on'};set_param(gcb,'MaskVisibilities',visible)|parametres=get_para"
"m(gcb,'MaskValues');p2=parametres{2};p3=parametres{3};p12=parametres{12};if s"
"trcmp(p3,'Step');param4='on';param5='off';param6='off';param7='off';param8='o"
"n';param9='off';param10='off';param11='off';elseif strcmp(p3,'Ramp');param4='"
"off';param5='on';param6='off';param7='off';param8='on';param9='off';param10='"
"off';param11='off';elseif strcmp(p3,'Modulation');param4='off';param5='off';p"
"aram6='on';param7='on';param8='on';param9='off';param10='off';param11='off';e"
"lse;param4='off';param5='off';param6='off';param7='off';param8='off';param9='"
"on';param10='on';param11='on';end;if strcmp(p2,'None');param3='off';param4='o"
"ff';param5='off';param6='off';param7='off';param8='off';param9='off';param10="
"'off';param11='off';else;param3='on';end;if strcmp(p12,'on');param13='on';par"
"am14='on';param15='on';else;param13='off';param14='off';param15='off';end;vis"
"ible={'on','on',param3,param4,param5,param6,param7,param8,param9,param10,para"
"m11,'on',param13,param14,param15,'on'};set_param(gcb,'MaskVisibilities',visib"
"le)|||||||||parametres=get_param(gcb,'MaskValues');p2=parametres{2};p3=parame"
"tres{3};p12=parametres{12};if strcmp(p3,'Step');param4='on';param5='off';para"
"m6='off';param7='off';param8='on';param9='off';param10='off';param11='off';el"
"seif strcmp(p3,'Ramp');param4='off';param5='on';param6='off';param7='off';par"
"am8='on';param9='off';param10='off';param11='off';elseif strcmp(p3,'Modulatio"
"n');param4='off';param5='off';param6='on';param7='on';param8='on';param9='off"
"';param10='off';param11='off';else;param4='off';param5='off';param6='off';par"
"am7='off';param8='off';param9='on';param10='on';param11='on';end;if strcmp(p2"
",'None');param3='off';param4='off';param5='off';param6='off';param7='off';par"
"am8='off';param9='off';param10='off';param11='off';else;param3='on';end;if st"
"rcmp(p12,'on');param13='on';param14='on';param15='on';else;param13='off';para"
"m14='off';param15='off';end;visible={'on','on',param3,param4,param5,param6,pa"
"ram7,param8,param9,param10,param11,'on',param13,param14,param15,'on'};set_par"
"am(gcb,'MaskVisibilities',visible)||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n,on"
	  MaskVisibilityString	  "on,on,off,off,off,off,off,off,off,off,off,o"
"n,off,off,off,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n,on"
	  MaskVarAliasString	  ",,,,,,,,,,,,,,,"
	  MaskVariables		  "Par_Vps_LLrms=@1;VariationEntity=@2;Variati"
"onType=@3;VariationStep=@4;VariationRate=@5;VariationMag=@6;VariationFreq=@7;"
"Par_Timing_Variation=@8;SinglePhase=@9;Yampli=@10;Xtime=@11;HarmonicGeneratio"
"n=@12;Par_HarmoA_pu=@13;Par_HarmoB_pu=@14;Par_Timing_Harmo=@15;Ts=@16;"
	  MaskInitialization	  "% Conversion of pos. seq.amplitude from Ph-"
"Ph rms voltage to Ph-G peak\nPar_Vps=Par_Vps_LLrms;\nPar_Vps(1)=Par_Vps(1)*sq"
"rt(2/3);\nMag_Vps=Par_Vps(1);\nPhase_Vps=Par_Vps(2);\nFreq_Vps=Par_Vps(3);\n%"
" Conversion of harmonic amplitudes from pu to Ph-G peak volt\nPar_HarmoA=Par_"
"HarmoA_pu;\nPar_HarmoB=Par_HarmoB_pu;\nPar_HarmoA(2)=Par_HarmoA(2)*Mag_Vps;\n"
"Par_HarmoB(2)=Par_HarmoB(2)*Mag_Vps;\n% Conversion of amplitude variation fro"
"m pu to Ph-G peak volt\nif VariationEntity==2\n	VariationStep=Variatio"
"nStep*Mag_Vps;\n	VariationRate=VariationRate*Mag_Vps;\n	Variati"
"onMag=VariationMag*Mag_Vps;\n	Yampli=Yampli*Mag_Vps;\nend\n\nTon_Varia"
"tion=Par_Timing_Variation(1);\nToff_Variation=Par_Timing_Variation(2);\nn_Har"
"moA=Par_HarmoA(1);\nMag_HarmoA=Par_HarmoA(2);\nPhase_HarmoA=Par_HarmoA(3);\nS"
"eq_HarmoA=Par_HarmoA(4);\nif n_HarmoA==0\n    Phase_HarmoA=90;\n    Seq_Harmo"
"A=0;\nend\nn_HarmoB=Par_HarmoB(1);\nMag_HarmoB=Par_HarmoB(2);\nPhase_HarmoB=P"
"ar_HarmoB(3);\nSeq_HarmoB=Par_HarmoB(4);\nif n_HarmoB==0\n    Phase_HarmoB=90"
";\n    Seq_HarmoB=0;\nend\nTon_Harmo=Par_Timing_Harmo(1);\nToff_Harmo=Par_Tim"
"ing_Harmo(2);\nif Xtime(1)~=0,\nXtime=[0 Xtime];\nYampli=[0 Yampli];\nend\nn="
"length(Xtime); vec_dt= [Xtime,0] - [0,Xtime] ; vec_dt=vec_dt(2:n);\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "[1.01 -20  60]|Amplitude|Step|-0.5 |10|0.3|"
"2|[0.1 1.2]|off|[1 0.8 1.2 1.0]|[0 0.1 0.15 0.2]|off|[3 0.2 -25 0]|[2 0.15 35"
" 2]|[0.05  3]|50e-6"
	  MaskTabNameString	  ",,,,,,,,,,,,,,,"
	  System {
	    Name		    "3_Phase_Prog_Source"
	    Location		    [19, 159, 1159, 973]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [150, 275, 170, 295]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Value		      "2"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [555, 195, 575, 215]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      Position		      [150, 335, 170, 355]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Value		      "3"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant3"
	      Position		      [150, 400, 170, 420]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Value		      "4"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant4"
	      Position		      [475, 590, 495, 610]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant5"
	      Position		      [380, 410, 400, 430]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant6"
	      Position		      [420, 100, 440, 120]
	      ShowName		      off
	      Value		      "4"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion"
	      Position		      [719, 650, 741, 670]
	      Orientation	      "up"
	      BackgroundColor	      "cyan"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion1"
	      Position		      [645, 675, 665, 695]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion2"
	      Position		      [645, 735, 665, 755]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DiscreteIntegrator
	      Name		      "Discrete-Time\nIntegrator"
	      Ports		      [1, 1]
	      Position		      [555, 382, 595, 418]
	      ShowName		      off
	      IntegratorMethod	      "Integration: Forward Euler"
	      ExternalReset	      "none"
	      InitialConditionSource  "internal"
	      SampleTime	      "Ts"
	      SaturateOnIntegerOverflow	on
	      ICPrevOutput	      "DiscIntNeverNeededParam"
	      ICPrevScaledInput	      "DiscIntNeverNeededParam"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [495, 339, 530, 371]
	      ShowName		      off
	      Gain		      "2*pi"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain2"
	      Position		      [495, 384, 530, 416]
	      ShowName		      off
	      Gain		      "2*pi"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain3"
	      Position		      [520, 451, 570, 489]
	      ShowName		      off
	      Gain		      "pi/180"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain4"
	      Position		      [415, 541, 465, 579]
	      ShowName		      off
	      Gain		      "pi/180"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Harmonic A\ngeneration"
	      Ports		      [1, 1]
	      Position		      [840, 499, 930, 561]
	      ForegroundColor	      "blue"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Harmonic generation"
	      MaskPromptString	      "Freq_Vps|n_Harmo|Mag_Harmo|Phase_Harmo|"
"Seq_Harmo|Sample time:"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on"
	      MaskCallbackString      "|||||"
	      MaskEnableString	      "on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,"
	      MaskVariables	      "Freq_Vps=@1;n_Harmo=@2;Mag_Harmo=@3;Pha"
"se_Harmo=@4;Seq_Harmo=@5;Ts=@6;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Freq_Vps|n_HarmoA |Mag_HarmoA |Phase_Ha"
"rmoA|Seq_HarmoA|Ts"
	      MaskTabNameString	      ",,,,,"
	      System {
		Name			"Harmonic A\ngeneration"
		Location		[242, 300, 1154, 927]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Enable"
		  Position		  [570, 93, 600, 107]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  Position		  [240, 143, 335, 197]
		  ShowName		  off
		  Gain			  "2*pi*n_Harmo"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  Position		  [365, 198, 420, 232]
		  ShowName		  off
		  Gain			  "pi/180"
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch"
		  Ports			  [4, 1]
		  Position		  [365, 246, 400, 404]
		  ShowName		  off
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Negative-sequence"
		  Position		  [245, 374, 335, 396]
		  Value			  "[0 2*pi/3 -2*pi/3]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo"
		  Position		  [245, 204, 330, 226]
		  ShowName		  off
		  Value			  "Phase_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo1"
		  Position		  [545, 169, 630, 191]
		  ShowName		  off
		  Value			  "Mag_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo2"
		  Position		  [140, 244, 225, 266]
		  ShowName		  off
		  Value			  "Seq_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Positive-sequence"
		  Position		  [245, 334, 335, 356]
		  Value			  "[0 -2*pi/3 2*pi/3]"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [380, 110, 405, 190]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [3, 1]
		  Position		  [670, 126, 700, 234]
		  ShowName		  off
		  Inputs		  "3"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [455, 118, 495, 312]
		  ShowName		  off
		  Inputs		  "+++"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [295, 247, 315, 278]
		  ShowName		  off
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction1"
		  Ports			  [1, 1]
		  Position		  [575, 200, 605, 230]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Zero-sequence"
		  Position		  [245, 294, 330, 316]
		  Value			  "[0 0 0]"
		}
		Block {
		  BlockType		  DigitalClock
		  Name			  "t"
		  Position		  [305, 117, 335, 143]
		  NamePlacement		  "alternate"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom1"
		  Position		  [140, 160, 205, 180]
		  ShowName		  off
		  Value			  "Freq_Vps"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom2"
		  Position		  [240, 260, 260, 280]
		  ShowName		  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "HarmoA"
		  Position		  [745, 173, 775, 187]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Phase_Harmo"
		  SrcPort		  1
		  DstBlock		  "Gain3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Enable"
		  SrcPort		  1
		  Points		  [50, 0]
		  DstBlock		  "Product1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "valp_nom2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Phase_Harmo2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Phase_Harmo1"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "HarmoA"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction1"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "t"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "valp_nom1"
		  SrcPort		  1
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Negative-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Positive-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Zero-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch"
		  SrcPort		  1
		  Points		  [15, 0; 0, -45]
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Trigonometric\nFunction1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Harmonic B\ngeneration"
	      Ports		      [1, 1]
	      Position		      [840, 599, 930, 661]
	      ForegroundColor	      "blue"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Harmonic generation"
	      MaskPromptString	      "Freq_Vps|n_Harmo|Mag_Harmo|Phase_Harmo|"
"Seq_Harmo|Sample time:"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on"
	      MaskCallbackString      "|||||"
	      MaskEnableString	      "on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,"
	      MaskVariables	      "Freq_Vps=@1;n_Harmo=@2;Mag_Harmo=@3;Pha"
"se_Harmo=@4;Seq_Harmo=@5;Ts=@6;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Freq_Vps|n_HarmoB|Mag_HarmoB |Phase_Har"
"moB|Seq_HarmoB|Ts"
	      MaskTabNameString	      ",,,,,"
	      System {
		Name			"Harmonic B\ngeneration"
		Location		[78, 243, 990, 870]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Enable"
		  Position		  [570, 93, 600, 107]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  Position		  [240, 143, 335, 197]
		  ShowName		  off
		  Gain			  "2*pi*n_Harmo"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  Position		  [365, 196, 425, 234]
		  ShowName		  off
		  Gain			  "pi/180"
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch"
		  Ports			  [4, 1]
		  Position		  [365, 246, 400, 404]
		  ShowName		  off
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Negative-sequence"
		  Position		  [245, 374, 335, 396]
		  Value			  "[0 2*pi/3 -2*pi/3]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo"
		  Position		  [255, 204, 340, 226]
		  ShowName		  off
		  Value			  "Phase_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo1"
		  Position		  [530, 169, 615, 191]
		  ShowName		  off
		  Value			  "Mag_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo2"
		  Position		  [140, 244, 225, 266]
		  ShowName		  off
		  Value			  "Seq_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Positive-sequence"
		  Position		  [245, 334, 335, 356]
		  Value			  "[0 -2*pi/3 2*pi/3]"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [380, 110, 405, 190]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [3, 1]
		  Position		  [670, 126, 700, 234]
		  ShowName		  off
		  Inputs		  "3"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [455, 118, 495, 312]
		  ShowName		  off
		  Inputs		  "+++"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [295, 247, 315, 278]
		  ShowName		  off
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction1"
		  Ports			  [1, 1]
		  Position		  [575, 200, 605, 230]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Zero-sequence"
		  Position		  [245, 294, 330, 316]
		  Value			  "[0 0 0]"
		}
		Block {
		  BlockType		  DigitalClock
		  Name			  "t"
		  Position		  [305, 117, 335, 143]
		  NamePlacement		  "alternate"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom1"
		  Position		  [140, 160, 205, 180]
		  ShowName		  off
		  Value			  "Freq_Vps"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom2"
		  Position		  [240, 260, 260, 280]
		  ShowName		  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "HarmoB"
		  Position		  [745, 173, 775, 187]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Phase_Harmo"
		  SrcPort		  1
		  DstBlock		  "Gain3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Trigonometric\nFunction1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch"
		  SrcPort		  1
		  Points		  [15, 0; 0, -45]
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Zero-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Positive-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Negative-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "valp_nom1"
		  SrcPort		  1
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "t"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction1"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "HarmoB"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Phase_Harmo1"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Phase_Harmo2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "valp_nom2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Enable"
		  SrcPort		  1
		  Points		  [50, 0]
		  DstBlock		  "Product1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "Logical\nOperator"
	      Ports		      [2, 1]
	      Position		      [685, 674, 715, 721]
	      ForegroundColor	      "blue"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "Logical\nOperator1"
	      Ports		      [2, 1]
	      Position		      [555, 89, 585, 136]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [3, 1]
	      Position		      [1000, 166, 1005, 204]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [3, 1]
	      Position		      [970, 126, 975, 164]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "P1"
	      Position		      [500, 492, 600, 518]
	      ShowName		      off
	      Value		      "[0  -2*pi/3  2*pi/3]"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [560, 295, 585, 375]
	      ShowName		      off
	      RndMeth		      "Floor"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product1"
	      Ports		      [2, 1]
	      Position		      [900, 290, 925, 370]
	      ShowName		      off
	      RndMeth		      "Floor"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      Position		      [210, 255, 240, 295]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Operator		      "=="
	      Port {
		PortNumber		1
		Name			"Amplitude"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator1"
	      Position		      [210, 315, 240, 355]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Operator		      "=="
	      Port {
		PortNumber		1
		Name			"Phase"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator2"
	      Position		      [210, 380, 240, 420]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Operator		      "=="
	      Port {
		PortNumber		1
		Name			"Frequency"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator3"
	      Position		      [475, 80, 505, 120]
	      ShowName		      off
	      Operator		      "=="
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "SinglePhase"
	      Position		      [915, 55, 985, 75]
	      ShowName		      off
	      Value		      "SinglePhase"
	    }
	    Block {
	      BlockType		      Step
	      Name		      "Step"
	      Position		      [540, 658, 565, 682]
	      ForegroundColor	      "blue"
	      ShowName		      off
	      Time		      "Ton_Harmo"
	      SampleTime	      "Ts"
	      Port {
		PortNumber		1
		Name			"Ton"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Step
	      Name		      "Step1"
	      Position		      [540, 688, 565, 712]
	      ForegroundColor	      "blue"
	      ShowName		      off
	      Time		      "Toff_Harmo"
	      After		      "-1"
	      SampleTime	      "Ts"
	      Port {
		PortNumber		1
		Name			"Toff"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [625, 300, 645, 435]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [690, 328, 710, 497]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [3, 1]
	      Position		      [625, 453, 645, 557]
	      ShowName		      off
	      Inputs		      "+++"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [695, 150, 715, 285]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum4"
	      Ports		      [2, 1]
	      Position		      [605, 655, 625, 715]
	      ForegroundColor	      "blue"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum5"
	      Ports		      [3, 1]
	      Position		      [990, 316, 1015, 384]
	      ShowName		      off
	      Inputs		      "+++"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [850, 82, 880, 148]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch2"
	      Position		      [620, 152, 650, 218]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch3"
	      Position		      [540, 547, 570, 613]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch4"
	      Position		      [435, 367, 465, 433]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch5"
	      Position		      [1045, 132, 1075, 198]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Timer"
	      Ports		      [0, 1]
	      Position		      [675, 36, 740, 74]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Timer"
	      MaskDescription	      "Generates a signal changing  at specifi"
"ed times.    \n                                                              "
"              \nValue of the signal at time zero must  be specified."
	      MaskPromptString	      "Time (s):|Amplitude:|Sample time (s)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVarAliasString      ",,"
	      MaskVariables	      "t=@1;e=@2;Ts=@3;"
	      MaskInitialization      "tt=t;sv=e;\ntv=[-1,tt(1),reshape(repmat"
"(reshape(tt(2:end),1,length(tt)-1),2,1),1,2*length(tt)-2),tt(end)+1];\n%sv=(s"
"v(:)'~=0);\nopv=[sv(1),reshape(repmat(sv(1:end-1),2,1),1,2*length(sv)-2),sv(e"
"nd),sv(end)];"
	      MaskDisplay	      "plot( tv(2:end-1), opv(2:end-1) )"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Xtime|Yampli|Ts"
	      MaskTabNameString	      ",,"
	      System {
		Name			"Timer"
		Location		[397, 93, 843, 306]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [50, 40, 70, 60]
		  FontName		  "Comic Sans MS"
		  Decimation		  "1"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Look-Up\nTable"
		  Position		  [110, 34, 235, 66]
		  DialogController	  "Simulink.DDGSource"
		  FontName		  "Comic Sans MS"
		  InputValues		  "tv"
		  OutputValues		  "opv"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [285, 43, 315, 57]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Look-Up\nTable"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  DstBlock		  "Look-Up\nTable"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Trigonometry
	      Name		      "Trigonometric\nFunction"
	      Ports		      [1, 1]
	      Position		      [740, 400, 770, 430]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Variation\nSubSystem"
	      Ports		      [1, 1]
	      Position		      [210, 139, 305, 201]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Variation Subsystem"
	      MaskPromptString	      "VariationStep|VariationRate|VariationFr"
"eq|VariationMag|Ton_Variation|Toff_Variation|Sample time:"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on"
	      MaskCallbackString      "||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,,"
	      MaskVariables	      "VariationStep=@1;VariationRate=@2;Varia"
"tionFreq=@3;VariationMag=@4;Ton_Variation=@5;Toff_Variation=@6;Ts=@7;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "VariationStep|VariationRate|VariationFr"
"eq|VariationMag|Ton_Variation|Toff_Variation|Ts"
	      MaskTabNameString	      ",,,,,,"
	      System {
		Name			"Variation\nSubSystem"
		Location		[33, 146, 1153, 670]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "VariationType"
		  Position		  [30, 93, 60, 107]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [65, 285, 85, 305]
		  ShowName		  off
		  Value			  "2"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [920, 155, 940, 175]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [220, 295, 240, 315]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [750, 110, 770, 130]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [370, 315, 390, 335]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant5"
		  Position		  [700, 240, 720, 260]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [825, 100, 845, 120]
		  BackgroundColor	  "cyan"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [860, 180, 880, 200]
		  Orientation		  "up"
		  BackgroundColor	  "cyan"
		  ShowName		  off
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator1"
		  Ports			  [1, 1]
		  Position		  [485, 287, 525, 323]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		  Port {
		    PortNumber		    1
		    Name		    "Ramp"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [500, 384, 535, 416]
		  ShowName		  off
		  Gain			  "2*pi"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [2, 1]
		  Position		  [905, 87, 935, 118]
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [1, 1]
		  Position		  [855, 130, 885, 160]
		  Orientation		  "up"
		  ShowName		  off
		  Operator		  "NOT"
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch1"
		  Ports			  [5, 1]
		  Position		  [770, 154, 800, 266]
		  ShowName		  off
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [700, 359, 730, 401]
		  ShowName		  off
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "Mod"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [575, 369, 605, 411]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [415, 174, 445, 216]
		  ShowName		  off
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "Step"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [115, 265, 145, 305]
		  ShowName		  off
		  Operator		  "=="
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator1"
		  Position		  [785, 90, 805, 130]
		  ShowName		  off
		  Operator		  "=="
		}
		Block {
		  BlockType		  Step
		  Name			  "Step"
		  Position		  [285, 348, 310, 372]
		  ShowName		  off
		  Time			  "Ton_Variation"
		  SampleTime		  "Ts"
		  Port {
		    PortNumber		    1
		    Name		    "Ton"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Step
		  Name			  "Step1"
		  Position		  [805, 278, 830, 302]
		  ShowName		  off
		  Time			  "Toff_Variation"
		  Before		  "1"
		  After			  "0"
		  SampleTime		  "Ts"
		  Port {
		    PortNumber		    1
		    Name		    "Toff"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [415, 272, 445, 338]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [295, 252, 325, 318]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [900, 197, 930, 263]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch3"
		  Position		  [985, 177, 1015, 243]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction1"
		  Ports			  [1, 1]
		  Position		  [640, 375, 670, 405]
		  ShowName		  off
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay"
		  Position		  [900, 279, 925, 301]
		  Orientation		  "left"
		  ShowName		  off
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom6"
		  Position		  [285, 174, 375, 196]
		  ShowName		  off
		  Value			  "VariationStep"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom7"
		  Position		  [165, 254, 255, 276]
		  ShowName		  off
		  Value			  "VariationRate"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom8"
		  Position		  [575, 314, 665, 336]
		  ShowName		  off
		  Value			  "VariationMag"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom9"
		  Position		  [380, 389, 470, 411]
		  ShowName		  off
		  Value			  "VariationFreq"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Value"
		  Position		  [1080, 203, 1110, 217]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant5"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [0, -30]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  Points		  [20, 0; 0, 105]
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
		Line {
		  Name			  "Toff"
		  Labels		  [0, 0]
		  SrcBlock		  "Step1"
		  SrcPort		  1
		  Points		  [35, 0; 0, -60]
		  Branch {
		    DstBlock		    "Switch2"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Data Type \nConversion2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch3"
		  SrcPort		  1
		  DstBlock		  "Value"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Switch3"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "Switch3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Unit Delay"
		  SrcPort		  1
		  Points		  [-10, 0]
		  DstBlock		  "Switch2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch1"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  Name			  "Ton"
		  Labels		  [0, 0]
		  SrcBlock		  "Step"
		  SrcPort		  1
		  Points		  [30, 0; 0, -55]
		  Branch {
		    Points		    [0, -100]
		    DstBlock		    "Product2"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "VariationType"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, 175]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [650, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "Multiport\nSwitch1"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Name			  "Ramp"
		  SrcBlock		  "Discrete-Time\nIntegrator1"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Labels		    [-1, 1]
		    Points		    [0, -95]
		    DstBlock		    "Multiport\nSwitch1"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 75]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "Step"
		  Labels		  [-1, 1]
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  Points		  [305, 0]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "valp_nom6"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "valp_nom7"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  Name			  "Mod"
		  Labels		  [-1, 1]
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [5, 0; 0, -150]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Trigonometric\nFunction1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "valp_nom9"
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "valp_nom8"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction1"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational\nOperator1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      DigitalClock
	      Name		      "t"
	      Position		      [490, 302, 520, 328]
	      NamePlacement	      "alternate"
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom"
	      Position		      [430, 460, 495, 480]
	      ShowName		      off
	      Value		      "Phase_Vps"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom1"
	      Position		      [360, 345, 425, 365]
	      ShowName		      off
	      Value		      "Freq_Vps"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom2"
	      Position		      [600, 240, 665, 260]
	      ShowName		      off
	      Value		      "Mag_Vps"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom3"
	      Position		      [85, 234, 175, 256]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Value		      "VariationEntity"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom5"
	      Position		      [65, 154, 155, 176]
	      ShowName		      off
	      Value		      "VariationType"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom7"
	      Position		      [525, 733, 630, 757]
	      ForegroundColor	      "blue"
	      ShowName		      off
	      Value		      "HarmonicGeneration"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "abc"
	      Position		      [1050, 343, 1080, 357]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Logical\nOperator1"
	      SrcPort		      1
	      DstBlock		      "Switch1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator3"
	      SrcPort		      1
	      DstBlock		      "Logical\nOperator1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch5"
	      SrcPort		      1
	      Points		      [45, 0; 0, 90; -275, 0; 0, 55]
	      DstBlock		      "Product1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      Points		      [40, 0; 0, 20]
	      Branch {
		DstBlock		"Mux1"
		DstPort			1
	      }
	      Branch {
		Points			[0, 40]
		Branch {
		  Points		  [0, 10]
		  Branch {
		    Points		    [0, 10]
		    DstBlock		    "Mux"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		}
		Branch {
		  DstBlock		  "Mux"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Switch5"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "SinglePhase"
	      SrcPort		      1
	      Points		      [35, 0; 0, 100]
	      DstBlock		      "Switch5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      DstBlock		      "Switch5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Timer"
	      SrcPort		      1
	      Points		      [85, 0; 0, 40]
	      DstBlock		      "Switch1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      Points		      [105, 0; 0, -65]
	      Branch {
		Points			[120, 0]
		Branch {
		  Points		  [0, -10]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Branch {
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
	      }
	      Branch {
		Points			[0, -20]
		DstBlock		"Switch1"
		DstPort			3
	      }
	    }
	    Line {
	      SrcBlock		      "Constant6"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain4"
	      SrcPort		      1
	      DstBlock		      "Switch3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Harmonic B\ngeneration"
	      SrcPort		      1
	      Points		      [40, 0]
	      DstBlock		      "Sum5"
	      DstPort		      3
	    }
	    Line {
	      Name		      "Toff"
	      Labels		      [0, 0]
	      SrcBlock		      "Step1"
	      SrcPort		      1
	      DstBlock		      "Sum4"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Ton"
	      Labels		      [0, 0]
	      SrcBlock		      "Step"
	      SrcPort		      1
	      DstBlock		      "Sum4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum5"
	      SrcPort		      1
	      DstBlock		      "abc"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Harmonic A\ngeneration"
	      SrcPort		      1
	      Points		      [15, 0; 0, -180]
	      DstBlock		      "Sum5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant5"
	      SrcPort		      1
	      DstBlock		      "Switch4"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Constant3"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "valp_nom3"
	      SrcPort		      1
	      Points		      [10, 0; 0, 20]
	      Branch {
		Points			[0, 60]
		Branch {
		  DstBlock		  "Relational\nOperator1"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 65]
		  DstBlock		  "Relational\nOperator2"
		  DstPort		  1
		}
	      }
	      Branch {
		DstBlock		"Relational\nOperator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Frequency"
	      Labels		      [0, 0]
	      SrcBlock		      "Relational\nOperator2"
	      SrcPort		      1
	      DstBlock		      "Switch4"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Switch4"
	      SrcPort		      1
	      DstBlock		      "Gain2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Variation\nSubSystem"
	      SrcPort		      1
	      Points		      [0, -5; 20, 0]
	      Branch {
		Points			[0, 215]
		Branch {
		  Points		  [0, 180]
		  DstBlock		  "Gain4"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "Switch4"
		  DstPort		  1
		}
	      }
	      Branch {
		DstBlock		"Switch2"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "Phase"
	      Labels		      [0, 0]
	      SrcBlock		      "Relational\nOperator1"
	      SrcPort		      1
	      Points		      [55, 0; 0, 245]
	      DstBlock		      "Switch3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant4"
	      SrcPort		      1
	      DstBlock		      "Switch3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Switch3"
	      SrcPort		      1
	      Points		      [35, 0]
	      DstBlock		      "Sum2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "valp_nom5"
	      SrcPort		      1
	      Points		      [0, 0; 15, 0]
	      Branch {
		Points			[0, -75]
		DstBlock		"Relational\nOperator3"
		DstPort			1
	      }
	      Branch {
		Points			[20, 0]
		DstBlock		"Variation\nSubSystem"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "Amplitude"
	      Labels		      [0, 0]
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [285, 0; 0, -90]
	      Branch {
		Points			[0, -60]
		DstBlock		"Logical\nOperator1"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Switch2"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "valp_nom2"
	      SrcPort		      1
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      Points		      [25, 0]
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "Switch2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Switch2"
	      SrcPort		      1
	      DstBlock		      "Sum3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product1"
	      SrcPort		      1
	      DstBlock		      "Sum5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "valp_nom1"
	      SrcPort		      1
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "valp_nom"
	      SrcPort		      1
	      DstBlock		      "Gain3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain3"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Trigonometric\nFunction"
	      SrcPort		      1
	      Points		      [25, 0; 0, -65]
	      DstBlock		      "Product1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "P1"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Discrete-Time\nIntegrator"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain2"
	      SrcPort		      1
	      DstBlock		      "Discrete-Time\nIntegrator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Trigonometric\nFunction"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "t"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Logical\nOperator"
	      SrcPort		      1
	      Points		      [10, 0]
	      DstBlock		      "Data Type \nConversion"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion"
	      SrcPort		      1
	      Points		      [0, -15; 60, 0]
	      Branch {
		Points			[0, -100]
		DstBlock		"Harmonic A\ngeneration"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Harmonic B\ngeneration"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Sum4"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion1"
	      SrcPort		      1
	      DstBlock		      "Logical\nOperator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "valp_nom7"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion2"
	      SrcPort		      1
	      DstBlock		      "Logical\nOperator"
	      DstPort		      2
	    }
	    Annotation {
	      Name		      "Pierre Giroux, Gilbert Sybille\nPower S"
"ystem Laboratory, IREQ\nHydro-Quebec"
	      Position		      [195, 62]
	    }
	    Annotation {
	      Name		      "Discrete Programmable 3-phase Source "
	      Position		      [204, 29]
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "3_phase_source"
	  Ports			  [0, 1]
	  Position		  [600, 307, 650, 373]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskPromptString	  "Amplitude|Phase (of phase A)|Frequency|Samp"
"le Time"
	  MaskStyleString	  "edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on"
	  MaskCallbackString	  "|||"
	  MaskEnableString	  "on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on"
	  MaskToolTipString	  "on,on,on,on"
	  MaskVarAliasString	  ",,,"
	  MaskVariables		  "A=@1;P=@2;F=@3;Ts=@4;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|0|60|0"
	  MaskTabNameString	  ",,,"
	  System {
	    Name		    "3_phase_source"
	    Location		    [163, 459, 378, 768]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [25, 70, 55, 100]
	      BackgroundColor	      "cyan"
	      Value		      "complex(A*cos(P*pi/180),A*sin(P*pi/180)"
")"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [25, 165, 55, 195]
	      BackgroundColor	      "cyan"
	      Value		      "complex(A*cos((P-120)*pi/180),A*sin((P-"
"120)*pi/180))"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      Position		      [25, 255, 55, 285]
	      BackgroundColor	      "cyan"
	      Value		      "complex(A*cos((P+120)*pi/180),A*sin((P+"
"120)*pi/180))"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [6, 1]
	      Position		      [130, 97, 135, 188]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      Inputs		      "6"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Sin
	      Name		      "Sine Wave"
	      Ports		      [0, 1]
	      Position		      [25, 28, 55, 52]
	      BackgroundColor	      "cyan"
	      SineType		      "Time based"
	      Amplitude		      "A"
	      Frequency		      "2*pi*F"
	      Phase		      "P*pi/180"
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      Sin
	      Name		      "Sine Wave1"
	      Ports		      [0, 1]
	      Position		      [25, 123, 55, 147]
	      BackgroundColor	      "cyan"
	      SineType		      "Time based"
	      Amplitude		      "A"
	      Frequency		      "2*pi*F"
	      Phase		      "(P-120)*pi/180"
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      Sin
	      Name		      "Sine Wave2"
	      Ports		      [0, 1]
	      Position		      [25, 213, 55, 237]
	      BackgroundColor	      "cyan"
	      SineType		      "Time based"
	      Amplitude		      "A"
	      Frequency		      "2*pi*F"
	      Phase		      "(P+120)*pi/180"
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [160, 138, 190, 152]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      Points		      [55, 0]
	      DstBlock		      "Mux"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "Sine Wave2"
	      SrcPort		      1
	      Points		      [40, 0; 0, -60]
	      DstBlock		      "Mux"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      Points		      [25, 0; 0, -30]
	      DstBlock		      "Mux"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "Sine Wave1"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Sine Wave"
	      SrcPort		      1
	      Points		      [40, 0; 0, 65]
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [25, 0; 0, 35]
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Dynamic_Load"
	  Ports			  [2, 2]
	  Position		  [595, 14, 645, 81]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Discrete 3-Phase Dynamic Load "
	  MaskDescription	  "This block implements a three-phase, three-"
"wire dynamic load whose active  power P and reactive power Q vary as function"
" of positive-sequence voltage. Negative- and zero-sequence currents are not s"
"imulated. The three load currents are therefore balanced, even under unbalanc"
"ed load voltage conditions.\n\n  If V>Vmin, P and Q vary as follows:\n       "
"P=Po*(V/Vo)^np*(1+Tp1s)/(1+Tp2s)\n       Q=Qo*(V/Vo)^nq*(1+Tq1s)/(1+Tq2s)  \n"
"where:   \nPo, Qo : Active and reactive powers at specified voltage Vo\n  V :"
"        Positive-sequence voltage\n  Vmin :  Minimum voltage below which load"
" impedance\n               is kept constant (np=nq=2)\nnp,nq :    Exponents ("
"usually comprised between 1 and 3)\n               controlling the nature of "
"the load. \nTp1,Tp2 : Time constants controlling the dynamics of P\nTq1,Tq2 :"
" Time constants controlling the dynamics of Q\n\nFor example, specify  np=nq="
"1 for a constant current load; np=nq=2  for a  constant impedance load.\n\nCh"
"eck 'External control of PQ'  to control power from a vectorized signal  [P Q"
"] connected to input  4. \nThe m output returns a vector of 3 signals [V(pu) "
"P(W) Q (var)]."
	  MaskPromptString	  "Nominal L-L voltage and freqency  [Vn(Vrms)"
" fn(Hz)]:|Active & reactive power at initial voltage [Po(W) Qo(var)]:|Initial"
" positive-sequence voltage Vo [Mag(pu) Phase (deg.)]:|External control of PQ|"
"Parameters [ np  nq ]:|Time constants [Tp1 Tp2 Tq1 Tq2]  (s):|Minimum voltage"
" Vmin (pu):|Reserved|Sample time (s):"
	  MaskStyleString	  "edit,edit,edit,checkbox,edit,edit,edit,edit"
",edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "|||parametres=get_param(gcb,'MaskValues');p"
"4=parametres{4};if strcmp(p4,'on');param5='off';param6='off';param7='off';els"
"e ;param5='on';param6='on';param7='on';end;visible={'on','on','on','on',param"
"5,param6,param7,'on','on'};set_param(gcb,'MaskVisibilities',visible)|||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,"
	  MaskVariables		  "Vfnom=@1;PQ_0=@2;V0=@3;PQext=@4;n=@5;Tpq=@6"
";Vmin=@7;Reserved=@8;Ts=@9;"
	  MaskInitialization	  "Vnom = Vfnom(1) ; fnom=Vfnom(2);\nP0 = PQ_0"
"(1) ;  Q0 = PQ_0(2) ;\nMag_V0=V0(1); Pha_V0=V0(2);\nV0_d=Mag_V0*cos(Pha_V0*pi"
"/180);\nV0_q=Mag_V0*sin(Pha_V0*pi/180);\nnp = n(1) ; nq = n(2) ;\nTp1=Tpq(1);"
" Tp2=Tpq(2); Tq1=Tpq(3); Tq2=Tpq(4);\nVbase=Vnom/sqrt(3)*sqrt(2);\n% initial "
"value of positive-sequence current I1\nI1_init=(P0-j*Q0)/((V0_d-j*V0_q)*Vnom)"
"/sqrt(3)*sqrt(2);\nMag_ia=abs(I1_init);\nPhase_ia=angle(I1_init)*180/pi;"
	  MaskDisplay		  "\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "[ 500e3 60 ]|[ 50e6 25e6]*0.8504^2|[0.8504 "
" -41.9 ]|off|[1 2]|[0  0  0  0]|0.7|0|Ts"
	  MaskTabNameString	  ",,,,,,,,"
	  System {
	    Name		    "Dynamic_Load"
	    Location		    [87, 235, 1068, 751]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [40, 107, 70, 123]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      PortDimensions	      "2"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "PQ"
	      Position		      [520, 272, 550, 288]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      PortDimensions	      "2"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      ComplexToRealImag
	      Name		      "Complex to\nReal-Imag"
	      Ports		      [1, 2]
	      Position		      [435, 340, 470, 375]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Output		      "Real and imag"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [600, 261, 605, 294]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Discrete\n3-phase PLL"
	      Ports		      [1, 4]
	      Position		      [225, 81, 285, 144]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Discrete 3-phase PLL"
	      MaskPromptString	      "Initial inputs:[ Phase(degrees)   Frequ"
"ency(Hz) ]|Regulator gains [ Kp  Ki ]|Sample time:"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVarAliasString      ",,"
	      MaskVariables	      "Par_Init=@1;ParK=@2;Ts=@3;"
	      MaskInitialization      "Kp=ParK(1);\nKi=ParK(2);\nPhase_Init=Pa"
"r_Init(1);\nFinit=Par_Init(2);"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[Pha_V0  fnom]|[60 1400]|Ts"
	      MaskTabNameString	      ",,"
	      System {
		Name			"Discrete\n3-phase PLL"
		Location		[16, 316, 941, 800]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vab_bc (pu)"
		  Position		  [40, 253, 70, 267]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "2"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [535, 298, 570, 322]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "2*pi"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Discrete\nPI Controller"
		  Ports			  [1, 1]
		  Position		  [390, 247, 435, 293]
		  SourceBlock		  "powerlib_extras/Discrete \nControl "
"Blocks/Discrete\nPI Controller"
		  SourceType		  "Discrete PI Controller"
		  Kp			  "Kp"
		  Ki			  "Ki"
		  Par_Limits		  "2*pi*Finit*[1.25 0.75]"
		  Init			  "2*pi*Finit"
		  Ts			  "Ts"
		  Port {
		    PortNumber		    1
		    Name		    "W"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Reference
		  Name			  "Discrete\nRate Limiter"
		  Ports			  [1, 1]
		  Position		  [580, 126, 630, 174]
		  SourceBlock		  "powerlib_extras/Discrete \nControl "
"Blocks/Discrete\nRate Limiter"
		  SourceType		  "Unknown"
		  R			  "10"
		  F			  "-10"
		  Vinit			  "Finit"
		  Ts			  "Ts"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Discrete\nVariable Frequency\nMean "
"value"
		  Ports			  [2, 1]
		  Position		  [290, 233, 350, 302]
		  SourceBlock		  "powerlib_extras/Discrete\nMeasureme"
"nts/Discrete\nVariable Frequency\nMean value"
		  SourceType		  "Discrete Variable-Frequency Mean Va"
"lue"
		  Finit			  "Finit"
		  Fmin			  "45"
		  Vinit			  "0"
		  Ts			  "Ts"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Discrete \n2nd-Order\nFilter"
		  Ports			  [1, 1]
		  Position		  [670, 119, 725, 181]
		  SourceBlock		  "powerlib_extras/Discrete \nControl "
"Blocks/Discrete \n2nd-Order\nFilter"
		  SourceType		  "Discrete 2nd-Order Filter"
		  FilterType		  "Lowpass"
		  Fo			  "25"
		  Zeta			  "0.707"
		  Ts			  "Ts"
		  Initialize		  "on"
		  Vac_Init		  "[0 0 Finit]"
		  Vdc_Init		  "Finit"
		  PlotResponse		  "off"
		  param1		  "[1 500 0.1]"
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [1, 1]
		  Position		  [530, 252, 570, 288]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "Phase_Init*pi/180"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain10"
		  Position		  [500, 132, 550, 168]
		  ShowName		  off
		  Gain			  "1/2/pi"
		}
		Block {
		  BlockType		  Math
		  Name			  "Math\nFunction"
		  Ports			  [2, 1]
		  Position		  [605, 250, 635, 330]
		  ShowName		  off
		  Operator		  "mod"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [755, 270, 760, 345]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction"
		  Ports			  [1, 1]
		  Position		  [690, 278, 720, 302]
		  ShowName		  off
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction2"
		  Ports			  [1, 1]
		  Position		  [690, 313, 720, 337]
		  ShowName		  off
		  Operator		  "cos"
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay"
		  Position		  [765, 139, 785, 161]
		  ShowName		  off
		  X0			  "Finit"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "abc_to_dq1"
		  Ports			  [2, 2]
		  Position		  [110, 246, 175, 299]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  Port {
		    PortNumber		    2
		    Name		    "Vq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  System {
		    Name		    "abc_to_dq1"
		    Location		    [114, 80, 699, 285]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Vab_bc"
		    Position		    [15, 55, 35, 75]
		    BackgroundColor	    "yellow"
		    NamePlacement	    "alternate"
		    Port		    "1"
		    IconDisplay		    "Port number"
		    PortDimensions	    "2"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "sin_cos"
		    Position		    [15, 100, 35, 120]
		    BackgroundColor	    "yellow"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    PortDimensions	    "2"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn2"
		    Position		    [230, 58, 475, 82]
		    ShowName		    off
		    Expr		    "(u[4]*(2*u[1]+u[2]) + (sqrt(3)*u["
"2]*u[3]))/3"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn3"
		    Position		    [230, 92, 475, 118]
		    ShowName		    off
		    Expr		    "(u[3]*(2*u[1]+u[2]) + (-sqrt(3)*u"
"[2]*u[4]))/3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [170, 42, 200, 133]
		    ShowName		    off
		    Inputs		    "[ 2 2 ]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vd"
		    Position		    [540, 95, 560, 115]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vq"
		    Position		    [540, 60, 560, 80]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Vab_bc"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -20]
		    DstBlock		    "Fcn2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Fcn3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "sin_cos"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Fcn2"
		    SrcPort		    1
		    DstBlock		    "vq"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn3"
		    SrcPort		    1
		    DstBlock		    "vd"
		    DstPort		    1
		    }
		    Annotation {
		    Name		    "This subsystem converts Vab and V"
"bc to Vd,Vq      "
		    Position		    [282, 152]
		    VerticalAlignment	    "top"
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Freq"
		  Position		  [820, 143, 850, 157]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vd"
		  Position		  [230, 163, 260, 177]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vq"
		  Position		  [230, 193, 260, 207]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "sin_cos"
		  Position		  [820, 303, 850, 317]
		  Port			  "4"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Discrete \n2nd-Order\nFilter"
		  SrcPort		  1
		  DstBlock		  "Unit Delay"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Unit Delay"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -50; -525, 0; 0, 150]
		    DstBlock		    "Discrete\nVariable Frequency\nMea"
"n value"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Freq"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Discrete\nRate Limiter"
		  SrcPort		  1
		  DstBlock		  "Discrete \n2nd-Order\nFilter"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain10"
		  SrcPort		  1
		  DstBlock		  "Discrete\nRate Limiter"
		  DstPort		  1
		}
		Line {
		  Name			  "W"
		  Labels		  [0, 1]
		  SrcBlock		  "Discrete\nPI Controller"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, -120]
		    DstBlock		    "Gain10"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Discrete-Time\nIntegrator"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "sin_cos"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 95; -700, 0; 0, -120]
		    DstBlock		    "abc_to_dq1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction2"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Math\nFunction"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "Trigonometric\nFunction2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Trigonometric\nFunction"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  DstBlock		  "Math\nFunction"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  DstBlock		  "Math\nFunction"
		  DstPort		  2
		}
		Line {
		  Name			  "Vq"
		  SrcBlock		  "abc_to_dq1"
		  SrcPort		  2
		  Points		  [25, 0]
		  Branch {
		    Labels		    [1, 0]
		    DstBlock		    "Discrete\nVariable Frequency\nMea"
"n value"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -85]
		    DstBlock		    "Vq"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Vab_bc (pu)"
		  SrcPort		  1
		  DstBlock		  "abc_to_dq1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete\nVariable Frequency\nMean "
"value"
		  SrcPort		  1
		  DstBlock		  "Discrete\nPI Controller"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "abc_to_dq1"
		  SrcPort		  1
		  Points		  [10, 0; 0, -90]
		  DstBlock		  "Vd"
		  DstPort		  1
		}
		Annotation {
		  Name			  "Pierre Giroux, Gilbert Sybille\nPow"
"er System Laboratory, IREQ\nHydro-Quebec"
		  Position		  [100, 62]
		}
		Annotation {
		  Name			  "Discrete 3-phase PLL "
		  Position		  [104, 29]
		  FontSize		  14
		  FontWeight		  "bold"
		}
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Discrete\nVariable Frequency\nMean valu"
"e"
	      Ports		      [2, 1]
	      Position		      [505, 29, 545, 76]
	      SourceBlock	      "powerlib_extras/Discrete\nMeasurements/"
"Discrete\nVariable Frequency\nMean value"
	      SourceType	      "Discrete Variable-Frequency Mean Value"
	      Finit		      "fnom"
	      Fmin		      "45"
	      Vinit		      "Mag_V0"
	      Ts		      "Ts"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Discrete\nVariable Frequency\nMean valu"
"e1"
	      Ports		      [2, 1]
	      Position		      [500, 149, 540, 196]
	      SourceBlock	      "powerlib_extras/Discrete\nMeasurements/"
"Discrete\nVariable Frequency\nMean value"
	      SourceType	      "Discrete Variable-Frequency Mean Value"
	      Finit		      "fnom"
	      Fmin		      "45"
	      Vinit		      "0"
	      Ts		      "Ts"
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      Position		      [435, 385, 455, 405]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [3, 1]
	      Position		      [390, 342, 395, 388]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Positive Sequence \ncurrent"
	      Ports		      [2, 2]
	      Position		      [710, 118, 790, 182]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Positive Sequence \ncurrent"
		Location		[12, 350, 1150, 940]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "V1(pu)"
		  Position		  [35, 52, 65, 68]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "S_ext"
		  Position		  [720, 72, 750, 88]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  ComplexToMagnitudeAngle
		  Name			  "Complex to\nMagnitude-Angle"
		  Ports			  [1, 1]
		  Position		  [95, 45, 125, 75]
		  ShowName		  off
		  Output		  "Magnitude"
		}
		Block {
		  BlockType		  ComplexToRealImag
		  Name			  "Complex to\nReal-Imag1"
		  Ports			  [1, 2]
		  Position		  [875, 275, 910, 310]
		  ShowName		  off
		  Output		  "Real and imag"
		}
		Block {
		  BlockType		  Math
		  Name			  "Conj1"
		  Ports			  [1, 1]
		  Position		  [950, 150, 980, 180]
		  ShowName		  off
		  Operator		  "conj"
		}
		Block {
		  BlockType		  Math
		  Name			  "Math\nFunction"
		  Ports			  [1, 1]
		  Position		  [190, 240, 220, 270]
		  ShowName		  off
		  Operator		  "square"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [3, 1]
		  Position		  [945, 262, 950, 308]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [180, 96, 185, 134]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [180, 161, 185, 199]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Gain
		  Name			  "P0/ (Vo^np)"
		  Position		  [535, 115, 565, 145]
		  Gain			  "P0/(Mag_V0^np)"
		}
		Block {
		  BlockType		  Constant
		  Name			  "PQ_ext"
		  Position		  [685, 124, 750, 146]
		  ShowName		  off
		  Value			  "PQext"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [890, 147, 925, 183]
		  ShowName		  off
		  Inputs		  "/*"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Q0/(Vo^nq)"
		  Position		  [535, 180, 565, 210]
		  Gain			  "Q0/(Mag_V0^nq)"
		}
		Block {
		  BlockType		  RealImagToComplex
		  Name			  "Real-Imag to\nComplex"
		  Ports			  [2, 1]
		  Position		  [680, 173, 710, 202]
		  ShowName		  off
		  Input			  "Real and imag"
		  Port {
		    PortNumber		    1
		    Name		    "S_dyn"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [800, 155, 830, 195]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		  Port {
		    PortNumber		    1
		    Name		    "S=P+jQ"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch3"
		  Position		  [460, 110, 490, 150]
		  ShowName		  off
		  Threshold		  "Vmin"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch4"
		  Position		  [465, 175, 495, 215]
		  ShowName		  off
		  Threshold		  "Vmin"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Reference
		  Name			  "TF_P"
		  Ports			  [1, 1]
		  Position		  [600, 111, 635, 149]
		  SourceBlock		  "powerlib_extras/Discrete \nControl "
"Blocks/Discrete\nLead-Lag"
		  SourceType		  "Discrete Lead-Lag Controller"
		  T1			  "Tp1"
		  T2			  "Tp2"
		  V_Init		  "P0"
		  Ts			  "Ts"
		}
		Block {
		  BlockType		  Reference
		  Name			  "TF_Q"
		  Ports			  [1, 1]
		  Position		  [600, 176, 635, 214]
		  SourceBlock		  "powerlib_extras/Discrete \nControl "
"Blocks/Discrete\nLead-Lag"
		  SourceType		  "Discrete Lead-Lag Controller"
		  T1			  "Tq1"
		  T2			  "Tq2"
		  V_Init		  "Q0"
		  Ts			  "Ts"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "V^nq"
		  Position		  [205, 169, 285, 191]
		  Expr			  "u[1]^u[2]"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "V^nq ,"
		  Position		  [205, 104, 285, 126]
		  Expr			  "u[1]^u[2]"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Vmin^(np-2)"
		  Position		  [305, 240, 335, 270]
		  Gain			  "Vmin^(np-2)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Vmin^(nq-2)"
		  Position		  [305, 295, 335, 325]
		  Gain			  "Vmin^(nq-2)"
		}
		Block {
		  BlockType		  Constant
		  Name			  "np"
		  Position		  [35, 115, 80, 135]
		  Value			  "np"
		}
		Block {
		  BlockType		  Constant
		  Name			  "nq"
		  Position		  [35, 180, 80, 200]
		  Value			  "nq"
		}
		Block {
		  BlockType		  Gain
		  Name			  "pu>V"
		  Position		  [520, 18, 550, 52]
		  Gain			  "Vnom*sqrt(3)/sqrt(2)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "I1(A)"
		  Position		  [1015, 158, 1045, 172]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "VPQ"
		  Position		  [995, 278, 1025, 292]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Vmin^(nq-2)"
		  SrcPort		  1
		  Points		  [110, 0]
		  DstBlock		  "Switch4"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "V^nq ,"
		  SrcPort		  1
		  DstBlock		  "Switch3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vmin^(np-2)"
		  SrcPort		  1
		  Points		  [90, 0; 0, -110]
		  DstBlock		  "Switch3"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Math\nFunction"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    Points		    [0, 55]
		    DstBlock		    "Vmin^(nq-2)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Vmin^(np-2)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "V^nq"
		  SrcPort		  1
		  DstBlock		  "Switch4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "V1(pu)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Complex to\nMagnitude-Angle"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "pu>V"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "V^nq"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "nq"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "V^nq ,"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "np"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch3"
		  SrcPort		  1
		  DstBlock		  "P0/ (Vo^np)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Q0/(Vo^nq)"
		  SrcPort		  1
		  DstBlock		  "TF_Q"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "P0/ (Vo^np)"
		  SrcPort		  1
		  DstBlock		  "TF_P"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch4"
		  SrcPort		  1
		  DstBlock		  "Q0/(Vo^nq)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Conj1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Conj1"
		  SrcPort		  1
		  DstBlock		  "I1(A)"
		  DstPort		  1
		}
		Line {
		  Name			  "S=P+jQ"
		  Labels		  [0, 0]
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Labels		    [1, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 120]
		    DstBlock		    "Complex to\nReal-Imag1"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "S_dyn"
		  Labels		  [1, 1]
		  SrcBlock		  "Real-Imag to\nComplex"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "S_ext"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "PQ_ext"
		  SrcPort		  1
		  Points		  [10, 0; 0, 40]
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "pu>V"
		  SrcPort		  1
		  Points		  [320, 0]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nMagnitude-Angle"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [0, 85]
		    DstBlock		    "Math\nFunction"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [245, 0; 0, 70]
		    Branch {
		    DstBlock		    "Switch3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "Switch4"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    }
		  }
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "VPQ"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag1"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag1"
		  SrcPort		  2
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "TF_P"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "TF_Q"
		  SrcPort		  1
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  2
		}
		Annotation {
		  Name			  "kp=Vmin^(np-2)/Vo^np\nkq=Vmin^(nq-2"
")/Vo^nq"
		  Position		  [287, 454]
		}
		Annotation {
		  Name			  "V<Vmin\nConstant impedance load :\n"
"\n P=Po*kp*V^2\nQ=Qo*kq*V^2\n "
		  Position		  [288, 399]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "V>Vmin :\n\n   P=Po*(V/Vo)^np\n   Q"
"=Qo*(V/Vo)^np\n"
		  Position		  [78, 399]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "I1= (S/V1)' "
		  Position		  [975, 205]
		  FontSize		  12
		  FontWeight		  "bold"
		}
	      }
	    }
	    Block {
	      BlockType		      RealImagToComplex
	      Name		      "Real-Imag to\nComplex"
	      Ports		      [2, 1]
	      Position		      [605, 118, 635, 147]
	      ShowName		      off
	      Input		      "Real and imag"
	    }
	    Block {
	      BlockType		      RealImagToComplex
	      Name		      "Real-Imag to\nComplex1"
	      Ports		      [2, 1]
	      Position		      [630, 263, 660, 292]
	      ShowName		      off
	      Input		      "Real and imag"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector"
	      Ports		      [1, 1]
	      Position		      [120, 365, 150, 395]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Elements		      "1:2"
	      InputPortWidth	      "3"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay2"
	      Position		      [545, 347, 570, 373]
	      Orientation	      "left"
	      ShowName		      off
	      X0		      "I1_init*exp(-j*Pha_V0*pi/180)"
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "V> pu"
	      Position		      [120, 98, 150, 132]
	      Gain		      "1/Vbase"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "dq0_to_abc\nTransformation"
	      Ports		      [2, 1]
	      Position		      [235, 350, 305, 405]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      SourceBlock	      "powerlib_extras/Measurements/dq0_to_abc"
"\nTransformation"
	      SourceType	      "dq0 to abc Transformation"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [50, 372, 80, 388]
	      Orientation	      "left"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [870, 158, 900, 172]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Line {
	      SrcBlock		      "dq0_to_abc\nTransformation"
	      SrcPort		      1
	      DstBlock		      "Selector"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Selector"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "V> pu"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "V> pu"
	      SrcPort		      1
	      DstBlock		      "Discrete\n3-phase PLL"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Real-Imag to\nComplex"
	      SrcPort		      1
	      DstBlock		      "Positive Sequence \ncurrent"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      DstBlock		      "dq0_to_abc\nTransformation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Unit Delay2"
	      SrcPort		      1
	      DstBlock		      "Complex to\nReal-Imag"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Discrete\n3-phase PLL"
	      SrcPort		      3
	      Points		      [165, 0; 0, 65]
	      DstBlock		      "Discrete\nVariable Frequency\nMean valu"
"e1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "Mux1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Discrete\nVariable Frequency\nMean valu"
"e"
	      SrcPort		      1
	      Points		      [30, 0; 0, 70]
	      DstBlock		      "Real-Imag to\nComplex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Discrete\nVariable Frequency\nMean valu"
"e1"
	      SrcPort		      1
	      Points		      [35, 0; 0, -35]
	      DstBlock		      "Real-Imag to\nComplex"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Positive Sequence \ncurrent"
	      SrcPort		      1
	      Points		      [25, 0; 0, 225]
	      DstBlock		      "Unit Delay2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Complex to\nReal-Imag"
	      SrcPort		      1
	      DstBlock		      "Mux1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Complex to\nReal-Imag"
	      SrcPort		      2
	      DstBlock		      "Mux1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Discrete\n3-phase PLL"
	      SrcPort		      2
	      Points		      [165, 0; 0, -40]
	      DstBlock		      "Discrete\nVariable Frequency\nMean valu"
"e"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Discrete\n3-phase PLL"
	      SrcPort		      4
	      Points		      [65, 0; 0, 255]
	      DstBlock		      "dq0_to_abc\nTransformation"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Discrete\n3-phase PLL"
	      SrcPort		      1
	      Points		      [30, 0; 90, 0]
	      Branch {
		Points			[0, -50]
		DstBlock		"Discrete\nVariable Frequency\nMean va"
"lue"
		DstPort			1
	      }
	      Branch {
		Points			[0, 70]
		DstBlock		"Discrete\nVariable Frequency\nMean va"
"lue1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "PQ"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      DstBlock		      "Real-Imag to\nComplex1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      DstBlock		      "Real-Imag to\nComplex1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Real-Imag to\nComplex1"
	      SrcPort		      1
	      Points		      [15, 0; 0, -115]
	      DstBlock		      "Positive Sequence \ncurrent"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Positive Sequence \ncurrent"
	      SrcPort		      2
	      DstBlock		      "m"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Excitation_System"
	  Ports			  [4, 1]
	  Position		  [230, 203, 275, 277]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Discrete Excitation System"
	  MaskDescription	  "Implements an discrete IEEE type 1 synchron"
"ous machine voltage regulator combined to an exciter. This block uses the dq "
"components of terminal voltage (Synchronous Machine block, measurement ouputs"
" 9 and 10).\n\n1st input: desired stator terminal voltage (p.u.);\n2nd input:"
" vd component of the terminal voltage (p.u.);\n3rd input: vq component of the"
" terminal voltage (p.u.);\n4th input: stabilization voltage from user-supplie"
"d\n                 power system stabilizer (p.u.);\n\noutput: field voltage "
"vfd to be applied to the\n             Synchronous Machine block's 2nd input "
"(p.u.)."
	  MaskHelp		  "web(psbhelp);"
	  MaskPromptString	  "Low-pass filter time constant Tr(s):|Regula"
"tor gain and time constant [ Ka()  Ta(s) ]:|Exciter  [ Ke()  Te(s) ]:|Transie"
"nt gain reduction [ Tb(s)  Tc(s) ]:|Damping filter gain and time constant  [ "
"Kf()  Tf(s)  ]:|Field saturation parameters [ A, B ]:|Regulator output limits"
" and gain [ Efmin, Efmax (p.u.), Kp() ]:|Initial values of terminal voltage  "
"and field voltage [ Vt0 (pu) Vf0(pu) ] :|Sample time:"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,edit,edit,edi"
"t"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "||||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,"
	  MaskVariables		  "tr=@1;reg=@2;exc=@3;tgr=@4;damp=@5;sat=@6;l"
"im=@7;v0=@8;Ts=@9;"
	  MaskInitialization	  "ka=reg(1);ta=reg(2);ke=exc(1);te=exc(2);tb="
"tgr(1);tc=tgr(2);kf=damp(1);tf=damp(2);efmin=lim(1);efmax=lim(2);a=sat(1);b=s"
"at(2);kp=lim(3);\nif te==0,\nte=1e-6;\nend\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "tr|reg|exc|tgr|damp|sat|lim|v0|50e-6"
	  MaskTabNameString	  ",,,,,,,,"
	  System {
	    Name		    "Excitation_System"
	    Location		    [42, 76, 1093, 451]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "vref"
	      Position		      [10, 5, 30, 25]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "vd"
	      Position		      [10, 50, 30, 70]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "vq"
	      Position		      [10, 85, 30, 105]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "vstab"
	      Position		      [15, 140, 35, 160]
	      Port		      "4"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Damping\nkf.s / (tf.s +1)"
	      Ports		      [1, 1]
	      Position		      [645, 189, 695, 231]
	      Orientation	      "left"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Damping\nkf.s / (tf.s +1)"
		Location		[548, 512, 1175, 753]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [335, 38, 365, 52]
		  Orientation		  "left"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Reference
		  Name			  "1st-Order\nDiscrete Filter"
		  Ports			  [1, 1]
		  Position		  [115, 25, 160, 65]
		  Orientation		  "left"
		  SourceBlock		  "powerlib_extras/Discrete \nControl "
"Blocks/Discrete\n1st-Order\nDiscrete Filter"
		  SourceType		  "Discrete 1st-Order Filter"
		  FilterType		  "Highpass"
		  Tc			  "tf"
		  Ts			  "Ts"
		  Initialize		  "on"
		  Vac_Init		  "[0 0 60]"
		  Vdc_Init		  "kf*v0(2)/tf"
		  PlotResponse		  "off"
		  param1		  "[1 500 0.1]"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [230, 30, 285, 60]
		  Orientation		  "left"
		  Gain			  "kf/tf"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [25, 38, 55, 52]
		  Orientation		  "left"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "1st-Order\nDiscrete Filter"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "1st-Order\nDiscrete Filter"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Exciter\n 1 / (te.s + ke)"
	      Ports		      [1, 1]
	      Position		      [815, 80, 865, 120]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Exciter\n 1 / (te.s + ke)"
		Location		[46, 189, 399, 420]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Reference
		  Name			  "1st order\nLowpass"
		  Ports			  [1, 1]
		  Position		  [170, 28, 205, 62]
		  SourceBlock		  "powerlib_extras/Discrete \nControl "
"Blocks/Discrete\n1st-Order\nDiscrete Filter"
		  SourceType		  "Discrete 1st-Order Filter"
		  FilterType		  "Lowpass"
		  Tc			  "te/ke"
		  Ts			  "Ts"
		  Initialize		  "on"
		  Vac_Init		  "[0.0 0 60]"
		  Vdc_Init		  "v0(2)"
		  PlotResponse		  "off"
		  param1		  "[1 500 0.1]"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [95, 30, 125, 60]
		  Gain			  "1/ke"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [255, 38, 285, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "1st order\nLowpass"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1st order\nLowpass"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Lead Lag Compensator\ntc.s+1 / tb.s+1"
	      Ports		      [1, 1]
	      Position		      [475, 63, 525, 107]
	      SourceBlock	      "powerlib_extras/Discrete \nControl Bloc"
"ks/Discrete\nLead-Lag"
	      SourceType	      "Discrete Lead-Lag Controller"
	      T1		      "tc"
	      T2		      "tb"
	      V_Init		      "ke*v0(2)/ka"
	      Ts		      "Ts"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Low Pass Filter\n1 / (tr.s +1)\n(with I"
"C)"
	      Ports		      [1, 1]
	      Position		      [255, 59, 300, 101]
	      SourceBlock	      "powerlib_extras/Discrete \nControl Bloc"
"ks/Discrete\n1st-Order\nDiscrete Filter"
	      SourceType	      "Discrete 1st-Order Filter"
	      FilterType	      "Lowpass"
	      Tc		      "tr"
	      Ts		      "Ts"
	      Initialize	      "on"
	      Vac_Init		      "[0 0 60]"
	      Vdc_Init		      "v0(1)"
	      PlotResponse	      "off"
	      param1		      "[1 500 0.1]"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Main Regulator\nka / (ta.s +1)"
	      Ports		      [1, 1]
	      Position		      [590, 65, 640, 105]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Main Regulator\nka / (ta.s +1)"
		Location		[171, 656, 490, 787]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Reference
		  Name			  "1st order\nLowpass"
		  Ports			  [1, 1]
		  Position		  [170, 28, 205, 62]
		  SourceBlock		  "powerlib_extras/Discrete \nControl "
"Blocks/Discrete\n1st-Order\nDiscrete Filter"
		  SourceType		  "Discrete 1st-Order Filter"
		  FilterType		  "Lowpass"
		  Tc			  "ta"
		  Ts			  "Ts"
		  Initialize		  "on"
		  Vac_Init		  "[0.0 0 60]"
		  Vdc_Init		  "ke*v0(2)"
		  PlotResponse		  "off"
		  param1		  "[1 500 0.1]"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [95, 30, 125, 60]
		  Gain			  "ka"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [255, 38, 285, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "1st order\nLowpass"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "1st order\nLowpass"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [50, 42, 80, 113]
	      ShowName		      off
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "Positive Seqence\nVoltage"
	      Position		      [95, 66, 205, 94]
	      Expr		      "sqrt(u(1)^2 + u(2)^2)"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [5, 1]
	      Position		      [385, 50, 415, 120]
	      ShowName		      off
	      Inputs		      "++-+-"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay1"
	      Position		      [555, 198, 575, 222]
	      Orientation	      "left"
	      ShowName		      off
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay2"
	      Position		      [965, 88, 985, 112]
	      ShowName		      off
	      X0		      "v0(2)"
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vf0 \\ ka"
	      Position		      [170, 23, 230, 47]
	      Value		      "v0(2)/ka"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "proportionnal\nsaturation"
	      Ports		      [2, 1]
	      Position		      [710, 72, 750, 128]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"proportionnal\nsaturation"
		Location		[50, 257, 751, 564]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Efd"
		  Position		  [25, 43, 55, 57]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vtf"
		  Position		  [25, 83, 55, 97]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [65, 115, 85, 135]
		  ShowName		  off
		  Value			  "kp"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [215, 56, 255, 74]
		  ShowName		  off
		  Value			  "efmin"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [65, 145, 85, 165]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion"
		  Position		  [425, 54, 450, 76]
		  BackgroundColor	  "cyan"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [425, 99, 450, 121]
		  BackgroundColor	  "cyan"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [425, 129, 450, 151]
		  BackgroundColor	  "cyan"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion3"
		  Position		  [155, 139, 170, 161]
		  BackgroundColor	  "cyan"
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [2, 1]
		  Position		  [375, 53, 405, 77]
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [1, 1]
		  Position		  [375, 98, 405, 122]
		  ShowName		  off
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator2"
		  Ports			  [1, 1]
		  Position		  [375, 128, 405, 152]
		  ShowName		  off
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [480, 48, 510, 72]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [480, 85, 510, 120]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [480, 130, 510, 165]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [105, 138, 135, 162]
		  ShowName		  off
		  Operator		  "=="
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator1"
		  Position		  [305, 128, 330, 152]
		  ShowName		  off
		  Operator		  "<"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator2"
		  Position		  [305, 41, 330, 74]
		  ShowName		  off
		  Operator		  ">"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [255, 135, 275, 155]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [3, 1]
		  Position		  [540, 38, 555, 172]
		  ShowName		  off
		  Inputs		  "+++"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Vfdmax"
		  Position		  [190, 129, 235, 171]
		  ShowName		  off
		  Gain			  "efmax"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Vfdmax1"
		  Position		  [80, 77, 105, 103]
		  ShowName		  off
		  Gain			  "kp"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Ef"
		  Position		  [580, 98, 610, 112]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Data Type \nConversion3"
		  SrcPort		  1
		  DstBlock		  "Vfdmax"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator2"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Ef"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Efd"
		  SrcPort		  1
		  Points		  [225, 0]
		  Branch {
		    Points		    [0, -20; 180, 0]
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 85]
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 30]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Relational\nOperator2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Relational\nOperator1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [5, 0; 0, -70]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Relational\nOperator2"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 10]
		    DstBlock		    "Product2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Vfdmax1"
		  SrcPort		  1
		  Points		  [130, 0]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vfdmax"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vtf"
		  SrcPort		  1
		  DstBlock		  "Vfdmax1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vf"
	      Position		      [1010, 90, 1030, 110]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Unit Delay2"
	      SrcPort		      1
	      DstBlock		      "Vf"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Unit Delay1"
	      SrcPort		      1
	      Points		      [-185, 0; 0, -95]
	      DstBlock		      "Sum"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "proportionnal\nsaturation"
	      SrcPort		      1
	      DstBlock		      "Exciter\n 1 / (te.s + ke)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Lead Lag Compensator\ntc.s+1 / tb.s+1"
	      SrcPort		      1
	      DstBlock		      "Main Regulator\nka / (ta.s +1)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Lead Lag Compensator\ntc.s+1 / tb.s+1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Positive Seqence\nVoltage"
	      SrcPort		      1
	      DstBlock		      "Low Pass Filter\n1 / (tr.s +1)\n(with I"
"C)"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vq"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "vd"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Positive Seqence\nVoltage"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vref"
	      SrcPort		      1
	      Points		      [335, 0]
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vstab"
	      SrcPort		      1
	      Points		      [300, 0; 0, -50]
	      DstBlock		      "Sum"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "Low Pass Filter\n1 / (tr.s +1)\n(with I"
"C)"
	      SrcPort		      1
	      Points		      [0, 5; 50, 0]
	      Branch {
		Points			[0, 70; 340, 0]
		DstBlock		"proportionnal\nsaturation"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Sum"
		DstPort			3
	      }
	    }
	    Line {
	      SrcBlock		      "Vf0 \\ ka"
	      SrcPort		      1
	      Points		      [120, 0; 0, 35]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Main Regulator\nka / (ta.s +1)"
	      SrcPort		      1
	      DstBlock		      "proportionnal\nsaturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Damping\nkf.s / (tf.s +1)"
	      SrcPort		      1
	      DstBlock		      "Unit Delay1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Exciter\n 1 / (te.s + ke)"
	      SrcPort		      1
	      Points		      [55, 0]
	      Branch {
		DstBlock		"Unit Delay2"
		DstPort			1
	      }
	      Branch {
		Points			[0, 110]
		DstBlock		"Damping\nkf.s / (tf.s +1)"
		DstPort			1
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "GTO-IGBT Bridge"
	  Ports			  [2, 3]
	  Position		  [25, 201, 70, 269]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "GTO & IGBT Bridge Logic"
	  MaskDescription	  "Generates the switch status ( 0 or 1) and t"
"he tail currents for a forced-commutated two- level bridge using GTO/Diode or"
" IGBT/Diode pairs.\nSpecify  3 arms (6 switches) for 3 phase bridge, 2 arms f"
"or 4 switches, or 1 arm.\nTo turn-off the tail current, specify Tf=0 and Tt=0"
"."
	  MaskPromptString	  "Number of bridge arms (1,2 or 3)|Curent 10%"
" fall time Tf (s) :|Current tail time Tt (s) :|Snubber Capacitance Cs (F):|Fo"
"rward Voltages [ Vf  Vfd ]|Device resistance|Time step Ts (s) :"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on"
	  MaskCallbackString	  "||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,"
	  MaskVariables		  "nb_arm=@1;Tf=@2;Tt=@3;Cs=@4;VFs=@5;Rsw=@6;T"
"s=@7;"
	  MaskInitialization	  "Vf=VFs(1);\nVfd=VFs(2);\nnb_switch=nb_arm*2"
";\nif nb_arm==1,\n   Selec_Diode=[2 1];\nelseif nb_arm==2,\n   Selec_Diode=[2"
" 1 4 3];\nelseif nb_arm==3,\n   Selec_Diode=[2 1 4 3 6 5];\nend"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "3|0|0|Inf|[0 0]|1|1"
	  MaskTabNameString	  ",,,,,,"
	  System {
	    Name		    "GTO-IGBT Bridge"
	    Location		    [86, 189, 832, 695]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [20, 247, 50, 263]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [20, 282, 50, 298]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1/Rsw"
	      Position		      [90, 195, 120, 225]
	      Orientation	      "up"
	      Gain		      "1./Rsw"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "2"
	      Position		      [490, 201, 560, 229]
	      ShowName		      off
	      Value		      "Tf>0 | Tt>0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [40, 150, 70, 170]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion2"
	      Position		      [575, 125, 625, 145]
	      NamePlacement	      "alternate"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion3"
	      Position		      [190, 143, 225, 167]
	      NamePlacement	      "alternate"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion4"
	      Position		      [80, 278, 130, 302]
	      NamePlacement	      "alternate"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion5"
	      Position		      [435, 116, 455, 134]
	      NamePlacement	      "alternate"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Diode Logic"
	      Ports		      [3, 1]
	      Position		      [360, 27, 415, 83]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Diode Logic"
		Location		[216, 512, 728, 847]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vak"
		  Position		  [15, 30, 35, 50]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Ipos"
		  Position		  [15, 235, 35, 255]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "G"
		  Position		  [15, 100, 35, 120]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 2"
		  Position		  [155, 45, 175, 65]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 3"
		  Position		  [110, 179, 150, 201]
		  ShowName		  off
		  Value			  "Cs==inf"
		}
		Block {
		  BlockType		  Logic
		  Name			  "1"
		  Ports			  [2, 1]
		  Position		  [380, 86, 410, 119]
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "2"
		  Ports			  [2, 1]
		  Position		  [435, 146, 465, 179]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Logic
		  Name			  "3"
		  Ports			  [2, 1]
		  Position		  [280, 101, 310, 134]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Block D"
		  Ports			  [1, 1]
		  Position		  [235, 185, 275, 215]
		  Orientation		  "up"
		  Elements		  "Selec_Diode"
		  InputPortWidth	  "nb_switch"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Blocking Diodes"
		  Ports			  [1, 1]
		  Position		  [140, 87, 200, 133]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Blocking Diodes"
		    Location		    [463, 548, 1088, 732]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "G"
		    Position		    [40, 60, 70, 80]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Bloque D214365"
		    Ports		    [1, 1]
		    Position		    [410, 53, 440, 107]
		    Elements		    "Selec_Diode"
		    InputPortWidth	    "nb_switch"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [215, 54, 245, 86]
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Pulse 1 step"
		    Ports		    [2, 1]
		    Position		    [305, 62, 335, 93]
		    Port {
		    PortNumber		    1
		    Name		    "Blockinkg "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay"
		    Position		    [140, 52, 175, 88]
		    ShowName		    off
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Block.D"
		    Position		    [490, 70, 520, 90]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Bloque D214365"
		    SrcPort		    1
		    DstBlock		    "Block.D"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Blockinkg "
		    Labels		    [0, 0]
		    SrcBlock		    "Pulse 1 step"
		    SrcPort		    1
		    DstBlock		    "Bloque D214365"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Unit Delay"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Pulse 1 step"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "G"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50; 190, 0]
		    DstBlock		    "Pulse 1 step"
		    DstPort		    2
		    }
		    }
		  }
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion5"
		  Position		  [295, 41, 315, 59]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator3"
		  Ports			  [1, 1]
		  Position		  [330, 105, 360, 135]
		  ShowName		  off
		  Operator		  "NOT"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Trig.  Diodes\n(No Snubber Capacita"
"nce)"
		  Ports			  [2, 1, 1]
		  Position		  [155, 209, 215, 256]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Trig.  Diodes\n(No Snubber Capaci"
"tance)"
		    Location		    [219, 198, 853, 431]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "G"
		    Position		    [40, 60, 70, 80]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Ipos"
		    Position		    [40, 155, 70, 175]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [150, 180, 170, 200]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion5"
		    Position		    [220, 156, 240, 174]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [210, 54, 240, 86]
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Pulse 1 step"
		    Ports		    [3, 1]
		    Position		    [400, 62, 430, 98]
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Trig D214365"
		    Ports		    [1, 1]
		    Position		    [485, 53, 515, 107]
		    Elements		    "Selec_Diode"
		    InputPortWidth	    "nb_switch"
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay1"
		    Position		    [140, 117, 175, 153]
		    ShowName		    off
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Trig D"
		    Position		    [580, 70, 610, 90]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Trig D214365"
		    SrcPort		    1
		    DstBlock		    "Trig D"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Pulse 1 step"
		    SrcPort		    1
		    DstBlock		    "Trig D214365"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Unit Delay1"
		    SrcPort		    1
		    Points		    [100, 0; 0, -55]
		    DstBlock		    "Pulse 1 step"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Pulse 1 step"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "G"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Unit Delay1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Ipos"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion5"
		    SrcPort		    1
		    Points		    [95, 0; 0, -75]
		    DstBlock		    "Pulse 1 step"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b6"
		  Position		  [205, 34, 230, 61]
		  ShowName		  off
		  Operator		  ">"
		}
		Block {
		  BlockType		  Outport
		  Name			  "status"
		  Position		  [480, 155, 500, 175]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Block D"
		  SrcPort		  1
		  Points		  [0, -55]
		  DstBlock		  "3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "3"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "2"
		  SrcPort		  1
		  DstBlock		  "status"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator3"
		  SrcPort		  1
		  DstBlock		  "1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Trig.  Diodes\n(No Snubber Capacita"
"nce)"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    DstBlock		    "Block D"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [165, 0]
		    DstBlock		    "2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Blocking Diodes"
		  SrcPort		  1
		  DstBlock		  "3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "0 3"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "Trig.  Diodes\n(No Snubber Capacita"
"nce)"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Ipos"
		  SrcPort		  1
		  DstBlock		  "Trig.  Diodes\n(No Snubber Capacita"
"nce)"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "G"
		  SrcPort		  1
		  Points		  [55, 0]
		  Branch {
		    Points		    [0, 110]
		    DstBlock		    "Trig.  Diodes\n(No Snubber Capaci"
"tance)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Blocking Diodes"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "0 2"
		  SrcPort		  1
		  DstBlock		  "b6"
		  DstPort		  2
		}
		Line {
		  Labels		  [1, 0]
		  SrcBlock		  "Vak"
		  SrcPort		  1
		  DstBlock		  "b6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "b6"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion5"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "1"
		  DstPort		  1
		}
		Annotation {
		  Name			  "Note : Block D1 (D2) if D2 (D1) is "
"triggered (no Cs)"
		  Position		  [167, 308]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "GTO Logic"
	      Ports		      [2, 1]
	      Position		      [355, 180, 410, 235]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"GTO Logic"
		Location		[525, 370, 922, 584]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vak"
		  Position		  [30, 44, 50, 66]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "G"
		  Position		  [25, 131, 45, 149]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  " "
		  Position		  [140, 133, 160, 162]
		  Operator		  ">"
		}
		Block {
		  BlockType		  Constant
		  Name			  "    "
		  Position		  [30, 175, 55, 195]
		  Value			  "0"
		}
		Block {
		  BlockType		  Logic
		  Name			  ". "
		  Ports			  [2, 1]
		  Position		  [255, 85, 285, 125]
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [180, 55, 230, 75]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [180, 140, 230, 160]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion3"
		  Position		  [75, 145, 120, 165]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Vpos"
		  Position		  [75, 64, 105, 86]
		  Value			  "0"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b"
		  Position		  [140, 48, 160, 77]
		  Operator		  ">"
		}
		Block {
		  BlockType		  Outport
		  Name			  "status"
		  Position		  [340, 95, 360, 115]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  ". "
		  SrcPort		  1
		  DstBlock		  "status"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vak"
		  SrcPort		  1
		  DstBlock		  "b"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vpos"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "b"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "G"
		  SrcPort		  1
		  DstBlock		  " "
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "b"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  ". "
		  DstPort		  1
		}
		Line {
		  SrcBlock		  " "
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  ". "
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "    "
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion3"
		  SrcPort		  1
		  DstBlock		  " "
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "G_D"
	      Ports		      [2, 1]
	      Position		      [525, 116, 555, 149]
	      ShowName		      off
	      Operator		      "OR"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [295, 110, 325, 140]
	      Orientation	      "up"
	      ShowName		      off
	      Gain		      "-1"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [245, 145, 280, 180]
	      ShowName		      off
	      RndMeth		      "Floor"
	      Port {
		PortNumber		1
		Name			"IGTO"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      Position		      [130, 135, 165, 170]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Tail discrete"
	      Ports		      [2, 1, 1]
	      Position		      [555, 247, 610, 303]
	      TreatAsAtomicUnit	      on
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Gto tail current"
	      MaskInitialization      "\n\n\n\n\n\n\n\n\n\n\n\n\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Tail discrete"
		Location		[172, 438, 739, 801]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Iak"
		  Position		  [55, 195, 75, 215]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "switch"
		  Position		  [50, 125, 70, 145]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  Ports			  []
		  Position		  [110, 275, 130, 295]
		  StatesWhenEnabling	  "reset"
		}
		Block {
		  BlockType		  Constant
		  Name			  "1"
		  Position		  [80, 55, 115, 75]
		  ShowName		  off
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [2, 1]
		  Position		  [155, 56, 210, 94]
		  IntegratorMethod	  "Integration: Trapezoidal"
		  ExternalReset		  "falling"
		  InitialConditionSource  "internal"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Look-Up Table"
		  Position		  [240, 48, 290, 102]
		  DialogController	  "Simulink.DDGSource"
		  InputValues		  "[  0    Tf+eps Tf+Tt+2*eps  Tf+Tt+3"
"*eps ]"
		  OutputValues		  "[  1    0.1*(Tt>0) 0 0]"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [385, 187, 415, 223]
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [200, 200, 230, 230]
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay3"
		  Position		  [200, 252, 235, 288]
		  Orientation		  "left"
		  ShowName		  off
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Outport
		  Name			  "itail"
		  Position		  [475, 195, 495, 215]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "1"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  DstBlock		  "Look-Up Table"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Look-Up Table"
		  SrcPort		  1
		  Points		  [75, 0]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "itail"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  Points		  [20, 0; 0, 0]
		  Branch {
		    Points		    [0, 55]
		    DstBlock		    "Unit Delay3"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Unit Delay3"
		  SrcPort		  1
		  Points		  [-10, 0]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Iak"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "switch"
		  SrcPort		  1
		  Points		  [50, 0]
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "Discrete-Time\nIntegrator"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 80]
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay"
	      Position		      [440, 242, 475, 278]
	      ShowName		      off
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay3"
	      Position		      [650, 117, 685, 153]
	      ShowName		      off
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Vf "
	      Ports		      [1, 1]
	      Position		      [550, 19, 635, 71]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Vf "
		Location		[627, 131, 982, 282]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "status_GTO"
		  Position		  [85, 63, 115, 77]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [190, 55, 220, 85]
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay9"
		  Position		  [245, 51, 275, 89]
		  ShowName		  off
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Vf device"
		  Position		  [25, 23, 145, 47]
		  Value			  "Vf*ones(nb_switch,1)"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Vf diode"
		  Position		  [25, 98, 145, 122]
		  Value			  "-Vfd*ones(nb_switch,1)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vf"
		  Position		  [300, 63, 330, 77]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "[0]"
		}
		Line {
		  SrcBlock		  "Unit Delay9"
		  SrcPort		  1
		  DstBlock		  "Vf"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "status_GTO"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Unit Delay9"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vf diode"
		  SrcPort		  1
		  Points		  [10, 0; 0, -30]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Vf device"
		  SrcPort		  1
		  Points		  [15, 0; 0, 25]
		  DstBlock		  "Switch"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "iTail"
	      Position		      [660, 268, 690, 282]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "status"
	      Position		      [705, 127, 735, 143]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vf"
	      Position		      [665, 37, 695, 53]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Line {
	      SrcBlock		      "2"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Tail discrete"
	      DstPort		      enable
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		Points			[0, -100]
		DstBlock		"Diode Logic"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Data Type \nConversion3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Unit Delay"
	      SrcPort		      1
	      DstBlock		      "Tail discrete"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      Points		      [0, -70]
	      DstBlock		      "Diode Logic"
	      DstPort		      1
	    }
	    Line {
	      Name		      "IGTO"
	      Labels		      [0, 0]
	      SrcBlock		      "Product"
	      SrcPort		      1
	      Points		      [10, 0; 0, 95]
	      DstBlock		      "Unit Delay"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Tail discrete"
	      SrcPort		      1
	      DstBlock		      "iTail"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "1/Rsw"
	      SrcPort		      1
	      Points		      [0, -5]
	      Branch {
		Points			[125, 0]
		DstBlock		"Product"
		DstPort			2
	      }
	      Branch {
		Points			[0, -40]
		DstBlock		"Relational\nOperator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [50, 0]
	      Branch {
		Points			[205, 0; 0, -60]
		Branch {
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "GTO Logic"
		  DstPort		  1
		}
	      }
	      Branch {
		Points			[0, 0]
		DstBlock		"1/Rsw"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Vf "
	      SrcPort		      1
	      DstBlock		      "Vf"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "GTO Logic"
	      SrcPort		      1
	      Points		      [50, 0; 0, -70]
	      Branch {
		DstBlock		"G_D"
		DstPort			2
	      }
	      Branch {
		Points			[-120, 0]
		DstBlock		"Diode Logic"
		DstPort			3
	      }
	      Branch {
		Points			[0, -95]
		DstBlock		"Vf "
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion3"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion4"
	      SrcPort		      1
	      Points		      [190, 0]
	      Branch {
		DstBlock		"Tail discrete"
		DstPort			2
	      }
	      Branch {
		Points			[0, -70]
		DstBlock		"GTO Logic"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Diode Logic"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion5"
	      SrcPort		      1
	      DstBlock		      "G_D"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Unit Delay3"
	      SrcPort		      1
	      DstBlock		      "status"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "G_D"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion2"
	      SrcPort		      1
	      DstBlock		      "Unit Delay3"
	      DstPort		      1
	    }
	    Annotation {
	      Name		      "*\n*\n||\n||\n*\n*\n*\n||\n||\n*\n*"
	      Position		      [585, 414]
	    }
	    Annotation {
	      Name		      "1"
	      Position		      [574, 385]
	    }
	    Annotation {
	      Name		      "2"
	      Position		      [574, 445]
	    }
	    Annotation {
	      Name		      "+"
	      Position		      [514, 355]
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "-"
	      Position		      [519, 470]
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "*\n*\n||\n||\n*\n*\n*\n||\n||\n*\n*"
	      Position		      [645, 414]
	    }
	    Annotation {
	      Name		      "3"
	      Position		      [634, 385]
	    }
	    Annotation {
	      Name		      "4"
	      Position		      [634, 445]
	    }
	    Annotation {
	      Name		      "***************************************"
"********"
	      Position		      [605, 342]
	    }
	    Annotation {
	      Name		      "Vcc"
	      Position		      [519, 413]
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "A"
	      Position		      [599, 418]
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "B"
	      Position		      [659, 418]
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "*\n*\n||\n||\n*\n*\n*\n||\n||\n*\n*"
	      Position		      [700, 414]
	    }
	    Annotation {
	      Name		      "C"
	      Position		      [714, 418]
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "***************************************"
"********"
	      Position		      [610, 487]
	    }
	    Annotation {
	      Name		      "5"
	      Position		      [689, 385]
	    }
	    Annotation {
	      Name		      "6"
	      Position		      [689, 450]
	    }
	    Annotation {
	      Name		      "GTO:\n tail current can be turned off b"
"y specifying Tf=0 and Tt=0"
	      Position		      [236, 448]
	      FontSize		      12
	    }
	    Annotation {
	      Name		      "Diode Logic :\n1) Diodes are blocked wh"
"en complementary GTOs are switched on\n2) When no snubber capacitances are us"
"ed (Cs=inf), diodes are triggered \nwhen complementary GTOs are swithed off"
	      Position		      [246, 383]
	      FontSize		      12
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "HTG"
	  Ports			  [5, 2]
	  Position		  [355, 200, 400, 280]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Discrete Hydraulic Turbine and Governor"
	  MaskDescription	  "Implements a discrete hydraulic turbine com"
"bined to a discrete PID governor system.\n\n1st input: desired speed (p.u.);"
"\n2nd input: desired electrical power (p.u.);\n3rd input: synchronous machine"
"'s actual speed (p.u., measurement output 13 of SM block);\n4th input: synchr"
"onous machine's actual electrical power (p.u., measurement output 14 of SM bl"
"ock);\n5th input: synchronous machine's actual speed deviation with respect t"
"o nominal (%, measurement output 15 of SM block);\n\n1st output: mechanical p"
"ower to be applied to the Synchronous Machine block's 1st input (p.u.);\n2nd "
"output: gate opening (p.u.)."
	  MaskHelp		  "web(psbhelp);"
	  MaskPromptString	  "Servo-motor [ Ka()  Ta(sec) ]:|Gate opening"
" limits [ gmin,gmax(pu)    vgmin,vgmax(pu/s) ]:|Permanent droop and regulator"
"  [ Rp() Kp() Ki() Kd() Td(s) ]:|Hydraulic turbine [ beta()  Tw(sec) ]:|Droop"
" reference (0=power error, 1=gate opening):|Initial mechanical power (pu):|Sa"
"mple time:"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on"
	  MaskCallbackString	  "||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,"
	  MaskVariables		  "sm=@1;gate=@2;reg=@3;hyd=@4;dref=@5;po=@6;T"
"s=@7;"
	  MaskInitialization	  "ka=sm(1);ta=sm(2);gmin=gate(1);gmax=gate(2)"
";vgmin=gate(3);vgmax=gate(4);Rp=reg(1);kp=reg(2);ki=reg(3);kd=reg(4);td=reg(5"
");beta=hyd(1);tw=hyd(2);go=po*(gmax-gmin);"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "sm|gate|reg|hyd|dref|po|50e-6"
	  MaskTabNameString	  ",,,,,,"
	  System {
	    Name		    "HTG"
	    Location		    [143, 280, 1035, 706]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "wref"
	      Position		      [70, 70, 90, 90]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "Pref"
	      Position		      [70, 260, 90, 280]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "we"
	      Position		      [70, 105, 90, 125]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "Pe"
	      Position		      [70, 300, 90, 320]
	      Port		      "4"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "dw"
	      Position		      [70, 25, 90, 45]
	      Port		      "5"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [300, 222, 325, 238]
	      Orientation	      "left"
	      ShowName		      off
	      Value		      "dref"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Discrete\nPID Controller"
	      Ports		      [1, 1]
	      Position		      [215, 88, 250, 122]
	      AncestorBlock	      "powerlib_extras/Discrete \nControl Bloc"
"ks/Discrete\nPID Controller"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Discrete PID Controller"
	      MaskDescription	      "This block implements a discrete PID co"
"ntroller."
	      MaskPromptString	      "Proportional gain (Kp):|Integral gain ("
"Ki):|Derivative gain (Kd):|Time constant for derivative (s):|Output limits: ["
" Upper   Lower ]|Output initial value:|Sample time:"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on"
	      MaskCallbackString      "||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,,"
	      MaskVariables	      "Kp=@1;Ki=@2;Kd=@3;TcD=@4;Par_Limits=@5;"
"Init=@6;Ts=@7;"
	      MaskInitialization      "UpperLimit=Par_Limits(1);\nLowerLimit=P"
"ar_Limits(2);"
	      MaskDisplay	      "disp('PID');"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "kp|ki|kd|td|[1e6 -1e6]|go|Ts"
	      MaskTabNameString	      ",,,,,,"
	      System {
		Name			"Discrete\nPID Controller"
		Location		[199, 192, 966, 540]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Error"
		  Position		  [100, 183, 130, 197]
		  FontSize		  12
		  FontWeight		  "bold"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteTransferFcn
		  Name			  "Derivative "
		  Position		  [310, 217, 445, 263]
		  Numerator		  "[2 -2]"
		  Denominator		  "[Ts+2*TcD Ts-2*TcD]"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [1, 1]
		  Position		  [365, 171, 425, 209]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "Init"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  LimitOutput		  on
		  UpperSaturationLimit	  "UpperLimit"
		  LowerSaturationLimit	  "LowerLimit"
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Kp4"
		  Position		  [225, 124, 260, 156]
		  ShowName		  off
		  Gain			  "Kp"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Kp5"
		  Position		  [230, 174, 265, 206]
		  ShowName		  off
		  Gain			  "Ki"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Kp6"
		  Position		  [230, 224, 265, 256]
		  ShowName		  off
		  Gain			  "Kd"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation2"
		  Position		  [585, 175, 610, 205]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  UpperLimit		  "UpperLimit"
		  LowerLimit		  "LowerLimit"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  Ports			  [3, 1]
		  Position		  [520, 115, 550, 265]
		  ShowName		  off
		  Inputs		  "+++"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [645, 183, 675, 197]
		  FontSize		  12
		  FontWeight		  "bold"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Error"
		  SrcPort		  1
		  Points		  [65, 0]
		  Branch {
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Kp4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Kp5"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Kp6"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  DstBlock		  "Saturation2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Kp5"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Kp6"
		  SrcPort		  1
		  DstBlock		  "Derivative "
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Kp4"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Derivative "
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Saturation2"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
		Annotation {
		  Name			  "Discrete PID Controller"
		  Position		  [101, 18]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "Pierre Giroux, Gilbert Sybille\nPow"
"er System Simulation Laboratory\nIREQ, Hydro-Quebc"
		  Position		  [102, 51]
		}
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [110, 64, 125, 131]
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [160, 95, 180, 115]
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum5"
	      Ports		      [2, 1]
	      Position		      [110, 294, 125, 316]
	      ShowName		      off
	      Inputs		      "-+"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [245, 207, 275, 253]
	      Orientation	      "left"
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "permanent\ndroop"
	      Position		      [180, 215, 215, 245]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      Gain		      "Rp"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "servo-motor"
	      Ports		      [1, 1]
	      Position		      [285, 90, 330, 120]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('servo-\\nmotor')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"servo-motor"
		Location		[86, 618, 695, 828]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "regulator's\noutput"
		  Position		  [40, 65, 60, 85]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  Ports			  [2, 1]
		  Position		  [130, 69, 150, 91]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "position"
		  Ports			  [1, 1]
		  Position		  [380, 57, 450, 103]
		  NamePlacement		  "alternate"
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "go"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  LimitOutput		  on
		  UpperSaturationLimit	  "gmax"
		  LowerSaturationLimit	  "gmin"
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "servo-motor"
		  Ports			  [1, 1]
		  Position		  [210, 57, 250, 103]
		  NamePlacement		  "alternate"
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "servo-motor"
		    Location		    [171, 656, 490, 787]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "1st order\nLowpass"
		    Ports		    [1, 1]
		    Position		    [170, 28, 205, 62]
		    AncestorBlock	    "powerlib_extras/Discrete \nContro"
"l Blocks/Discrete\n1st-Order\nDiscrete Filter"
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    MaskType		    "Discrete 1st-Order Filter"
		    MaskPromptString	    "Filter Type:|Time constant (s):|S"
"ample time:|Initialize filter states|AC initial input: [ Mag  Phase(degrees) "
" Freq(Hz) ]|DC Initial input:|Plot filter response|Frequency range(Hz) : [Sta"
"rt  End  Inc.]"
		    MaskStyleString	    "popup(Lowpass|Highpass),edit,edit"
",checkbox,edit,edit,checkbox,edit"
		    MaskTunableValueString  "on,on,on,on,on,on,on,on"
		    MaskCallbackString	    "|||p4=get_param(gcb,'Initialize')"
";if strcmp(p4,'on');visible={'on','on','on','on','on','on','on',get_param(gcb"
",'PlotResponse')};else;visible={'on','on','on','on','off','off','on',get_para"
"m(gcb,'PlotResponse')};end;set_param(gcb,'MaskVisibilities',visible)|||p7=get"
"_param(gcb,'PlotResponse');if strcmp(p7,'on');visible={'on','on','on','on',ge"
"t_param(gcb,'Initialize'),get_param(gcb,'Initialize'),'on','on'};else;visible"
"={'on','on','on','on',get_param(gcb,'Initialize'),get_param(gcb,'Initialize')"
",'on','off'};end;set_param(gcb,'MaskVisibilities',visible)|"
		    MaskEnableString	    "on,on,on,on,on,on,on,on"
		    MaskVisibilityString    "on,on,on,on,off,off,on,off"
		    MaskToolTipString	    "on,on,on,on,on,on,on,on"
		    MaskVarAliasString	    ",,,,,,,"
		    MaskVariables	    "FilterType=@1;Tc=@2;Ts=@3;Initial"
"ize=@4;Vac_Init=@5;Vdc_Init=@6;PlotResponse=@7;param1=@8;"
		    MaskInitialization	    "switch FilterType\ncase 1, % Lowp"
"ass\n       X=[0 1 2 3 4];\n       Y=[-2 -2 -3 -4 -4];\n       numc=1;\n     "
"  denc=[Tc 1];\n case 2,   % Highpass\n       X=[0 1 2 3 4];\n       Y=[-4 -4"
" -3 -2 -2];\n        numc=[1 0];\n        denc=[1 1/Tc];\nend\n%\n[Ac,Bc,Cc,D"
"c]=tf2ss(numc,denc);\n%\n%  Conversion to discrete transfer function\nnstates"
" = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\nAd = invexp*(eye(nst"
"ates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;\nDd = Cc*invexp*Bc*("
"Ts/2) + Dc;\n%\nif Initialize==1  % Compute initial conditions on states\nu1="
"Vac_Init(1)*exp(j*Vac_Init(2)*pi/180);\nu2=Vdc_Init*exp(j*90*pi/180);\nu=u1+u"
"2;\nu0=imag(u); % input at  t=0;\nI=eye(size(Ac));\nsI1=I*j*(2*pi*Vac_Init(3)"
");\nsI2=I*j*0;\nx=inv(sI1-Ac)*Bc*u1 + inv(sI2-Ac)*Bc*u2;\nx0c=imag(x);\nx0d=("
"I-Ac*Ts/2)*x0c/Ts - Bc/2*u0;\nelse\nx0d=0;\nend\n\n%\nif PlotResponse==1 % Pl"
"ot frequency and step response\nfigure(1)\nsys=ss(Ad,Bd,Cd,Dd,Ts);\nf=param1("
"1):param1(3):param1(2);\nw=2*pi*f;\n[mag phase]=bode(sys,w);\nsubplot(2,1,1)"
"\nplot(f,squeeze(mag))\ntitle('Magnitude')\ngrid\nsubplot(2,1,2)\nplot(f,sque"
"eze(phase))\ntitle('Phase (degrees)')\nxlabel('Hz')\ngrid\nfigure(2)\nstep(sy"
"s)\nend\n\n"
		    MaskDisplay		    "plot(X,Y);"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "Lowpass|ta|Ts|off|[0.8 -25 60]|-0"
".4|off|[1 500 0.1]"
		    MaskTabNameString	    ",,,,,,,"
		    System {
		    Name		    "1st order\nLowpass"
		    Location		    [532, 171, 875, 330]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In"
		    Position		    [25, 53, 55, 67]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DiscreteStateSpace
		    Name		    "Discrete State-Space"
		    Position		    [105, 30, 225, 90]
		    A			    "Ad"
		    B			    "Bd"
		    C			    "Cd"
		    D			    "Dd"
		    X0			    "x0d"
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out"
		    Position		    [270, 53, 300, 67]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Discrete State-Space"
		    SrcPort		    1
		    DstBlock		    "Out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In"
		    SrcPort		    1
		    DstBlock		    "Discrete State-Space"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [95, 30, 125, 60]
		    Gain		    "ka"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out"
		    Position		    [255, 38, 285, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "1st order\nLowpass"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1st order\nLowpass"
		    SrcPort		    1
		    DstBlock		    "Out"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Saturate
		  Name			  "speed\nlimit"
		  Position		  [305, 68, 330, 92]
		  NamePlacement		  "alternate"
		  UpperLimit		  "vgmax"
		  LowerLimit		  "vgmin"
		}
		Block {
		  BlockType		  Outport
		  Name			  "gate\nopening"
		  Position		  [515, 70, 535, 90]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "position"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 50; -370, 0; 0, -45]
		    DstBlock		    "Sum4"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "gate\nopening"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "speed\nlimit"
		  SrcPort		  1
		  DstBlock		  "position"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "servo-motor"
		  SrcPort		  1
		  DstBlock		  "speed\nlimit"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  DstBlock		  "servo-motor"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "regulator's\noutput"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "turbine"
	      Ports		      [2, 1]
	      Position		      [390, 77, 450, 113]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('hydraulic\\nturbine')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"turbine"
		Location		[455, 72, 1004, 315]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "dw"
		  Position		  [35, 25, 55, 45]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "gate\nopening"
		  Position		  [35, 65, 55, 85]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [385, 140, 405, 160]
		  Orientation		  "left"
		  ShowName		  off
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn"
		  Position		  [200, 74, 275, 96]
		  ShowName		  off
		  Expr			  "(u(2)/u(1))^2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  Position		  [275, 127, 310, 163]
		  Orientation		  "left"
		  ShowName		  off
		  Gain			  "1/tw"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [130, 66, 160, 99]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [390, 63, 420, 127]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [2, 1]
		  Position		  [330, 70, 350, 90]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [330, 135, 350, 155]
		  Orientation		  "left"
		  ShowName		  off
		  Inputs		  "-+"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Gain
		  Name			  "beta"
		  Position		  [100, 22, 125, 48]
		  Gain			  "beta"
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "position"
		  Ports			  [1, 1]
		  Position		  [215, 126, 255, 164]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "po"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  UpperSaturationLimit	  "0"
		  LowerSaturationLimit	  "0"
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Gain
		  Name			  "turbine\ngain"
		  Position		  [80, 62, 105, 88]
		  Gain			  "1/(gmax-gmin)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Pm"
		  Position		  [460, 85, 480, 105]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "turbine\ngain"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gate\nopening"
		  SrcPort		  1
		  DstBlock		  "turbine\ngain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Fcn"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Fcn"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Pm"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  DstBlock		  "position"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "Sum3"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "beta"
		  SrcPort		  1
		  Points		  [180, 0; 0, 40]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "dw"
		  SrcPort		  1
		  DstBlock		  "beta"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "position"
		  SrcPort		  1
		  Points		  [0, 0; -25, 0]
		  Branch {
		    Points		    [0, -35]
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [-70, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Pm"
	      Position		      [470, 85, 490, 105]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "gate"
	      Position		      [405, 205, 425, 225]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "permanent\ndroop"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Pe"
	      SrcPort		      1
	      DstBlock		      "Sum5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Pref"
	      SrcPort		      1
	      DstBlock		      "Sum5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Discrete\nPID Controller"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "permanent\ndroop"
	      SrcPort		      1
	      Points		      [-30, 0]
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Discrete\nPID Controller"
	      SrcPort		      1
	      DstBlock		      "servo-motor"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "wref"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "we"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum5"
	      SrcPort		      1
	      Points		      [160, 0]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "servo-motor"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		DstBlock		"turbine"
		DstPort			2
	      }
	      Branch {
		Points			[0, 110]
		Branch {
		  DstBlock		  "gate"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "Switch"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "dw"
	      SrcPort		      1
	      Points		      [280, 0]
	      DstBlock		      "turbine"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "turbine"
	      SrcPort		      1
	      DstBlock		      "Pm"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Impedance Measurement"
	  Ports			  [1, 1]
	  Position		  [490, 301, 535, 369]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Impedance Measurement model"
	  MaskDescription	  "The impedance Measurement block injects a n"
"ull current in the circuit."
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Impedance Measurement"
	    Location		    [12, 414, 550, 638]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [20, 40, 40, 60]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "Ground"
	      Position		      [110, 40, 130, 60]
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [75, 40, 95, 60]
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [175, 40, 195, 60]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Ground"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "MBPSS"
	  Ports			  [1, 1]
	  Position		  [230, 306, 275, 374]
	  BackgroundColor	  "green"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "MB-PSS "
	  MaskDescription	  "This block implements a Multi-band Power Sy"
"stem Stabilizer (MB-PSS). Two operation modes are available: Detailed setting"
" and simplified setting (IEEE Std 421.5).\n\nInput (dw): Synchronous machine "
"speed deviation with respect to nominal (pu).\nOutput: stabilization voltage "
"(pu).\n\nNote:\nWhen \"Detailed settings\" is used, the low(L)-, intermediate"
"(I)- and high(H)-frequency time constants must be given in the following orde"
"r:\nTx1 to Tx12 followed by Kx11 and Kx17 (where x=L, I or H). Look under mas"
"k to see in which transfer functions these time constants are used.\n"
	  MaskPromptString	  "Mode of operation:|Global gain:|Low frequen"
"cy band: [ FL(Hz), KL ]|Intermediate frequency band: [ FI(Hz), KI ]|High freq"
"uency band: [ FH(Hz), KH ]|Low frequency gains: [ KL1, KL2, KL ]|Low frequenc"
"y  time constants (s):|Intermediate frequency gains: [ KI1, KI2, KI ]|Interme"
"diate frequency time constants (s):|High frequency gains: [ KH1, KH2, KH ]|Hi"
"gh frequency time constants (s):|Signals Limits(VLmax,VImax,VHmax,VSmax)|Plot"
" frequency response|Magnitude in dB|Frequency range (Hz):|Ts"
	  MaskStyleString	  "popup(Simplified settings|Detailed settings"
"),edit,edit,edit,edit,edit,edit,edit,edit,edit,edit,edit,checkbox,checkbox,ed"
"it,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n,on"
	  MaskCallbackString	  "parametres=get_param(gcb,'MaskValues');p1=p"
"arametres{1};p13=parametres{13};if strcmp(p1,'Detailed settings');param2='off"
"';param3='off';param4='off';param5='off';param6='on';param7='on';param8='on';"
"param9='on';param10='on';param11='on';else;param2='on';param3='on';param4='on"
"';param5='on';param6='off';param7='off';param8='off';param9='off';param10='of"
"f';param11='off';end;if strcmp(p13,'on');param14='on';param15='on';else;param"
"14='off';param15='off';end;visible={'on',param2,param3,param4,param5,param6,p"
"aram7,param8,param9,param10,param11,'on','on',param14,param15,'on'};set_param"
"(gcb,'MaskVisibilities',visible)||||||||||||parametres=get_param(gcb,'MaskVal"
"ues');p1=parametres{1};p13=parametres{13};if strcmp(p1,'Detailed settings');p"
"aram2='off';param3='off';param4='off';param5='off';param6='on';param7='on';pa"
"ram8='on';param9='on';param10='on';param11='on';else;param2='on';param3='on';"
"param4='on';param5='on';param6='off';param7='off';param8='off';param9='off';p"
"aram10='off';param11='off';end;if strcmp(p13,'on');param14='on';param15='on';"
"else;param14='off';param15='off';end;visible={'on',param2,param3,param4,param"
"5,param6,param7,param8,param9,param10,param11,'on','on',param14,param15,'on'}"
";set_param(gcb,'MaskVisibilities',visible)|||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n,on"
	  MaskVisibilityString	  "on,off,off,off,off,on,on,on,on,on,on,on,on,"
"off,off,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n,on"
	  MaskVarAliasString	  ",,,,,,,,,,,,,,,"
	  MaskVariables		  "OperationMode=@1;Kg=@2;GL=@3;GI=@4;GH=@5;GL"
"d=@6;TcLF=@7;GId=@8;TcIF=@9;GHd=@10;TcHF=@11;LIM=@12;Plot_On=@13;MagdB_On=@14"
";FreqRange=@15;Ts=@16;"
	  MaskInitialization	  "Detailed=0;\nif OperationMode==2,\nDetailed"
"=1;\nKg=1;\nKL1=GLd(1);KL2=GLd(:,2);KL=GLd(3);\nTL1=TcLF(1);TL2=TcLF(2);TL3=T"
"cLF(3);TL4=TcLF(4);\nTL5=TcLF(5);TL6=TcLF(6);TL7=TcLF(7);TL8=TcLF(8);\nTL9=Tc"
"LF(9);TL10=TcLF(10);TL11=TcLF(11);TL12=TcLF(12);\nKL11=TcLF(13);KL17=TcLF(14)"
";\nKI1=GId(1);KI2=GId(:,2);KI=GId(3);\nTI1=TcIF(1);TI2=TcIF(2);TI3=TcIF(3);TI"
"4=TcIF(4);\nTI5=TcIF(5);TI6=TcIF(6);TI7=TcIF(7);TI8=TcIF(8);\nTI9=TcIF(9);TI1"
"0=TcIF(10);TI11=TcIF(11);TI12=TcIF(12);\nKI11=TcIF(13);KI17=TcIF(14);\nKH1=GH"
"d(1);KH2=GHd(:,2);KH=GHd(3);\nTH1=TcHF(1);TH2=TcHF(2);TH3=TcHF(3);TH4=TcHF(4)"
";\nTH5=TcHF(5);TH6=TcHF(6);TH7=TcHF(7);TH8=TcHF(8);\nTH9=TcHF(9);TH10=TcHF(10"
");TH11=TcHF(11);TH12=TcHF(12);\nKH11=TcHF(13);KH17=TcHF(14);\nelse\n%\nR=1.2;"
"K=(R*R+R)/(R*R-2*R+1);KL1=K;KL2=K;KI1=K;KI2=K;KH1=K;KH2=K;\nTL2=1/(2*pi*GL(1)"
"*sqrt(R));KL=GL(2);TL1=TL2/R;TL7=TL2;TL8=TL7*R;\n%\nTI2=1/(2*pi*GI(1)*sqrt(R)"
");KI=GI(2);TI1=TI2/R;TI7=TI2;TI8=TI7*R;\nTH2=1/(2*pi*GH(1)*sqrt(R));KH=GH(2);"
"TH1=TH2/R;TH7=TH2;TH8=TH7*R;\n%\nTL3=0;TL4=0;TL5=0;TL6=0;TL9=0;TL10=0;TL11=0;"
"TL12=0;\nTI3=0;TI4=0;TI5=0;TI6=0;TI9=0;TI10=0;TI11=0;TI12=0;\nTH3=0;TH4=0;TH5"
"=0;TH6=0;TH9=0;TH10=0;TH11=0;TH12=0;\nKL11=1;KL17=1;KI11=1;KI17=1;KH11=1;KH17"
"=1;\nend\nLIM_VL=LIM(1);LIM_VI=LIM(2);LIM_VH=LIM(3);LIM_VS=LIM(4);\n%\n% LF T"
"ransfer function\nnumLF1=[TL1 KL11];\ndenLF1=[TL2 1];\nsysLF1=tf(numLF1,denLF"
"1);\nnumLF2=[TL3 1];\ndenLF2=[TL4 1];\nsysLF2=tf(numLF2,denLF2);\nnumLF3=[TL5"
" 1];\ndenLF3=[TL6 1];\nsysLF3=tf(numLF3,denLF3);\nnumLF4=[TL7 KL17];\ndenLF4="
"[TL8 1];\nsysLF4=tf(numLF4,denLF4);\nnumLF5=[TL9 1];\ndenLF5=[TL10 1];\nsysLF"
"5=tf(numLF5,denLF5);\nnumLF6=[TL11 1];\ndenLF6=[TL12 1];\nsysLF6=tf(numLF6,de"
"nLF6);\n%\nsysLF=Kg*KL*((KL1*sysLF1*sysLF2*sysLF3) - (KL2*sysLF4*sysLF5*sysLF"
"6));\n%\n%\n% IF transfer function\nnumIF1=[TI1 KI11];\ndenIF1=[TI2 1];\nsysI"
"F1=tf(numIF1,denIF1);\nnumIF2=[TI3 1];\ndenIF2=[TI4 1];\nsysIF2=tf(numIF2,den"
"IF2);\nnumIF3=[TI5 1];\ndenIF3=[TI6 1];\nsysIF3=tf(numIF3,denIF3);\nnumIF4=[T"
"I7 KI17];\ndenIF4=[TI8 1];\nsysIF4=tf(numIF4,denIF4);\nnumIF5=[TI9 1];\ndenIF"
"5=[TI10 1];\nsysIF5=tf(numIF5,denIF5);\nnumIF6=[TI11 1];\ndenIF6=[TI12 1];\ns"
"ysIF6=tf(numIF6,denIF6);\n%\nsysIF=Kg*KI*((KI1*sysIF1*sysIF2*sysIF3) - (KI2*s"
"ysIF4*sysIF5*sysIF6));\n%\n%\n% HF transfer function\nnumHF1=[TH1 KH11];\nden"
"HF1=[TH2 1];\nsysHF1=tf(numHF1,denHF1);\nnumHF2=[TH3 1];\ndenHF2=[TH4 1];\nsy"
"sHF2=tf(numHF2,denHF2);\nnumHF3=[TH5 1];\ndenHF3=[TH6 1];\nsysHF3=tf(numHF3,d"
"enHF3);\nnumHF4=[TH7 KH17];\ndenHF4=[TH8 1];\nsysHF4=tf(numHF4,denHF4);\nnumH"
"F5=[TH9 1];\ndenHF5=[TH10 1];\nsysHF5=tf(numHF5,denHF5);\nnumHF6=[TH11 1];\nd"
"enHF6=[TH12 1];\nsysHF6=tf(numHF6,denHF6);\n%\nsysHF=Kg*KH*((KH1*sysHF1*sysHF"
"2*sysHF3) - (KH2*sysHF4*sysHF5*sysHF6));\n%\n%\n% Input filter LIF\nnumLIFin="
"[1.759e-3 1];\ndenLIFin=[1.2739e-4 1.7823e-2 1];\nsysLIFin=tf(numLIFin,denLIF"
"in);\n% Input filter HF\nnumHFin=[80 0 0];\ndenHFin=[1 82 161 80];\nsysHFin=t"
"f(numHFin,denHFin);\n%\n% Global transfer function:\nsysL=sysLIFin*sysLF;\nsy"
"sI=sysLIFin*sysIF;\nsysH=sysHFin*sysHF;\nsysG=sysL+sysI + sysH;\n%\n% Plot fr"
"equency response:\nif Plot_On==1,\n    w=2*pi*FreqRange;\n    [MagL,PhaseL]=b"
"ode(sysL,w);\n    [MagI,PhaseI]=bode(sysI,w);\n    [MagH,PhaseH]=bode(sysH,w)"
";\n    [MagG,PhaseG]=bode(sysG,w);\n    subplot(2,1,1)\n     if  MagdB_On==1,"
"\n        YL= 20*log10(squeeze(MagL)) ;\n        YI= 20*log10(squeeze(MagI)) "
";\n        YH= 20*log10(squeeze(MagH)) ;\n        YG= 20*log10(squeeze(MagG))"
" ;\n         strLabel='dB';\nelse\nYL=squeeze(MagL);\nYI=squeeze(MagI);\nYH=s"
"queeze(MagH);\nYG=squeeze(MagG);\nstrLabel='pu/pu';\nend\nsemilogx(FreqRange,"
"YL,'m',FreqRange,YI,'g',FreqRange,YH,'b',FreqRange,YG,'r')\nylabel(strLabel);"
"grid;\nlegend('LF band','IF band','HF band','Global',2);\ntitle('MB-PSS Frequ"
"ency Response');\n subplot(2,1,2);\nsemilogx(FreqRange,rem(squeeze(PhaseL),36"
"0),'m',FreqRange,rem(squeeze(PhaseI),360),'g',FreqRange,rem(squeeze(PhaseH),3"
"60),'b',FreqRange,rem(squeeze(PhaseG),360),'r');\nylabel('Degrees');grid;\nxl"
"abel('Frequency (Hz)');\nend\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "Detailed settings|Kg|GL|GI|GH|GLd|TcLF|GId|"
"TcIF|GHd|TcHF|LIM|off|off|logspace(-2,2,500)|50e-6"
	  MaskTabNameString	  ",,,,,,,,,,,,,,,"
	  System {
	    Name		    "MBPSS"
	    Location		    [22, 77, 840, 635]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "dw"
	      Position		      [25, 238, 55, 252]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [485, 15, 540, 35]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Value		      "Detailed"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Discrete\nLead-Lag1"
	      Ports		      [1, 1]
	      Position		      [480, 66, 545, 114]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Discrete Lead-Lag Compensator"
	      MaskDescription	      "This block implements a discrete lead-l"
"ag compensator:\n\n         T1.s + K1\nH(s)= --------\n           T2.s + 1\n"
	      MaskPromptString	      "Coefficients values: [ T1 T2 K1 ]|Sampl"
"e time (s):"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVarAliasString      ","
	      MaskVariables	      "values=@1;Ts=@2;"
	      MaskInitialization      "numc=[values(1) values(3)];\ndenc=[valu"
"es(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete tran"
"sfer function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);"
"\nAd = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts"
";\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; e"
"nd\n"
	      MaskDisplay	      "disp('TL1.s+KL11\\n---\\nTL2.s+1')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[TL1 TL2 KL11]|Ts"
	      MaskTabNameString	      ","
	      System {
		Name			"Discrete\nLead-Lag1"
		Location		[343, 143, 692, 248]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteStateSpace
		  Name			  "Discrete State-Space"
		  Position		  [80, 27, 200, 63]
		  A			  "Ad"
		  B			  "Bd"
		  C			  "Cd"
		  D			  "Dd"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [260, 38, 290, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Discrete State-Space"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Discrete State-Space"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Discrete\nLead-Lag2"
	      Ports		      [1, 1]
	      Position		      [480, 156, 545, 204]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Discrete Lead-Lag Compensator"
	      MaskDescription	      "This block implements a discrete lead-l"
"ag compensator:\n\n         T1.s + K1\nH(s)= --------\n           T2.s + 1\n"
	      MaskPromptString	      "Coefficients values: [ T1 T2 K1 ]|Sampl"
"e time (s):"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVarAliasString      ","
	      MaskVariables	      "values=@1;Ts=@2;"
	      MaskInitialization      "numc=[values(1) values(3)];\ndenc=[valu"
"es(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete tran"
"sfer function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);"
"\nAd = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts"
";\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; e"
"nd\n"
	      MaskDisplay	      "disp('TL7.s+KL17\\n---\\nTL8.s+1')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[TL7 TL8 KL17]|Ts"
	      MaskTabNameString	      ","
	      System {
		Name			"Discrete\nLead-Lag2"
		Location		[343, 143, 692, 248]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteStateSpace
		  Name			  "Discrete State-Space"
		  Position		  [80, 27, 200, 63]
		  A			  "Ad"
		  B			  "Bd"
		  C			  "Cd"
		  D			  "Dd"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [260, 38, 290, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Discrete State-Space"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete State-Space"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Discrete\nLead-Lag3"
	      Ports		      [1, 1]
	      Position		      [480, 261, 545, 309]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Discrete Lead-Lag Compensator"
	      MaskDescription	      "This block implements a discrete lead-l"
"ag compensator:\n\n         T1.s + K1\nH(s)= --------\n           T2.s + 1\n"
	      MaskPromptString	      "Coefficients values: [ T1 T2 K1 ]|Sampl"
"e time (s):"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVarAliasString      ","
	      MaskVariables	      "values=@1;Ts=@2;"
	      MaskInitialization      "numc=[values(1) values(3)];\ndenc=[valu"
"es(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete tran"
"sfer function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);"
"\nAd = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts"
";\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; e"
"nd\n"
	      MaskDisplay	      "disp('TI1.s+KI11\\n---\\nTI2.s+1')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[TI1 TI2 KI11]|Ts"
	      MaskTabNameString	      ","
	      System {
		Name			"Discrete\nLead-Lag3"
		Location		[343, 143, 692, 248]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteStateSpace
		  Name			  "Discrete State-Space"
		  Position		  [80, 27, 200, 63]
		  A			  "Ad"
		  B			  "Bd"
		  C			  "Cd"
		  D			  "Dd"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [260, 38, 290, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Discrete State-Space"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete State-Space"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Discrete\nLead-Lag4"
	      Ports		      [1, 1]
	      Position		      [480, 351, 545, 399]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Discrete Lead-Lag Compensator"
	      MaskDescription	      "This block implements a discrete lead-l"
"ag compensator:\n\n         T1.s + K1\nH(s)= --------\n           T2.s + 1\n"
	      MaskPromptString	      "Coefficients values: [ T1 T2 K1 ]|Sampl"
"e time (s):"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVarAliasString      ","
	      MaskVariables	      "values=@1;Ts=@2;"
	      MaskInitialization      "numc=[values(1) values(3)];\ndenc=[valu"
"es(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete tran"
"sfer function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);"
"\nAd = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts"
";\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; e"
"nd\n"
	      MaskDisplay	      "disp('TI7.s+KI17\\n---\\nTI8.s+1')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[TI7 TI8 KI17]|Ts"
	      MaskTabNameString	      ","
	      System {
		Name			"Discrete\nLead-Lag4"
		Location		[343, 143, 692, 248]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteStateSpace
		  Name			  "Discrete State-Space"
		  Position		  [80, 27, 200, 63]
		  A			  "Ad"
		  B			  "Bd"
		  C			  "Cd"
		  D			  "Dd"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [260, 38, 290, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Discrete State-Space"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Discrete State-Space"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Discrete\nLead-Lag5"
	      Ports		      [1, 1]
	      Position		      [480, 451, 545, 499]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Discrete Lead-Lag Compensator"
	      MaskDescription	      "This block implements a discrete lead-l"
"ag compensator:\n\n         T1.s + K1\nH(s)= --------\n           T2.s + 1\n"
	      MaskPromptString	      "Coefficients values: [ T1 T2 K1 ]|Sampl"
"e time (s):"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVarAliasString      ","
	      MaskVariables	      "values=@1;Ts=@2;"
	      MaskInitialization      "numc=[values(1) values(3)];\ndenc=[valu"
"es(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete tran"
"sfer function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);"
"\nAd = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts"
";\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; e"
"nd\n"
	      MaskDisplay	      "disp('TH1.s+KH11\\n---\\nTH2.s+1')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[TH1 TH2 KH11]|Ts"
	      MaskTabNameString	      ","
	      System {
		Name			"Discrete\nLead-Lag5"
		Location		[343, 143, 692, 248]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteStateSpace
		  Name			  "Discrete State-Space"
		  Position		  [80, 27, 200, 63]
		  A			  "Ad"
		  B			  "Bd"
		  C			  "Cd"
		  D			  "Dd"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [260, 38, 290, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Discrete State-Space"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Discrete State-Space"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Discrete\nLead-Lag6"
	      Ports		      [1, 1]
	      Position		      [480, 541, 545, 589]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Discrete Lead-Lag Compensator"
	      MaskDescription	      "This block implements a discrete lead-l"
"ag compensator:\n\n         T1.s + K1\nH(s)= --------\n           T2.s + 1\n"
	      MaskPromptString	      "Coefficients values: [ T1 T2 K1 ]|Sampl"
"e time (s):"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVarAliasString      ","
	      MaskVariables	      "values=@1;Ts=@2;"
	      MaskInitialization      "numc=[values(1) values(3)];\ndenc=[valu"
"es(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete tran"
"sfer function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);"
"\nAd = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts"
";\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; e"
"nd\n"
	      MaskDisplay	      "disp('TH7.s+KH17\\n---\\nTH8.s+1')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[TH7 TH8 KH17]|Ts"
	      MaskTabNameString	      ","
	      System {
		Name			"Discrete\nLead-Lag6"
		Location		[343, 143, 692, 248]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteStateSpace
		  Name			  "Discrete State-Space"
		  Position		  [80, 27, 200, 63]
		  A			  "Ad"
		  B			  "Bd"
		  C			  "Cd"
		  D			  "Dd"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [260, 38, 290, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Discrete State-Space"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete State-Space"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [755, 72, 795, 118]
	      ShowName		      off
	      Gain		      "KL"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain1"
	      Position		      [760, 267, 800, 313]
	      ShowName		      off
	      Gain		      "KI"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain2"
	      Position		      [770, 457, 810, 503]
	      ShowName		      off
	      Gain		      "KH"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain3"
	      Position		      [410, 71, 460, 109]
	      ShowName		      off
	      Gain		      "KL1"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain4"
	      Position		      [410, 161, 460, 199]
	      ShowName		      off
	      Gain		      "KL2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain5"
	      Position		      [410, 266, 460, 304]
	      ShowName		      off
	      Gain		      "KI1"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain6"
	      Position		      [410, 356, 460, 394]
	      ShowName		      off
	      Gain		      "KI2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain7"
	      Position		      [410, 456, 460, 494]
	      ShowName		      off
	      Gain		      "KH1"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain8"
	      Position		      [410, 546, 460, 584]
	      ShowName		      off
	      Gain		      "KH2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain9"
	      Position		      [990, 103, 1025, 137]
	      ForegroundColor	      "red"
	      ShowName		      off
	      Gain		      "Kg"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "HF speed sensor"
	      Ports		      [1, 1]
	      Position		      [210, 513, 285, 567]
	      ForegroundColor	      "blue"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "discrete state-space model (PSB)"
	      MaskDescription	      "This block implements a discrete state-"
"space model based on the coefficients of a continuous transfer function. Coef"
"ficients must be given in descending power of s.\n"
	      MaskPromptString	      "Numerator:|Denominator:|Sample time (s)"
":"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVarAliasString      ",,"
	      MaskVariables	      "numc=@1;denc=@2;Ts=@3;"
	      MaskInitialization      "[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  "
"Conversion to discrete transfer function\nnstates = size(Ac,1);\ninvexp = inv"
"(eye(nstates) - (Ts/2)*Ac);\nAd = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = in"
"vexp*Bc;\nCd = Cc*invexp*Ts;\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n\n"
	      MaskDisplay	      "disp('Discrete\\nState-space\\nModel')"
"\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[80 0 0]|[1 82 161 80]|Ts"
	      MaskTabNameString	      ",,"
	      System {
		Name			"HF speed sensor"
		Location		[343, 143, 692, 248]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteStateSpace
		  Name			  "Discrete State-Space"
		  Position		  [80, 27, 200, 63]
		  A			  "Ad"
		  B			  "Bd"
		  C			  "Cd"
		  D			  "Dd"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [260, 38, 290, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Discrete State-Space"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "Discrete State-Space"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "LF and IF speed sensor"
	      Ports		      [1, 1]
	      Position		      [200, 118, 275, 172]
	      ForegroundColor	      "blue"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "discrete state-space model (PSB)"
	      MaskDescription	      "This block implements a discrete state-"
"space model based on the coefficients of a continuous transfer function. Coef"
"ficients must be given in descending power of s.\n"
	      MaskPromptString	      "Numerator:|Denominator:|Sample time (s)"
":"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVarAliasString      ",,"
	      MaskVariables	      "numc=@1;denc=@2;Ts=@3;"
	      MaskInitialization      "[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  "
"Conversion to discrete transfer function\nnstates = size(Ac,1);\ninvexp = inv"
"(eye(nstates) - (Ts/2)*Ac);\nAd = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = in"
"vexp*Bc;\nCd = Cc*invexp*Ts;\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n\n"
	      MaskDisplay	      "disp('Discrete\\nState-space\\nModel')"
"\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[-1.759e-3 1]|[1.2739e-4 1.7823e-2 1]|T"
"s"
	      MaskTabNameString	      ",,"
	      System {
		Name			"LF and IF speed sensor"
		Location		[343, 143, 692, 248]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteStateSpace
		  Name			  "Discrete State-Space"
		  Position		  [80, 27, 200, 63]
		  A			  "Ad"
		  B			  "Bd"
		  C			  "Cd"
		  D			  "Dd"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [260, 38, 290, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Discrete State-Space"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "Discrete State-Space"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Limiteur BF "
	      Position		      [820, 83, 850, 107]
	      ShowName		      off
	      UpperLimit	      "LIM_VL"
	      LowerLimit	      "-LIM_VL"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Limiteur HF"
	      Position		      [840, 468, 870, 492]
	      ShowName		      off
	      UpperLimit	      "LIM_VH"
	      LowerLimit	      "-LIM_VH"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Limiteur IF "
	      Position		      [820, 278, 850, 302]
	      ShowName		      off
	      UpperLimit	      "LIM_VI"
	      LowerLimit	      "-LIM_VI"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Limiteur VS"
	      Position		      [1055, 108, 1085, 132]
	      ShowName		      off
	      UpperLimit	      "LIM_VS"
	      LowerLimit	      "-LIM_VS"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [700, 56, 720, 129]
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [3, 1]
	      Position		      [940, 85, 960, 155]
	      ShowName		      off
	      Inputs		      "+++"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [700, 251, 720, 324]
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [705, 441, 725, 514]
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Transfer function\nfor detailed model\n"
"(HF)"
	      Ports		      [3, 2]
	      Position		      [600, 441, 665, 509]
	      ForegroundColor	      "magenta"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Transfer function\nfor detailed model"
"\n(HF)"
		Location		[654, 273, 1126, 686]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "On"
		  Position		  [30, 32, 60, 48]
		  ForegroundColor	  "magenta"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "HFpos "
		  Position		  [60, 98, 90, 112]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "HFneg "
		  Position		  [60, 243, 90, 257]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [300, 94, 330, 146]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [290, 239, 320, 291]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Transfer functions\nfor detailed st"
"abilizer"
		  Ports			  [1, 1, 1]
		  Position		  [165, 80, 230, 130]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Transfer functions\nfor detailed "
"stabilizer"
		    Location		    [737, 203, 1248, 392]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [80, 63, 110, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [35, 15, 55, 35]
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete\nLead-Lag1"
		    Ports		    [1, 1]
		    Position		    [170, 46, 235, 94]
		    ShowName		    off
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    MaskType		    "Discrete Lead-Lag Compensator"
		    MaskDescription	    "This block implements a discrete "
"lead-lag compensator:\n\n           T1.s + 1\nH(s)=  -------\n           T2.s"
" + 1\n"
		    MaskPromptString	    "Time constants (s): [ T1 T2 ]|Sam"
"ple time (s):"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVarAliasString	    ","
		    MaskVariables	    "values=@1;Ts=@2;"
		    MaskInitialization	    "numc=[values(1) 1];\ndenc=[values"
"(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete transf"
"er function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\n"
"Ad = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;"
"\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; en"
"d\n"
		    MaskDisplay		    "disp('TH3.s+1\\n---\\nTH4.s+1')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "[TH3 TH4]|Ts"
		    MaskTabNameString	    ","
		    System {
		    Name		    "Discrete\nLead-Lag1"
		    Location		    [343, 143, 692, 248]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DiscreteStateSpace
		    Name		    "Discrete State-Space"
		    Position		    [80, 27, 200, 63]
		    A			    "Ad"
		    B			    "Bd"
		    C			    "Cd"
		    D			    "Dd"
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [260, 38, 290, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete State-Space"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete\nLead-Lag2"
		    Ports		    [1, 1]
		    Position		    [270, 46, 335, 94]
		    ShowName		    off
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    MaskType		    "Discrete Lead-Lag Compensator"
		    MaskDescription	    "This block implements a discrete "
"lead-lag compensator:\n\n           T1.s + 1\nH(s)=  -------\n           T2.s"
" + 1\n"
		    MaskPromptString	    "Time constants (s): [ T1 T2 ]|Sam"
"ple time (s):"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVarAliasString	    ","
		    MaskVariables	    "values=@1;Ts=@2;"
		    MaskInitialization	    "numc=[values(1) 1];\ndenc=[values"
"(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete transf"
"er function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\n"
"Ad = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;"
"\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; en"
"d\n"
		    MaskDisplay		    "disp('TH5.s+1\\n---\\nTH6.s+1')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "[TH5 TH6]|Ts"
		    MaskTabNameString	    ","
		    System {
		    Name		    "Discrete\nLead-Lag2"
		    Location		    [343, 143, 692, 248]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DiscreteStateSpace
		    Name		    "Discrete State-Space"
		    Position		    [80, 27, 200, 63]
		    A			    "Ad"
		    B			    "Bd"
		    C			    "Cd"
		    D			    "Dd"
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [260, 38, 290, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Discrete State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete State-Space"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [395, 63, 425, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Discrete\nLead-Lag1"
		    SrcPort		    1
		    DstBlock		    "Discrete\nLead-Lag2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete\nLead-Lag2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete\nLead-Lag1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Transfer functions\nfor detailed st"
"abilizer1"
		  Ports			  [1, 1, 1]
		  Position		  [165, 225, 230, 275]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Transfer functions\nfor detailed "
"stabilizer1"
		    Location		    [710, 316, 1221, 505]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [80, 63, 110, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [35, 15, 55, 35]
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete\nLead-Lag1"
		    Ports		    [1, 1]
		    Position		    [170, 46, 235, 94]
		    ShowName		    off
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    MaskType		    "Discrete Lead-Lag Compensator"
		    MaskDescription	    "This block implements a discrete "
"lead-lag compensator:\n\n           T1.s + 1\nH(s)=  -------\n           T2.s"
" + 1\n"
		    MaskPromptString	    "Time constants (s): [ T1 T2 ]|Sam"
"ple time (s):"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVarAliasString	    ","
		    MaskVariables	    "values=@1;Ts=@2;"
		    MaskInitialization	    "numc=[values(1) 1];\ndenc=[values"
"(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete transf"
"er function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\n"
"Ad = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;"
"\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; en"
"d\n"
		    MaskDisplay		    "disp('TH9.s+1\\n---\\nTH10.s+1')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "[TH9 TH10]|Ts"
		    MaskTabNameString	    ","
		    System {
		    Name		    "Discrete\nLead-Lag1"
		    Location		    [343, 143, 692, 248]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DiscreteStateSpace
		    Name		    "Discrete State-Space"
		    Position		    [80, 27, 200, 63]
		    A			    "Ad"
		    B			    "Bd"
		    C			    "Cd"
		    D			    "Dd"
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [260, 38, 290, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Discrete State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete State-Space"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete\nLead-Lag2"
		    Ports		    [1, 1]
		    Position		    [270, 46, 335, 94]
		    ShowName		    off
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    MaskType		    "Discrete Lead-Lag Compensator"
		    MaskDescription	    "This block implements a discrete "
"lead-lag compensator:\n\n           T1.s + 1\nH(s)=  -------\n           T2.s"
" + 1\n"
		    MaskPromptString	    "Time constants (s): [ T1 T2 ]|Sam"
"ple time (s):"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVarAliasString	    ","
		    MaskVariables	    "values=@1;Ts=@2;"
		    MaskInitialization	    "numc=[values(1) 1];\ndenc=[values"
"(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete transf"
"er function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\n"
"Ad = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;"
"\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; en"
"d\n"
		    MaskDisplay		    "disp('TH11.s+1\\n---\\nTH12.s+1')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "[TH11 TH12]|Ts"
		    MaskTabNameString	    ","
		    System {
		    Name		    "Discrete\nLead-Lag2"
		    Location		    [343, 143, 692, 248]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DiscreteStateSpace
		    Name		    "Discrete State-Space"
		    Position		    [80, 27, 200, 63]
		    A			    "Ad"
		    B			    "Bd"
		    C			    "Cd"
		    D			    "Dd"
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [260, 38, 290, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete State-Space"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [395, 63, 425, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete\nLead-Lag1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete\nLead-Lag2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete\nLead-Lag1"
		    SrcPort		    1
		    DstBlock		    "Discrete\nLead-Lag2"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "HFpos"
		  Position		  [355, 113, 385, 127]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "LFneg"
		  Position		  [345, 258, 375, 272]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "On"
		  SrcPort		  1
		  Points		  [130, 0]
		  Branch {
		    Points		    [55, 0; 0, 80]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [-55, 0]
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer1"
		    DstPort		    enable
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		  }
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer"
		    DstPort		    enable
		  }
		}
		Line {
		  SrcBlock		  "Transfer functions\nfor detailed st"
"abilizer1"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  DstBlock		  "LFneg"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "HFneg "
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 85; 160, 0]
		    DstBlock		    "Switch2"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "HFpos"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "HFpos "
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, 65; 170, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Transfer functions\nfor detailed st"
"abilizer"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Transfer function\nfor detailed model\n"
"(IF)"
	      Ports		      [3, 2]
	      Position		      [595, 251, 660, 319]
	      ForegroundColor	      "magenta"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Transfer function\nfor detailed model"
"\n(IF)"
		Location		[681, 494, 1153, 907]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "On"
		  Position		  [30, 32, 60, 48]
		  ForegroundColor	  "magenta"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "IFpos "
		  Position		  [60, 98, 90, 112]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "IFneg "
		  Position		  [60, 243, 90, 257]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [300, 94, 330, 146]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [290, 239, 320, 291]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Transfer functions\nfor detailed st"
"abilizer"
		  Ports			  [1, 1, 1]
		  Position		  [165, 80, 230, 130]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Transfer functions\nfor detailed "
"stabilizer"
		    Location		    [737, 203, 1248, 392]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [80, 63, 110, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [35, 15, 55, 35]
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete\nLead-Lag1"
		    Ports		    [1, 1]
		    Position		    [170, 46, 235, 94]
		    ShowName		    off
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    MaskType		    "Discrete Lead-Lag Compensator"
		    MaskDescription	    "This block implements a discrete "
"lead-lag compensator:\n\n           T1.s + 1\nH(s)=  -------\n           T2.s"
" + 1\n"
		    MaskPromptString	    "Time constants (s): [ T1 T2 ]|Sam"
"ple time (s):"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVarAliasString	    ","
		    MaskVariables	    "values=@1;Ts=@2;"
		    MaskInitialization	    "numc=[values(1) 1];\ndenc=[values"
"(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete transf"
"er function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\n"
"Ad = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;"
"\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; en"
"d\n"
		    MaskDisplay		    "disp('TI3.s+1\\n---\\nTI4.s+1')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "[TI3 TI4]|Ts"
		    MaskTabNameString	    ","
		    System {
		    Name		    "Discrete\nLead-Lag1"
		    Location		    [343, 143, 692, 248]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DiscreteStateSpace
		    Name		    "Discrete State-Space"
		    Position		    [80, 27, 200, 63]
		    A			    "Ad"
		    B			    "Bd"
		    C			    "Cd"
		    D			    "Dd"
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [260, 38, 290, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Discrete State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete State-Space"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete\nLead-Lag2"
		    Ports		    [1, 1]
		    Position		    [270, 46, 335, 94]
		    ShowName		    off
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    MaskType		    "Discrete Lead-Lag Compensator"
		    MaskDescription	    "This block implements a discrete "
"lead-lag compensator:\n\n           T1.s + 1\nH(s)=  -------\n           T2.s"
" + 1\n"
		    MaskPromptString	    "Time constants (s): [ T1 T2 ]|Sam"
"ple time (s):"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVarAliasString	    ","
		    MaskVariables	    "values=@1;Ts=@2;"
		    MaskInitialization	    "numc=[values(1) 1];\ndenc=[values"
"(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete transf"
"er function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\n"
"Ad = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;"
"\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; en"
"d\n"
		    MaskDisplay		    "disp('TI5.s+1\\n---\\nTI6.s+1')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "[TI5 TI6]|Ts"
		    MaskTabNameString	    ","
		    System {
		    Name		    "Discrete\nLead-Lag2"
		    Location		    [343, 143, 692, 248]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DiscreteStateSpace
		    Name		    "Discrete State-Space"
		    Position		    [80, 27, 200, 63]
		    A			    "Ad"
		    B			    "Bd"
		    C			    "Cd"
		    D			    "Dd"
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [260, 38, 290, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete State-Space"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [395, 63, 425, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete\nLead-Lag1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete\nLead-Lag2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete\nLead-Lag1"
		    SrcPort		    1
		    DstBlock		    "Discrete\nLead-Lag2"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Transfer functions\nfor detailed st"
"abilizer1"
		  Ports			  [1, 1, 1]
		  Position		  [165, 225, 230, 275]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Transfer functions\nfor detailed "
"stabilizer1"
		    Location		    [710, 316, 1221, 505]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [80, 63, 110, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [35, 15, 55, 35]
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete\nLead-Lag1"
		    Ports		    [1, 1]
		    Position		    [170, 46, 235, 94]
		    ShowName		    off
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    MaskType		    "Discrete Lead-Lag Compensator"
		    MaskDescription	    "This block implements a discrete "
"lead-lag compensator:\n\n           T1.s + 1\nH(s)=  -------\n           T2.s"
" + 1\n"
		    MaskPromptString	    "Time constants (s): [ T1 T2 ]|Sam"
"ple time (s):"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVarAliasString	    ","
		    MaskVariables	    "values=@1;Ts=@2;"
		    MaskInitialization	    "numc=[values(1) 1];\ndenc=[values"
"(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete transf"
"er function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\n"
"Ad = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;"
"\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; en"
"d\n"
		    MaskDisplay		    "disp('TI9.s+1\\n---\\nTI10.s+1')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "[TI9 TI10]|Ts"
		    MaskTabNameString	    ","
		    System {
		    Name		    "Discrete\nLead-Lag1"
		    Location		    [343, 143, 692, 248]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DiscreteStateSpace
		    Name		    "Discrete State-Space"
		    Position		    [80, 27, 200, 63]
		    A			    "Ad"
		    B			    "Bd"
		    C			    "Cd"
		    D			    "Dd"
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [260, 38, 290, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete State-Space"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete\nLead-Lag2"
		    Ports		    [1, 1]
		    Position		    [270, 46, 335, 94]
		    ShowName		    off
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    MaskType		    "Discrete Lead-Lag Compensator"
		    MaskDescription	    "This block implements a discrete "
"lead-lag compensator:\n\n           T1.s + 1\nH(s)=  -------\n           T2.s"
" + 1\n"
		    MaskPromptString	    "Time constants (s): [ T1 T2 ]|Sam"
"ple time (s):"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVarAliasString	    ","
		    MaskVariables	    "values=@1;Ts=@2;"
		    MaskInitialization	    "numc=[values(1) 1];\ndenc=[values"
"(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete transf"
"er function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\n"
"Ad = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;"
"\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; en"
"d\n"
		    MaskDisplay		    "disp('TI11.s+1\\n---\\nTI12.s+1')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "[TI11 TI12]|Ts"
		    MaskTabNameString	    ","
		    System {
		    Name		    "Discrete\nLead-Lag2"
		    Location		    [343, 143, 692, 248]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DiscreteStateSpace
		    Name		    "Discrete State-Space"
		    Position		    [80, 27, 200, 63]
		    A			    "Ad"
		    B			    "Bd"
		    C			    "Cd"
		    D			    "Dd"
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [260, 38, 290, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Discrete State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete State-Space"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [395, 63, 425, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Discrete\nLead-Lag1"
		    SrcPort		    1
		    DstBlock		    "Discrete\nLead-Lag2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete\nLead-Lag2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete\nLead-Lag1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "IFpos"
		  Position		  [355, 113, 385, 127]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "IFneg"
		  Position		  [345, 258, 375, 272]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Transfer functions\nfor detailed st"
"abilizer"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "IFpos "
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 65; 170, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "IFpos"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "IFneg "
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, 85; 160, 0]
		    DstBlock		    "Switch2"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  DstBlock		  "IFneg"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Transfer functions\nfor detailed st"
"abilizer1"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "On"
		  SrcPort		  1
		  Points		  [130, 0]
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer"
		    DstPort		    enable
		  }
		  Branch {
		    Points		    [55, 0; 0, 80]
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [-55, 0]
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer1"
		    DstPort		    enable
		    }
		    }
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Transfer function\nfor detailed model\n"
"(LF)"
	      Ports		      [3, 2]
	      Position		      [595, 56, 660, 124]
	      ForegroundColor	      "magenta"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Transfer function\nfor detailed model"
"\n(LF)"
		Location		[681, 494, 1153, 907]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "On"
		  Position		  [30, 32, 60, 48]
		  ForegroundColor	  "magenta"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "LFpos "
		  Position		  [60, 98, 90, 112]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "LFneg "
		  Position		  [60, 243, 90, 257]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [300, 94, 330, 146]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [290, 239, 320, 291]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Transfer functions\nfor detailed st"
"abilizer"
		  Ports			  [1, 1, 1]
		  Position		  [165, 80, 230, 130]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Transfer functions\nfor detailed "
"stabilizer"
		    Location		    [737, 203, 1248, 392]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [80, 63, 110, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [35, 15, 55, 35]
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete\nLead-Lag1"
		    Ports		    [1, 1]
		    Position		    [170, 46, 235, 94]
		    ShowName		    off
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    MaskType		    "Discrete Lead-Lag Compensator"
		    MaskDescription	    "This block implements a discrete "
"lead-lag compensator:\n\n           T1.s + 1\nH(s)=  -------\n           T2.s"
" + 1\n"
		    MaskPromptString	    "Time constants (s): [ T1 T2 ]|Sam"
"ple time (s):"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVarAliasString	    ","
		    MaskVariables	    "values=@1;Ts=@2;"
		    MaskInitialization	    "numc=[values(1) 1];\ndenc=[values"
"(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete transf"
"er function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\n"
"Ad = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;"
"\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; en"
"d\n"
		    MaskDisplay		    "disp('TL3.s+1\\n---\\nTL4.s+1')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "[TL3 TL4]|Ts"
		    MaskTabNameString	    ","
		    System {
		    Name		    "Discrete\nLead-Lag1"
		    Location		    [343, 143, 692, 248]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DiscreteStateSpace
		    Name		    "Discrete State-Space"
		    Position		    [80, 27, 200, 63]
		    A			    "Ad"
		    B			    "Bd"
		    C			    "Cd"
		    D			    "Dd"
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [260, 38, 290, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete State-Space"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete\nLead-Lag2"
		    Ports		    [1, 1]
		    Position		    [270, 46, 335, 94]
		    ShowName		    off
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    MaskType		    "Discrete Lead-Lag Compensator"
		    MaskDescription	    "This block implements a discrete "
"lead-lag compensator:\n\n           T1.s + 1\nH(s)=  -------\n           T2.s"
" + 1\n"
		    MaskPromptString	    "Time constants (s): [ T1 T2 ]|Sam"
"ple time (s):"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVarAliasString	    ","
		    MaskVariables	    "values=@1;Ts=@2;"
		    MaskInitialization	    "numc=[values(1) 1];\ndenc=[values"
"(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete transf"
"er function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\n"
"Ad = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;"
"\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; en"
"d\n"
		    MaskDisplay		    "disp('TL5.s+1\\n---\\nTL6.s+1')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "[TL5 TL6]|Ts"
		    MaskTabNameString	    ","
		    System {
		    Name		    "Discrete\nLead-Lag2"
		    Location		    [343, 143, 692, 248]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DiscreteStateSpace
		    Name		    "Discrete State-Space"
		    Position		    [80, 27, 200, 63]
		    A			    "Ad"
		    B			    "Bd"
		    C			    "Cd"
		    D			    "Dd"
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [260, 38, 290, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Discrete State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete State-Space"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [395, 63, 425, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Discrete\nLead-Lag1"
		    SrcPort		    1
		    DstBlock		    "Discrete\nLead-Lag2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete\nLead-Lag2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete\nLead-Lag1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Transfer functions\nfor detailed st"
"abilizer1"
		  Ports			  [1, 1, 1]
		  Position		  [165, 225, 230, 275]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Transfer functions\nfor detailed "
"stabilizer1"
		    Location		    [710, 316, 1221, 505]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [80, 63, 110, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [35, 15, 55, 35]
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete\nLead-Lag1"
		    Ports		    [1, 1]
		    Position		    [170, 46, 235, 94]
		    ShowName		    off
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    MaskType		    "Discrete Lead-Lag Compensator"
		    MaskDescription	    "This block implements a discrete "
"lead-lag compensator:\n\n           T1.s + 1\nH(s)=  -------\n           T2.s"
" + 1\n"
		    MaskPromptString	    "Time constants (s): [ T1 T2 ]|Sam"
"ple time (s):"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVarAliasString	    ","
		    MaskVariables	    "values=@1;Ts=@2;"
		    MaskInitialization	    "numc=[values(1) 1];\ndenc=[values"
"(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete transf"
"er function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\n"
"Ad = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;"
"\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; en"
"d\n"
		    MaskDisplay		    "disp('TL9.s+1\\n---\\nTL10.s+1')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "[TL9 TL10]|Ts"
		    MaskTabNameString	    ","
		    System {
		    Name		    "Discrete\nLead-Lag1"
		    Location		    [343, 143, 692, 248]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DiscreteStateSpace
		    Name		    "Discrete State-Space"
		    Position		    [80, 27, 200, 63]
		    A			    "Ad"
		    B			    "Bd"
		    C			    "Cd"
		    D			    "Dd"
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [260, 38, 290, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Discrete State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete State-Space"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Discrete\nLead-Lag2"
		    Ports		    [1, 1]
		    Position		    [270, 46, 335, 94]
		    ShowName		    off
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    MaskType		    "Discrete Lead-Lag Compensator"
		    MaskDescription	    "This block implements a discrete "
"lead-lag compensator:\n\n           T1.s + 1\nH(s)=  -------\n           T2.s"
" + 1\n"
		    MaskPromptString	    "Time constants (s): [ T1 T2 ]|Sam"
"ple time (s):"
		    MaskStyleString	    "edit,edit"
		    MaskTunableValueString  "on,on"
		    MaskCallbackString	    "|"
		    MaskEnableString	    "on,on"
		    MaskVisibilityString    "on,on"
		    MaskToolTipString	    "on,on"
		    MaskVarAliasString	    ","
		    MaskVariables	    "values=@1;Ts=@2;"
		    MaskInitialization	    "numc=[values(1) 1];\ndenc=[values"
"(2) 1];\n[Ac,Bc,Cc,Dc]=tf2ss(numc,denc);\n%\n%  Conversion to discrete transf"
"er function\nnstates = size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\n"
"Ad = invexp*(eye(nstates) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;"
"\nDd = Cc*invexp*Bc*(Ts/2) + Dc;\n%\nif values(1)==0 & values(2)==0, Dd=1; en"
"d\n"
		    MaskDisplay		    "disp('TL11.s+1\\n---\\nTL12.s+1')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    MaskValueString	    "[TL11 TL12]|Ts"
		    MaskTabNameString	    ","
		    System {
		    Name		    "Discrete\nLead-Lag2"
		    Location		    [343, 143, 692, 248]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DiscreteStateSpace
		    Name		    "Discrete State-Space"
		    Position		    [80, 27, 200, 63]
		    A			    "Ad"
		    B			    "Bd"
		    C			    "Cd"
		    D			    "Dd"
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [260, 38, 290, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete State-Space"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [395, 63, 425, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete\nLead-Lag1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete\nLead-Lag2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete\nLead-Lag1"
		    SrcPort		    1
		    DstBlock		    "Discrete\nLead-Lag2"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "LFpos"
		  Position		  [355, 113, 385, 127]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "LFneg"
		  Position		  [345, 258, 375, 272]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "On"
		  SrcPort		  1
		  Points		  [130, 0]
		  Branch {
		    Points		    [55, 0; 0, 80]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [-55, 0]
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer1"
		    DstPort		    enable
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		  }
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer"
		    DstPort		    enable
		  }
		}
		Line {
		  SrcBlock		  "Transfer functions\nfor detailed st"
"abilizer1"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  DstBlock		  "LFneg"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "LFneg "
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 85; 160, 0]
		    DstBlock		    "Switch2"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "LFpos"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "LFpos "
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, 65; 170, 0]
		    DstBlock		    "Switch1"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Transfer functions\nfor detailed "
"stabilizer"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Transfer functions\nfor detailed st"
"abilizer"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "VS"
	      Position		      [1115, 113, 1145, 127]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Gain9"
	      SrcPort		      1
	      DstBlock		      "Limiteur VS"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [15, 0; 0, 45]
	      Branch {
		Points			[0, 195]
		Branch {
		  Points		  [0, 190]
		  DstBlock		  "Transfer function\nfor detailed mod"
"el\n(HF)"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "Transfer function\nfor detailed mod"
"el\n(IF)"
		  DstPort		  1
		}
	      }
	      Branch {
		DstBlock		"Transfer function\nfor detailed model"
"\n(LF)"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Limiteur VS"
	      SrcPort		      1
	      DstBlock		      "VS"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Gain9"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Limiteur HF"
	      SrcPort		      1
	      Points		      [20, 0; 0, -335]
	      DstBlock		      "Sum1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Limiteur IF "
	      SrcPort		      1
	      Points		      [20, 0; 0, -170]
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Limiteur BF "
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      DstBlock		      "Gain2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Transfer function\nfor detailed model\n"
"(HF)"
	      SrcPort		      2
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Transfer function\nfor detailed model\n"
"(HF)"
	      SrcPort		      1
	      DstBlock		      "Sum3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Discrete\nLead-Lag6"
	      SrcPort		      1
	      Points		      [15, 0; 0, -70]
	      DstBlock		      "Transfer function\nfor detailed model\n"
"(HF)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Discrete\nLead-Lag5"
	      SrcPort		      1
	      DstBlock		      "Transfer function\nfor detailed model\n"
"(HF)"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "Gain1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Discrete\nLead-Lag4"
	      SrcPort		      1
	      Points		      [20, 0; 0, -70]
	      DstBlock		      "Transfer function\nfor detailed model\n"
"(IF)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Discrete\nLead-Lag3"
	      SrcPort		      1
	      DstBlock		      "Transfer function\nfor detailed model\n"
"(IF)"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Transfer function\nfor detailed model\n"
"(IF)"
	      SrcPort		      2
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Transfer function\nfor detailed model\n"
"(IF)"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Discrete\nLead-Lag2"
	      SrcPort		      1
	      Points		      [15, 0; 0, -70]
	      DstBlock		      "Transfer function\nfor detailed model\n"
"(LF)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Discrete\nLead-Lag1"
	      SrcPort		      1
	      DstBlock		      "Transfer function\nfor detailed model\n"
"(LF)"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Transfer function\nfor detailed model\n"
"(LF)"
	      SrcPort		      2
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Transfer function\nfor detailed model\n"
"(LF)"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "Limiteur BF "
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain1"
	      SrcPort		      1
	      DstBlock		      "Limiteur IF "
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain2"
	      SrcPort		      1
	      DstBlock		      "Limiteur HF"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain3"
	      SrcPort		      1
	      DstBlock		      "Discrete\nLead-Lag1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain4"
	      SrcPort		      1
	      DstBlock		      "Discrete\nLead-Lag2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain5"
	      SrcPort		      1
	      DstBlock		      "Discrete\nLead-Lag3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain6"
	      SrcPort		      1
	      DstBlock		      "Discrete\nLead-Lag4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain7"
	      SrcPort		      1
	      DstBlock		      "Discrete\nLead-Lag5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain8"
	      SrcPort		      1
	      DstBlock		      "Discrete\nLead-Lag6"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "LF and IF speed sensor"
	      SrcPort		      1
	      Points		      [70, 0]
	      Branch {
		Points			[0, -55]
		DstBlock		"Gain3"
		DstPort			1
	      }
	      Branch {
		Points			[0, 35]
		Branch {
		  DstBlock		  "Gain4"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 105]
		  Branch {
		    DstBlock		    "Gain5"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 90]
		    DstBlock		    "Gain6"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Line {
	      SrcBlock		      "HF speed sensor"
	      SrcPort		      1
	      Points		      [60, 0]
	      Branch {
		Points			[0, 25]
		DstBlock		"Gain8"
		DstPort			1
	      }
	      Branch {
		Points			[0, -65]
		DstBlock		"Gain7"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "dw"
	      SrcPort		      1
	      Points		      [0, 0; 65, 0]
	      Branch {
		Points			[0, 295]
		DstBlock		"HF speed sensor"
		DstPort			1
	      }
	      Branch {
		Points			[0, -100]
		DstBlock		"LF and IF speed sensor"
		DstPort			1
	      }
	    }
	    Annotation {
	      Name		      "(for simplified\nsettings only)"
	      Position		      [1009, 156]
	      ForegroundColor	      "red"
	    }
	    Annotation {
	      Name		      "               Low and intermediate spe"
"ed deviation is based on the internal voltage phasors while \nthe high freque"
"ncy speed deviation  is based on the electrical power."
	      Position		      [250, 653]
	      ForegroundColor	      "blue"
	    }
	    Annotation {
	      Name		      "Note: Speed deviation is derived from t"
"he machine positive-sequence  terminal voltages and currents."
	      Position		      [270, 633]
	      ForegroundColor	      "blue"
	    }
	    Annotation {
	      Name		      "(IEEE Type PSS4b)"
	      Position		      [166, 43]
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Discrete Multi-band Power System Stabil"
"izer"
	      Position		      [171, 23]
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Innocent Kamwa, Robert Grondin\nIREQ, H"
"ydro-Quebec"
	      Position		      [161, 73]
	      FontSize		      12
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "PM_synchronous_machine"
	  Ports			  [2, 2]
	  Position		  [230, 12, 275, 83]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "PM Synchronous Machine Model"
	  MaskDescription	  "Implements a 3-phase permanent magnet synch"
"ronous machine with sinusoidal flux distribution. The machine is modelled in "
"the qd rotor reference frame. Stator windings are connected in wye to an inte"
"rnal neutral point.\n\nFirst 3 inputs: Machine terminals =  phases a, b and c"
"\n4th input:  Simulink signal = mechanical torque (N.m)\n                   ("
">0 for motor mode,<0 for generator mode)\n\noutput: Simulink measurement outp"
"ut = vector (10x1) containing\n             (all currents flowing into machin"
"e): \n  1-3 : Stator line currents ia, ib, ic (A)\n  4-5 : Stator currents iq"
", id (A)\n  6-7 : Stator voltages vq, vd (V)\n  8     : Rotor electrical spee"
"d we (rad/s)\n  9     : Rotor electrical angle theta (deg)\n  10   : Electrom"
"agnetic torque Te (N.m)"
	  MaskPromptString	  "Resistance R(ohm):|Inductances [ Ld(H) Lq(H"
") ]:|Flux induced by magnets (Wb):|Inertia, friction factor and pairs of pole"
"s [ J(kg.m^2)  F(N.m.s)  p() ]:|Sample Time (s):"
	  MaskStyleString	  "edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on"
	  MaskCallbackString	  "||||"
	  MaskEnableString	  "on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on"
	  MaskVarAliasString	  ",,,,"
	  MaskVariables		  "R=@1;L=@2;lam=@3;mec=@4;Ts=@5;"
	  MaskInitialization	  "Ld=L(1);Lq=L(2);J=mec(1);F=mec(2);p=mec(3);"
"sqrt3=sqrt(3);one_third=1/3;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0.6|[ 1.4e-3, 2.8e-3]|0.1|[ 1.1e-3, 1.4e-3,"
"  4 ]|1"
	  MaskTabNameString	  ",,,,"
	  System {
	    Name		    "PM_synchronous_machine"
	    Location		    [128, 290, 584, 564]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [15, 40, 35, 60]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "Tm"
	      Position		      [15, 190, 35, 210]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [4, 1]
	      Position		      [285, 135, 320, 230]
	      ShowName		      off
	      Inputs		      "[3,2,2,3]"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector"
	      Ports		      [1, 1]
	      Position		      [310, 54, 350, 86]
	      Elements		      "1:2"
	      InputPortWidth	      "3"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "abc2qd"
	      Ports		      [2, 2]
	      Position		      [55, 34, 110, 96]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		2
		Name			"vqd"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"abc2qd"
		Location		[234, 543, 851, 730]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vab,Vbc"
		  Position		  [15, 48, 45, 62]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "the"
		  Position		  [15, 78, 45, 92]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  ElementaryMath
		  Name			  "Elementary\nMath"
		  Ports			  [1, 1]
		  Position		  [80, 78, 110, 92]
		  ShowName		  off
		}
		Block {
		  BlockType		  ElementaryMath
		  Name			  "Elementary\nMath1"
		  Ports			  [1, 1]
		  Position		  [80, 102, 110, 118]
		  ShowName		  off
		  Operator		  "cos"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn2"
		  Position		  [240, 48, 485, 72]
		  ShowName		  off
		  Expr			  "(u[4]*(2*u[1]+u[2]) + (sqrt3*u[2]*u"
"[3])) * one_third"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn3"
		  Position		  [240, 82, 485, 108]
		  ShowName		  off
		  Expr			  "(u[3]*(2*u[1]+u[2]) + (-sqrt3*u[2]*"
"u[4])) * one_third"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [180, 32, 210, 123]
		  ShowName		  off
		  Inputs		  "[ 2 2 ]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [505, 42, 535, 113]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [130, 74, 155, 121]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Outport
		  Name			  "s,c"
		  Position		  [555, 18, 585, 32]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "vq,vd"
		  Position		  [555, 73, 585, 87]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "Fcn2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 15]
		    DstBlock		    "Fcn3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -75]
		    DstBlock		    "s,c"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Fcn2"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Fcn3"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "vq,vd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vab,Vbc"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Elementary\nMath"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Elementary\nMath1"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "the"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Elementary\nMath"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 25]
		    DstBlock		    "Elementary\nMath1"
		    DstPort		    1
		  }
		}
		Annotation {
		  Name			  "This subsystem converts Vab and Vbc"
" to Vd,Vq. The sine and cosine com-\nputed here are sent to the inverse trans"
"formation subsystem dq2abc.        "
		  Position		  [267, 142]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "iq,id"
	      Ports		      [2, 1]
	      Position		      [140, 71, 180, 109]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		1
		Name			"iqd"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"iq,id"
		Location		[550, 166, 885, 372]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "vq,vd"
		  Position		  [15, 38, 45, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "we"
		  Position		  [15, 118, 45, 132]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [65, 14, 100, 76]
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [215, 68, 245, 117]
		  Inputs		  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "id"
		  Ports			  [3, 1]
		  Position		  [140, 98, 185, 152]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "id"
		    Location		    [313, 689, 688, 886]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "iq"
		    Position		    [40, 148, 70, 162]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "we"
		    Position		    [15, 128, 45, 142]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "vd"
		    Position		    [25, 93, 55, 107]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1/Ld"
		    Position		    [145, 90, 165, 110]
		    Gain		    "1/Ld"
		    }
		    Block {
		    BlockType		    DiscreteIntegrator
		    Name		    "Discrete-Time\nIntegrator"
		    Ports		    [1, 1]
		    Position		    [250, 88, 270, 112]
		    ShowName		    off
		    IntegratorMethod	    "Integration: Forward Euler"
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    SampleTime		    "Ts"
		    SaturateOnIntegerOverflow on
		    ICPrevOutput	    "DiscIntNeverNeededParam"
		    ICPrevScaledInput	    "DiscIntNeverNeededParam"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Lq/Ld"
		    Position		    [145, 135, 165, 155]
		    Gain		    "Lq/Ld"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [95, 124, 120, 166]
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "R/Ld"
		    Position		    [145, 50, 165, 70]
		    Gain		    "R/Ld"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [3, 1]
		    Position		    [210, 82, 230, 118]
		    Inputs		    "-++"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "id"
		    Position		    [320, 93, 350, 107]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "iq"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "we"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vd"
		    SrcPort		    1
		    DstBlock		    "1/Ld"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete-Time\nIntegrator"
		    SrcPort		    1
		    Points		    [0, 0; 0, 0; 0, 0; 25, 0; 0, 0]
		    Branch {
		    DstBlock		    "id"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -70; -180, 0; 0, 30]
		    DstBlock		    "R/Ld"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Lq/Ld"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Discrete-Time\nIntegrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Lq/Ld"
		    SrcPort		    1
		    Points		    [10, 0; 0, -35]
		    DstBlock		    "Sum"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "R/Ld"
		    SrcPort		    1
		    Points		    [10, 0; 0, 30]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1/Ld"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "iq"
		  Ports			  [3, 1]
		  Position		  [140, 23, 185, 77]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "iq"
		    Location		    [267, 336, 688, 609]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "vq"
		    Position		    [25, 178, 55, 192]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "we"
		    Position		    [25, 83, 55, 97]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "id"
		    Position		    [20, 38, 50, 52]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1/Lq"
		    Position		    [150, 175, 170, 195]
		    Gain		    "1/Lq"
		    }
		    Block {
		    BlockType		    DiscreteIntegrator
		    Name		    "Discrete-Time\nIntegrator"
		    Ports		    [1, 1]
		    Position		    [265, 93, 285, 117]
		    ShowName		    off
		    IntegratorMethod	    "Integration: Forward Euler"
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    SampleTime		    "Ts"
		    SaturateOnIntegerOverflow on
		    ICPrevOutput	    "DiscIntNeverNeededParam"
		    ICPrevScaledInput	    "DiscIntNeverNeededParam"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Ld/Lq"
		    Position		    [155, 75, 175, 95]
		    Gain		    "Ld/Lq"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [90, 75, 115, 95]
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "R/Lq"
		    Position		    [155, 40, 175, 60]
		    Gain		    "R/Lq"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [4, 1]
		    Position		    [225, 82, 245, 128]
		    Inputs		    "---+"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "lam/Lq"
		    Position		    [155, 125, 175, 145]
		    Gain		    "lam/Lq"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "iq"
		    Position		    [310, 98, 340, 112]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Discrete-Time\nIntegrator"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "iq"
		    DstPort		    1
		    }
		    Branch {
		    Points		    "[0, 0; 0, 0; 0, -75; -90, 0; -85,"
" 0; 0, 20]"
		    DstBlock		    "R/Lq"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "we"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "lam/Lq"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "vq"
		    SrcPort		    1
		    DstBlock		    "1/Lq"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "id"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1/Lq"
		    SrcPort		    1
		    Points		    [30, 0; 0, -65]
		    DstBlock		    "Sum1"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Ld/Lq"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Discrete-Time\nIntegrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "lam/Lq"
		    SrcPort		    1
		    Points		    [15, 0; 0, -25]
		    DstBlock		    "Sum1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Ld/Lq"
		    SrcPort		    1
		    Points		    [15, 0; 0, 15]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "R/Lq"
		    SrcPort		    1
		    Points		    [25, 0; 0, 40]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "iq,id"
		  Position		  [265, 88, 295, 102]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "we"
		  SrcPort		  1
		  Points		  [70, 0]
		  Branch {
		    Points		    [0, -75]
		    DstBlock		    "iq"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "id"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "id"
		  SrcPort		  1
		  Points		  [5, 0; 0, -20]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -15; -70, 0]
		    DstBlock		    "iq"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "iq"
		  SrcPort		  1
		  Points		  [0, 30]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 15; -65, 0]
		    DstBlock		    "id"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [10, 0; 0, 85]
		  DstBlock		  "id"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "iq"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vq,vd"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "iq,id"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "mec"
	      Ports		      [2, 3]
	      Position		      [140, 131, 205, 179]
	      Orientation	      "left"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		3
		Name			"w,th,Te"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"mec"
		Location		[104, 199, 593, 361]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Tm"
		  Position		  [15, 30, 35, 50]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "iq,id"
		  Position		  [15, 110, 35, 130]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [1, 1]
		  Position		  [200, 48, 220, 72]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator1"
		  Ports			  [1, 1]
		  Position		  [290, 48, 310, 72]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [240, 47, 265, 73]
		  ShowName		  off
		  Gain			  "p"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [330, 86, 360, 114]
		  ShowName		  off
		  Gain			  "1/p"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  Position		  [155, 46, 185, 74]
		  ShowName		  off
		  Gain			  "1/J"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  Position		  [70, 70, 90, 90]
		  ShowName		  off
		  Gain			  "F"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [3, 1]
		  Position		  [395, 73, 425, 127]
		  ShowName		  off
		  Inputs		  "3"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [115, 33, 135, 87]
		  ShowName		  off
		  Inputs		  "-+-"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Te"
		  Position		  [55, 109, 235, 131]
		  Expr			  "1.5*p*(lam*u(1)+(Ld-Lq)*u(1)*u(2))"
		}
		Block {
		  BlockType		  Outport
		  Name			  "we"
		  Position		  [445, 15, 465, 35]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "the"
		  Position		  [445, 50, 465, 70]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "w,th,Te"
		  Position		  [445, 90, 465, 110]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Gain1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "the"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "iq,id"
		  SrcPort		  1
		  DstBlock		  "Te"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -35]
		    DstBlock		    "we"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Discrete-Time\nIntegrator1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, 20]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 15; -170, 0]
		    DstBlock		    "Gain3"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 0; -5, 0]
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tm"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Te"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, -20; -190, 0; 0, -40]
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "w,th,Te"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  3
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "qd2abc"
	      Ports		      [2, 1]
	      Position		      [235, 30, 270, 110]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		1
		Name			"isabc"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"qd2abc"
		Location		[309, 543, 827, 698]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "s,c"
		  Position		  [20, 30, 40, 50]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "iq,id"
		  Position		  [20, 85, 40, 105]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn"
		  Position		  [110, 22, 365, 48]
		  ShowName		  off
		  Expr			  "u[3]*u[2] + u[4]*u[1] "
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn1"
		  Position		  [110, 56, 365, 84]
		  ShowName		  off
		  Expr			  "(u[2]*(-u[3]-sqrt3*u[4]) + u[1]*(sq"
"rt3*u[3]-u[4]))*0.5"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [60, 13, 90, 122]
		  ShowName		  off
		  Inputs		  "[2,2]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [3, 1]
		  Position		  [410, 15, 440, 125]
		  ShowName		  off
		  Inputs		  "3"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [369, 90, 391, 100]
		  Orientation		  "down"
		  ShowName		  off
		  Inputs		  "--"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Outport
		  Name			  "is"
		  Position		  [465, 60, 485, 80]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Fcn"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Fcn1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "s,c"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "iq,id"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Fcn"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Fcn1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "is"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [385, 60, 405, 80]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [385, 175, 405, 195]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "mec"
	      SrcPort		      2
	      Points		      [-95, 0]
	      DstBlock		      "abc2qd"
	      DstPort		      2
	    }
	    Line {
	      Name		      "w,th,Te"
	      Labels		      [-1, 1]
	      SrcBlock		      "mec"
	      SrcPort		      3
	      Points		      [-15, 0; 0, 50]
	      DstBlock		      "Mux"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "Tm"
	      SrcPort		      1
	      Points		      [190, 0; 0, -55]
	      DstBlock		      "mec"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "mec"
	      SrcPort		      1
	      Points		      [-10, 0]
	      DstBlock		      "iq,id"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      Name		      "vqd"
	      SrcBlock		      "abc2qd"
	      SrcPort		      2
	      Points		      [0, 0]
	      Branch {
		Labels			[-1, 1]
		Points			[0, 115]
		DstBlock		"Mux"
		DstPort			3
	      }
	      Branch {
		DstBlock		"iq,id"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "abc2qd"
	      SrcPort		      1
	      DstBlock		      "qd2abc"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "abc2qd"
	      DstPort		      1
	    }
	    Line {
	      Name		      "iqd"
	      SrcBlock		      "iq,id"
	      SrcPort		      1
	      Points		      [35, 0; 0, 0]
	      Branch {
		Points			[0, 80]
		Branch {
		  Labels		  [-1, 1]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Branch {
		  DstBlock		  "mec"
		  DstPort		  2
		}
	      }
	      Branch {
		DstBlock		"qd2abc"
		DstPort			2
	      }
	    }
	    Line {
	      Name		      "isabc"
	      SrcBlock		      "qd2abc"
	      SrcPort		      1
	      Points		      [0, 0]
	      Branch {
		Points			[0, 55; -40, 0; 0, 20]
		DstBlock		"Mux"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Selector"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Selector"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "PSS"
	  Ports			  [1, 1]
	  Position		  [360, 306, 405, 374]
	  BackgroundColor	  "green"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Generic PSS"
	  MaskDescription	  "This block implements a generic Power Syste"
"m Stabilizer (PSS). \n\nInput (In): Synchronous machine speed deviation with "
"respect to nominal (dw in pu) or acceleration power (Pa=Pm-Pe in pu).\nOutput"
" (VS): stabilization voltage (pu).\n\nLook under mask to see how the various "
"transfer functions are connected.\n\n"
	  MaskPromptString	  "Sensor time constant:|Gain:|Wash-out time c"
"onstant:|Lead-lag #1 time constants: [ Tnum Tden ]|Leag-lag #2 time constants"
": [ Tnum Tden ]|Output limits: [ VSmin VSmax ]|Initial input:|Plot frequency "
"response|Magnitude in dB|Frequency range (Hz):|Ts"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,edit,checkbox"
",checkbox,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "|||||||parametres=get_param(gcb,'MaskValues"
"');p8=parametres{8};if strcmp(p8,'on');param9='on';param10='on';else;param9='"
"off';param10='off';end;visible={'on','on','on','on','on','on','on','on',param"
"9,param10,'on'};set_param(gcb,'MaskVisibilities',visible)|||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,off,off,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,,,"
	  MaskVariables		  "Tsensor=@1;K=@2;Twashout=@3;Tleadlag1=@4;Tl"
"eadlag2=@5;VSlimits=@6;Vinit=@7;Plot_On=@8;MagdB_On=@9;FreqRange=@10;Ts=@11;"
	  MaskInitialization	  "\nT1n=Tleadlag1(1);\nT1d=Tleadlag1(2);\nT2n"
"=Tleadlag2(1);\nT2d=Tleadlag2(2);\n%\nif Plot_On==1,\n% Compute global system"
" (sysG):\nnumS=[1];\ndenS=[Tsensor 1];\nsysS=tf(numS,denS);\nnumW=[Twashout 0"
"];\ndenW=[Twashout 1];\nsysW=tf(numW,denW);\nnumL1=[T1n 1];\ndenL1=[T1d 1];\n"
"sysL1=tf(numL1,denL1);\nnumL2=[T2n 1];\ndenL2=[T2d 1];\nsysL2=tf(numL2,denL2)"
";\nsysG=sysS*K*sysW*sysL1*sysL2;\n%\n% Plot response:\nw=2*pi*FreqRange;\n[Ma"
"g,Pha]=bode(sysG,w);\nsubplot(2,1,1)\nif  MagdB_On==1,\nY= 20*log10(squeeze(M"
"ag)) ;\nstrLabel='dB';\nelse\nY=squeeze(Mag);\nstrLabel='pu/pu';\nend\n%\nsem"
"ilogx(FreqRange,Y)\nylabel(strLabel);grid;\ntitle('PSS Frequency Response');"
"\nsubplot(2,1,2);\nsemilogx(FreqRange,rem(squeeze(Pha),360))\nylabel('Degrees"
"');grid;\nxlabel('Frequency (Hz)');\nend\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "Tsensor|K|Twashout|Tleadlag1|Tleadlag2|VSli"
"mits|Vinit|off|on|logspace(-2,2,500)|50e-6"
	  MaskTabNameString	  ",,,,,,,,,,"
	  System {
	    Name		    "PSS"
	    Location		    [14, 99, 907, 445]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "In"
	      Position		      [40, 118, 70, 132]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Lead-Lag #1"
	      Ports		      [1, 1]
	      Position		      [425, 97, 480, 153]
	      AncestorBlock	      "powerlib_extras/Discrete \nControl Bloc"
"ks/Discrete\nLead-Lag"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Discrete Lead-Lag Controller"
	      MaskDescription	      "This block implements a discrete lead-l"
"ag controller:\n\n         1+T1s\nH(s)= ------\n         1+T2s\n\nStates are "
"initialized according to initial input anf output value so that simulation st"
"arts in steady state."
	      MaskPromptString	      "Time constant T1 (s):|Time constant T2 "
"(s):|Initial input and output:|Sample time (s):"
	      MaskStyleString	      "edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on"
	      MaskCallbackString      "|||"
	      MaskEnableString	      "on,on,on,on"
	      MaskVisibilityString    "on,on,on,on"
	      MaskToolTipString	      "on,on,on,on"
	      MaskVarAliasString      ",,,"
	      MaskVariables	      "T1=@1;T2=@2;V_Init=@3;Ts=@4;"
	      MaskInitialization      "numc=[T1 1];\ndenc=[T2 1];\n[Ac,Bc,Cc,D"
"c]=tf2ss(numc,denc);\n\n%  Conversion to discrete transfer function\nnstates "
"= size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\nAd = invexp*(eye(nsta"
"tes) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;\nDd = Cc*invexp*Bc*(T"
"s/2) + Dc;\n%\n% Compute Initial states\nI=eye(size(Ac));\nx0c=inv(-Ac)*Bc*V_"
"Init;\nx0d=(I-Ac*Ts/2)*x0c/Ts - Bc/2*V_Init;\n\nif T1==0 & T2==0, Dd=1; end\n"
	      MaskDisplay	      "disp('1+T1s\\n---\\n1+T2s')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "T1n|T1d|0|Ts"
	      MaskTabNameString	      ",,,"
	      System {
		Name			"Lead-Lag #1"
		Location		[343, 143, 692, 248]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteStateSpace
		  Name			  "Discrete State-Space"
		  Position		  [80, 27, 200, 63]
		  A			  "Ad"
		  B			  "Bd"
		  C			  "Cd"
		  D			  "Dd"
		  X0			  "x0d"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [260, 38, 290, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Discrete State-Space"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Discrete State-Space"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Lead-Lag #2"
	      Ports		      [1, 1]
	      Position		      [540, 97, 595, 153]
	      AncestorBlock	      "powerlib_extras/Discrete \nControl Bloc"
"ks/Discrete\nLead-Lag"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Discrete Lead-Lag Controller"
	      MaskDescription	      "This block implements a discrete lead-l"
"ag controller:\n\n         1+T1s\nH(s)= ------\n         1+T2s\n\nStates are "
"initialized according to initial input anf output value so that simulation st"
"arts in steady state."
	      MaskPromptString	      "Time constant T1 (s):|Time constant T2 "
"(s):|Initial input and output:|Sample time (s):"
	      MaskStyleString	      "edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on"
	      MaskCallbackString      "|||"
	      MaskEnableString	      "on,on,on,on"
	      MaskVisibilityString    "on,on,on,on"
	      MaskToolTipString	      "on,on,on,on"
	      MaskVarAliasString      ",,,"
	      MaskVariables	      "T1=@1;T2=@2;V_Init=@3;Ts=@4;"
	      MaskInitialization      "numc=[T1 1];\ndenc=[T2 1];\n[Ac,Bc,Cc,D"
"c]=tf2ss(numc,denc);\n\n%  Conversion to discrete transfer function\nnstates "
"= size(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\nAd = invexp*(eye(nsta"
"tes) + (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;\nDd = Cc*invexp*Bc*(T"
"s/2) + Dc;\n%\n% Compute Initial states\nI=eye(size(Ac));\nx0c=inv(-Ac)*Bc*V_"
"Init;\nx0d=(I-Ac*Ts/2)*x0c/Ts - Bc/2*V_Init;\n\nif T1==0 & T2==0, Dd=1; end\n"
	      MaskDisplay	      "disp('1+T1s\\n---\\n1+T2s')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "T2n|T2d|0|Ts"
	      MaskTabNameString	      ",,,"
	      System {
		Name			"Lead-Lag #2"
		Location		[343, 143, 692, 248]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [25, 38, 55, 52]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteStateSpace
		  Name			  "Discrete State-Space"
		  Position		  [80, 27, 200, 63]
		  A			  "Ad"
		  B			  "Bd"
		  C			  "Cd"
		  D			  "Dd"
		  X0			  "x0d"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [260, 38, 290, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Discrete State-Space"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  DstBlock		  "Discrete State-Space"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Limiter "
	      Position		      [680, 113, 710, 137]
	      UpperLimit	      "VSlimits(2)"
	      LowerLimit	      "VSlimits(1)"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Overall\nGain"
	      Position		      [220, 103, 270, 147]
	      Gain		      "K"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Sensor "
	      Ports		      [1, 1]
	      Position		      [115, 103, 160, 147]
	      AncestorBlock	      "powerlib_extras/Discrete \nControl Bloc"
"ks/Discrete\n1st-Order\nDiscrete Filter"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Discrete 1st-Order Filter"
	      MaskPromptString	      "Filter Type:|Time constant (s):|Sample "
"time:|Initialize filter states|AC initial input: [ Mag  Phase(degrees)  Freq("
"Hz) ]|DC Initial input:|Plot filter response|Frequency range(Hz) : [Start  En"
"d  Inc.]"
	      MaskStyleString	      "popup(Lowpass|Highpass),edit,edit,check"
"box,edit,edit,checkbox,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on,on"
	      MaskCallbackString      "|||p4=get_param(gcb,'Initialize');if st"
"rcmp(p4,'on');visible={'on','on','on','on','on','on','on',get_param(gcb,'Plot"
"Response')};else;visible={'on','on','on','on','off','off','on',get_param(gcb,"
"'PlotResponse')};end;set_param(gcb,'MaskVisibilities',visible)|||p7=get_param"
"(gcb,'PlotResponse');if strcmp(p7,'on');visible={'on','on','on','on',get_para"
"m(gcb,'Initialize'),get_param(gcb,'Initialize'),'on','on'};else;visible={'on'"
",'on','on','on',get_param(gcb,'Initialize'),get_param(gcb,'Initialize'),'on',"
"'off'};end;set_param(gcb,'MaskVisibilities',visible)|"
	      MaskEnableString	      "on,on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,off,off,on,off"
	      MaskToolTipString	      "on,on,on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,,,"
	      MaskVariables	      "FilterType=@1;Tc=@2;Ts=@3;Initialize=@4"
";Vac_Init=@5;Vdc_Init=@6;PlotResponse=@7;param1=@8;"
	      MaskInitialization      "switch FilterType\ncase 1, % Lowpass\n "
"      X=[0 1 2 3 4];\n       Y=[-2 -2 -3 -4 -4];\n       numc=1;\n       denc"
"=[Tc 1];\n case 2,   % Highpass\n       X=[0 1 2 3 4];\n       Y=[-4 -4 -3 -2"
" -2];\n        numc=[1 0];\n        denc=[1 1/Tc];\nend\n%\n[Ac,Bc,Cc,Dc]=tf2"
"ss(numc,denc);\n%\n%  Conversion to discrete transfer function\nnstates = siz"
"e(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\nAd = invexp*(eye(nstates) "
"+ (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;\nDd = Cc*invexp*Bc*(Ts/2) "
"+ Dc;\n%\nif Initialize==1  % Compute initial conditions on states\nu1=Vac_In"
"it(1)*exp(j*Vac_Init(2)*pi/180);\nu2=Vdc_Init*exp(j*90*pi/180);\nu=u1+u2;\nu0"
"=imag(u); % input at  t=0;\nI=eye(size(Ac));\nsI1=I*j*(2*pi*Vac_Init(3));\nsI"
"2=I*j*0;\nx=inv(sI1-Ac)*Bc*u1 + inv(sI2-Ac)*Bc*u2;\nx0c=imag(x);\nx0d=(I-Ac*T"
"s/2)*x0c/Ts - Bc/2*u0;\nelse\nx0d=0;\nend\n\n%\nif PlotResponse==1 % Plot fre"
"quency and step response\nfigure(1)\nsys=ss(Ad,Bd,Cd,Dd,Ts);\nf=param1(1):par"
"am1(3):param1(2);\nw=2*pi*f;\n[mag phase]=bode(sys,w);\nsubplot(2,1,1)\nplot("
"f,squeeze(mag))\ntitle('Magnitude')\ngrid\nsubplot(2,1,2)\nplot(f,squeeze(pha"
"se))\ntitle('Phase (degrees)')\nxlabel('Hz')\ngrid\nfigure(2)\nstep(sys)\nend"
"\n\n"
	      MaskDisplay	      "plot(X,Y);"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Lowpass|Tsensor|Ts|on|[0 0 60]|Vinit|of"
"f|[1 500 0.1]"
	      MaskTabNameString	      ",,,,,,,"
	      System {
		Name			"Sensor "
		Location		[532, 171, 875, 330]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [25, 53, 55, 67]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteStateSpace
		  Name			  "Discrete State-Space"
		  Position		  [105, 30, 225, 90]
		  A			  "Ad"
		  B			  "Bd"
		  C			  "Cd"
		  D			  "Dd"
		  X0			  "x0d"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [270, 53, 300, 67]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Discrete State-Space"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "Discrete State-Space"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Wash-out "
	      Ports		      [1, 1]
	      Position		      [315, 103, 360, 147]
	      AncestorBlock	      "powerlib_extras/Discrete \nControl Bloc"
"ks/Discrete\n1st-Order\nDiscrete Filter"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Discrete 1st-Order Filter"
	      MaskPromptString	      "Filter Type:|Time constant (s):|Sample "
"time:|Initialize filter states|AC initial input: [ Mag  Phase(degrees)  Freq("
"Hz) ]|DC Initial input:|Plot filter response|Frequency range(Hz) : [Start  En"
"d  Inc.]"
	      MaskStyleString	      "popup(Lowpass|Highpass),edit,edit,check"
"box,edit,edit,checkbox,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on,on"
	      MaskCallbackString      "|||p4=get_param(gcb,'Initialize');if st"
"rcmp(p4,'on');visible={'on','on','on','on','on','on','on',get_param(gcb,'Plot"
"Response')};else;visible={'on','on','on','on','off','off','on',get_param(gcb,"
"'PlotResponse')};end;set_param(gcb,'MaskVisibilities',visible)|||p7=get_param"
"(gcb,'PlotResponse');if strcmp(p7,'on');visible={'on','on','on','on',get_para"
"m(gcb,'Initialize'),get_param(gcb,'Initialize'),'on','on'};else;visible={'on'"
",'on','on','on',get_param(gcb,'Initialize'),get_param(gcb,'Initialize'),'on',"
"'off'};end;set_param(gcb,'MaskVisibilities',visible)|"
	      MaskEnableString	      "on,on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,off,off,on,off"
	      MaskToolTipString	      "on,on,on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,,,"
	      MaskVariables	      "FilterType=@1;Tc=@2;Ts=@3;Initialize=@4"
";Vac_Init=@5;Vdc_Init=@6;PlotResponse=@7;param1=@8;"
	      MaskInitialization      "switch FilterType\ncase 1, % Lowpass\n "
"      X=[0 1 2 3 4];\n       Y=[-2 -2 -3 -4 -4];\n       numc=1;\n       denc"
"=[Tc 1];\n case 2,   % Highpass\n       X=[0 1 2 3 4];\n       Y=[-4 -4 -3 -2"
" -2];\n        numc=[1 0];\n        denc=[1 1/Tc];\nend\n%\n[Ac,Bc,Cc,Dc]=tf2"
"ss(numc,denc);\n%\n%  Conversion to discrete transfer function\nnstates = siz"
"e(Ac,1);\ninvexp = inv(eye(nstates) - (Ts/2)*Ac);\nAd = invexp*(eye(nstates) "
"+ (Ts/2)*Ac);\nBd = invexp*Bc;\nCd = Cc*invexp*Ts;\nDd = Cc*invexp*Bc*(Ts/2) "
"+ Dc;\n%\nif Initialize==1  % Compute initial conditions on states\nu1=Vac_In"
"it(1)*exp(j*Vac_Init(2)*pi/180);\nu2=Vdc_Init*exp(j*90*pi/180);\nu=u1+u2;\nu0"
"=imag(u); % input at  t=0;\nI=eye(size(Ac));\nsI1=I*j*(2*pi*Vac_Init(3));\nsI"
"2=I*j*0;\nx=inv(sI1-Ac)*Bc*u1 + inv(sI2-Ac)*Bc*u2;\nx0c=imag(x);\nx0d=(I-Ac*T"
"s/2)*x0c/Ts - Bc/2*u0;\nelse\nx0d=0;\nend\n\n%\nif PlotResponse==1 % Plot fre"
"quency and step response\nfigure(1)\nsys=ss(Ad,Bd,Cd,Dd,Ts);\nf=param1(1):par"
"am1(3):param1(2);\nw=2*pi*f;\n[mag phase]=bode(sys,w);\nsubplot(2,1,1)\nplot("
"f,squeeze(mag))\ntitle('Magnitude')\ngrid\nsubplot(2,1,2)\nplot(f,squeeze(pha"
"se))\ntitle('Phase (degrees)')\nxlabel('Hz')\ngrid\nfigure(2)\nstep(sys)\nend"
"\n\n"
	      MaskDisplay	      "plot(X,Y);"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Highpass|Twashout|Ts|on|[0 0 60]|K*Vini"
"t|off|[1 500 0.1]"
	      MaskTabNameString	      ",,,,,,,"
	      System {
		Name			"Wash-out "
		Location		[532, 171, 875, 330]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [25, 53, 55, 67]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteStateSpace
		  Name			  "Discrete State-Space"
		  Position		  [105, 30, 225, 90]
		  A			  "Ad"
		  B			  "Bd"
		  C			  "Cd"
		  D			  "Dd"
		  X0			  "x0d"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [270, 53, 300, 67]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Discrete State-Space"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "Discrete State-Space"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "VS"
	      Position		      [755, 118, 785, 132]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Lead-Lag #1"
	      SrcPort		      1
	      DstBlock		      "Lead-Lag #2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "In"
	      SrcPort		      1
	      DstBlock		      "Sensor "
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sensor "
	      SrcPort		      1
	      DstBlock		      "Overall\nGain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Overall\nGain"
	      SrcPort		      1
	      DstBlock		      "Wash-out "
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Wash-out "
	      SrcPort		      1
	      DstBlock		      "Lead-Lag #1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Lead-Lag #2"
	      SrcPort		      1
	      DstBlock		      "Limiter "
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Limiter "
	      SrcPort		      1
	      DstBlock		      "VS"
	      DstPort		      1
	    }
	    Annotation {
	      Name		      "Power System Stabilizer (PSS)\n(Discret"
"e generic model)"
	      Position		      [116, 34]
	      FontSize		      12
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Three-Level Bridge"
	  Ports			  [2, 3]
	  Position		  [30, 303, 80, 377]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Three-level Bridge Logic"
	  MaskPromptString	  "Number of bridge arms (1,2 or 3)|Snubber ca"
"pacitance Cs (F):|Forward Voltages [ Vf  Vfd ]:|Internal resistance Ron (Ohms"
"):|Sample time"
	  MaskStyleString	  "edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on"
	  MaskCallbackString	  "||||"
	  MaskEnableString	  "on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on"
	  MaskVarAliasString	  ",,,,"
	  MaskVariables		  "nb_arm=@1;Cs=@2;Par_Vf=@3;Ron=@4;Ts=@5;"
	  MaskInitialization	  "if nb_arm==1,\n   StatusElements=[1 2 3];\n"
"elseif nb_arm==2,\n   StatusElements=[1 2 5 3 4 6];\nelseif nb_arm==3,\n   St"
"atusElements=[1 2 7 3 4 8 5 6 9];\nend"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|inf|[0 0]|1|1"
	  MaskTabNameString	  ",,,,"
	  System {
	    Name		    "Three-Level Bridge"
	    Location		    [248, 200, 950, 620]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [90, 73, 120, 87]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      PortDimensions	      "nb_arm*3"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [20, 268, 50, 282]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      PortDimensions	      "nb_arm*4"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      Ports		      [4, 4]
	      Position		      [350, 71, 445, 164]
	      ForegroundColor	      "red"
	      DropShadow	      on
	      AncestorBlock	      "powerlib_models/Discrete/GTO-IGBT Bridg"
"e"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "GTO & IGBT Bridge Logic(modified)"
	      MaskDescription	      "Generates the switch status ( 0 or 1) a"
"nd the tail currents for a forced-commutated two- level bridge using GTO/Diod"
"e or IGBT/Diode pairs.\nSpecify  3 arms (6 switches) for 3 phase bridge, 2 ar"
"ms for 4 switches, or 1 arm.\nTo turn-off the tail current, specify Tf=0 and "
"Tt=0."
	      MaskPromptString	      "Number of bridge arms (1,2 or 3)|Curent"
" 10% fall time Tf (s) :|Current tail time Tt (s) :|Snubber Capacitance Cs (F)"
":|Forward Voltages [ Vf  Vfd ]|Device resistance|Time step Ts (s) :"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on"
	      MaskCallbackString      "||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,,"
	      MaskVariables	      "nb_arm=@1;Tf=@2;Tt=@3;Cs=@4;VFs=@5;Rsw="
"@6;Ts=@7;"
	      MaskInitialization      "Vf=VFs(1);\nVfd=VFs(2);\nnb_switch=nb_a"
"rm*2;\nif nb_arm==1,\n   Selec_Diode=[2 1];\n   Block3Elements=[1 2];\n   Vsw"
"Elements=[1 2];\nelseif nb_arm==2,\n   Selec_Diode=[2 1 4 3];\n   Block3Eleme"
"nts=[1 3 2 4];\n   VswElements=[1 2 4 5];\nelseif nb_arm==3,\n   Selec_Diode="
"[2 1 4 3 6 5];\n   Block3Elements=[1 3 5 2 4 6];\n   VswElements=[1 2 4 5 7 8"
"];\nend"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "nb_arm|0|0|Cs|Par_Vf|Ron|Ts"
	      MaskTabNameString	      ",,,,,,"
	      System {
		Name			"2-level GTO-IGBT Bridge \nLogic (modi"
"fied)"
		Location		[28, 208, 1067, 662]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "v"
		  Position		  [15, 247, 45, 263]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "g"
		  Position		  [20, 282, 50, 298]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Block12"
		  Position		  [405, 57, 435, 73]
		  ForegroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Trig12"
		  Position		  [485, 102, 515, 118]
		  ForegroundColor	  "red"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [795, 135, 845, 155]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion4"
		  Position		  [115, 278, 165, 302]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [500, 256, 505, 294]
		  ForegroundColor	  "red"
		  BackgroundColor	  "red"
		  ShowName		  off
		  Outputs		  "[nb_arm nb_arm]"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Diode Logic"
		  Ports			  [2, 2]
		  Position		  [315, 27, 370, 83]
		  ForegroundColor	  "red"
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Diode Logic"
		    Location		    [289, 374, 952, 730]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Vak"
		    Position		    [15, 30, 35, 50]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "G"
		    Position		    [15, 100, 35, 120]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "0 2"
		    Position		    [155, 45, 175, 65]
		    ShowName		    off
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "1"
		    Ports		    [2, 1]
		    Position		    [425, 86, 455, 119]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Blocking Diodes"
		    Ports		    [1, 1]
		    Position		    [140, 87, 200, 133]
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    System {
		    Name		    "Blocking Diodes"
		    Location		    [209, 470, 834, 654]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "G"
		    Position		    [40, 60, 70, 80]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Bloque D214365"
		    Ports		    [1, 1]
		    Position		    [410, 53, 440, 107]
		    Elements		    "Selec_Diode"
		    InputPortWidth	    "nb_switch"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [215, 54, 245, 86]
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Pulse 1 step"
		    Ports		    [2, 1]
		    Position		    [305, 62, 335, 93]
		    Port {
		    PortNumber		    1
		    Name		    "Blockinkg "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay"
		    Position		    [140, 52, 175, 88]
		    ShowName		    off
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Block.D"
		    Position		    [490, 70, 520, 90]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Bloque D214365"
		    SrcPort		    1
		    DstBlock		    "Block.D"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Blockinkg "
		    Labels		    [0, 0]
		    SrcBlock		    "Pulse 1 step"
		    SrcPort		    1
		    DstBlock		    "Bloque D214365"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Unit Delay"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Pulse 1 step"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "G"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50; 190, 0]
		    DstBlock		    "Pulse 1 step"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion5"
		    Position		    [295, 41, 315, 59]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator3"
		    Ports		    [1, 1]
		    Position		    [355, 105, 385, 135]
		    ShowName		    off
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "b6"
		    Position		    [205, 34, 230, 61]
		    ShowName		    off
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "status"
		    Position		    [615, 155, 635, 175]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "block"
		    Position		    [475, 275, 495, 295]
		    ForegroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "1"
		    SrcPort		    1
		    Points		    [90, 0; 0, 60]
		    DstBlock		    "status"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator3"
		    SrcPort		    1
		    Points		    [0, -10]
		    DstBlock		    "1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Blocking Diodes"
		    SrcPort		    1
		    Points		    [110, 0; 0, 10; 15, 0]
		    Branch {
		    Points		    [0, 165]
		    DstBlock		    "block"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "G"
		    SrcPort		    1
		    DstBlock		    "Blocking Diodes"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "0 2"
		    SrcPort		    1
		    DstBlock		    "b6"
		    DstPort		    2
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "Vak"
		    SrcPort		    1
		    DstBlock		    "b6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "b6"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion5"
		    SrcPort		    1
		    Points		    [90, 0]
		    DstBlock		    "1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "GTO Logic"
		  Ports			  [2, 1]
		  Position		  [285, 185, 340, 240]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "GTO Logic"
		    Location		    [768, 618, 1165, 832]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Vak"
		    Position		    [30, 44, 50, 66]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "G"
		    Position		    [25, 131, 45, 149]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    " "
		    Position		    [140, 133, 160, 162]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "    "
		    Position		    [30, 175, 55, 195]
		    Value		    "0"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    ". "
		    Ports		    [2, 1]
		    Position		    [255, 85, 285, 125]
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion1"
		    Position		    [180, 55, 230, 75]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion2"
		    Position		    [180, 140, 230, 160]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion3"
		    Position		    [75, 145, 120, 165]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vpos"
		    Position		    [75, 64, 105, 86]
		    Value		    "0"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "b"
		    Position		    [140, 48, 160, 77]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "status"
		    Position		    [340, 95, 360, 115]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    ". "
		    SrcPort		    1
		    DstBlock		    "status"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vak"
		    SrcPort		    1
		    DstBlock		    "b"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vpos"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "b"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "G"
		    SrcPort		    1
		    DstBlock		    " "
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "b"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    ". "
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    " "
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion2"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    ". "
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "    "
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion3"
		    SrcPort		    1
		    DstBlock		    " "
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "G_D"
		  Ports			  [2, 1]
		  Position		  [725, 118, 760, 167]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Logic
		  Name			  "G_D2"
		  Ports			  [1, 1]
		  Position		  [465, 55, 500, 75]
		  ForegroundColor	  "red"
		  ShowName		  off
		  Operator		  "NOT"
		}
		Block {
		  BlockType		  Logic
		  Name			  "G_D3"
		  Ports			  [2, 1]
		  Position		  [540, 256, 565, 294]
		  ForegroundColor	  "red"
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Logic
		  Name			  "G_D4"
		  Ports			  [2, 1]
		  Position		  [605, 43, 640, 92]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [205, 105, 235, 135]
		  Orientation		  "up"
		  ShowName		  off
		  Gain			  "-1"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [840, 30, 870, 60]
		  ForegroundColor	  "red"
		  ShowName		  off
		  Gain			  "2"
		}
		Block {
		  BlockType		  Logic
		  Name			  "Note 3"
		  Ports			  [2, 1]
		  Position		  [540, 29, 570, 76]
		  ForegroundColor	  "red"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Select_Block3"
		  Ports			  [1, 1]
		  Position		  [420, 262, 440, 288]
		  ForegroundColor	  "red"
		  Elements		  "Block3Elements"
		  InputPortWidth	  "nb_switch"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Select_Vsw"
		  Ports			  [1, 1]
		  Position		  [60, 243, 90, 267]
		  Elements		  "VswElements"
		  InputPortWidth	  "nb_arm*3"
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay3"
		  Position		  [870, 134, 885, 156]
		  ShowName		  off
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay9"
		  Position		  [900, 33, 915, 57]
		  ShowName		  off
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Vf "
		  Ports			  [1, 1]
		  Position		  [725, 19, 810, 71]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Vf "
		    Location		    [602, 81, 1068, 350]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "status_GTO"
		    Position		    [85, 63, 115, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [190, 55, 220, 85]
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vf device"
		    Position		    [25, 23, 145, 47]
		    Value		    "Vf*ones(nb_switch,1)"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vf diode"
		    Position		    [25, 98, 145, 122]
		    Value		    "-Vfd*ones(nb_switch,1)"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Vf"
		    Position		    [340, 63, 370, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "[0]"
		    }
		    Line {
		    SrcBlock		    "status_GTO"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Vf"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vf diode"
		    SrcPort		    1
		    Points		    [10, 0; 0, -30]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Vf device"
		    SrcPort		    1
		    Points		    [15, 0; 0, 25]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "status"
		  Position		  [925, 137, 955, 153]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vf"
		  Position		  [950, 37, 980, 53]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Block3"
		  Position		  [615, 268, 645, 282]
		  ForegroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "status_GTO"
		  Position		  [710, 207, 740, 223]
		  Port			  "4"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "G_D3"
		  SrcPort		  1
		  DstBlock		  "Block3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Unit Delay9"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "G_D2"
		  SrcPort		  1
		  DstBlock		  "Note 3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Block12"
		  SrcPort		  1
		  DstBlock		  "G_D2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Diode Logic"
		  SrcPort		  1
		  DstBlock		  "Note 3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Diode Logic"
		  SrcPort		  2
		  Points		  [15, 0; 0, 205]
		  DstBlock		  "Select_Block3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [0, -60]
		  DstBlock		  "Diode Logic"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "v"
		  SrcPort		  1
		  DstBlock		  "Select_Vsw"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vf "
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "GTO Logic"
		  SrcPort		  1
		  Points		  [320, 0]
		  Branch {
		    Points		    [0, -60]
		    Branch {
		    DstBlock		    "G_D"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [-390, 0; 0, -85]
		    DstBlock		    "Diode Logic"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -110]
		    DstBlock		    "Vf "
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "status_GTO"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "g"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion4"
		  SrcPort		  1
		  Points		  [80, 0; 0, -65]
		  DstBlock		  "GTO Logic"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Unit Delay3"
		  SrcPort		  1
		  DstBlock		  "status"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "G_D"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  DstBlock		  "Unit Delay3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Unit Delay9"
		  SrcPort		  1
		  DstBlock		  "Vf"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "G_D4"
		  SrcPort		  1
		  Points		  [50, 0; 0, 60]
		  DstBlock		  "G_D"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Note 3"
		  SrcPort		  1
		  DstBlock		  "G_D4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Trig12"
		  SrcPort		  1
		  Points		  [70, 0]
		  DstBlock		  "G_D4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Select_Vsw"
		  SrcPort		  1
		  Points		  [125, 0; 0, -55]
		  Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "GTO Logic"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Select_Block3"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  DstBlock		  "G_D3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  DstBlock		  "G_D3"
		  DstPort		  2
		}
		Annotation {
		  Name			  "Note 3: See Sw3 logic "
		  Position		  [134, 396]
		  ForegroundColor	  "red"
		  FontSize		  12
		}
		Annotation {
		  Name			  "Diode Logic :\n1) Diodes are blocke"
"d when complementary GTOs are switched on"
		  Position		  [246, 358]
		  ForegroundColor	  "red"
		  FontSize		  12
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Input"
	      Ports		      [1, 1]
	      Position		      [85, 258, 120, 292]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Input"
		Location		[76, 457, 461, 622]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [85, 68, 115, 82]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [120, 96, 135, 114]
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "require"
		  Ports			  [2, 1]
		  Position		  [180, 67, 210, 98]
		  ShowName		  off
		  OutDataTypeMode	  "Specify via dialog"
		  LogicDataType		  "float('double')"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [235, 78, 265, 92]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [15, 0; 0, -15]
		  DstBlock		  "require"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "require"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "require"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This block is required when the \"p"
"ulses\" input is not connected"
		  Position		  [176, 25]
		}
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [530, 71, 535, 109]
	      ShowName		      off
	      Inputs		      "[nb_arm*2 nb_arm]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [2, 1]
	      Position		      [530, 141, 535, 179]
	      ShowName		      off
	      Inputs		      "[nb_arm*2 nb_arm]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Select_Status"
	      Ports		      [1, 1]
	      Position		      [585, 76, 605, 104]
	      Elements		      "StatusElements"
	      InputPortWidth	      "3*nb_arm"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Select_Status1"
	      Ports		      [1, 1]
	      Position		      [585, 147, 605, 173]
	      Elements		      "StatusElements"
	      InputPortWidth	      "3*nb_arm"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "SubSystem"
	      Ports		      []
	      Position		      [56, 12, 99, 48]
	      ForegroundColor	      "blue"
	      DropShadow	      on
	      ShowName		      off
	      FontWeight	      "bold"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('?')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"SubSystem"
		Location		[81, 152, 948, 638]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Annotation {
		  Name			  "D5, D6 : Clamping diodes"
		  Position		  [222, 417]
		}
		Annotation {
		  Name			  " - Vdc ------------"
		  Position		  [655, 347]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "N ----"
		  Position		  [633, 226]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "-[Sw3]-----"
		  Position		  [688, 225]
		}
		Annotation {
		  Name			  "|\n|\n|\n[Q1 - D1]\n|\n|"
		  Position		  [281, 114]
		}
		Annotation {
		  Name			  "|\n|\n[Q2 - D2]\n|\n|"
		  Position		  [281, 189]
		}
		Annotation {
		  Name			  "|\n|\n[Q3 - D3]\n|\n|"
		  Position		  [281, 259]
		}
		Annotation {
		  Name			  "|\n|\n[Q4 - D4]\n|\n|\n|"
		  Position		  [281, 334]
		}
		Annotation {
		  Name			  "-------[D5]-->-------"
		  Position		  [213, 155]
		}
		Annotation {
		  Name			  "-----<-[D6]---------"
		  Position		  [213, 295]
		}
		Annotation {
		  Name			  "------------ A"
		  Position		  [335, 227]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "|\n|\n|\n|\n|\n|\n|\n|\n|\n|\n|"
		  Position		  [147, 228]
		}
		Annotation {
		  Name			  "N ----------"
		  Position		  [103, 226]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "- Vdc--------------------------"
		  Position		  [160, 372]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "+ Vdc --------------------------"
		  Position		  [160, 77]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "---------- A"
		  Position		  [770, 227]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "+ Vdc ------------"
		  Position		  [660, 97]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "|\n|\n|\n|\n|\n[Sw1]\n|\n|\n|\n|"
		  Position		  [726, 159]
		}
		Annotation {
		  Name			  "|\n|\n|\n|\n|\n[Sw2]\n|\n|\n|\n|"
		  Position		  [726, 289]
		}
		Annotation {
		  Name			  "<======>"
		  Position		  [501, 222]
		  ForegroundColor	  "red"
		  FontSize		  18
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "(or B or C)"
		  Position		  [806, 246]
		}
		Annotation {
		  Name			  "(or B or C)"
		  Position		  [381, 246]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Sw3 (clamping diode)\nLogic"
	      Ports		      [4, 5]
	      Position		      [185, 234, 275, 336]
	      ForegroundColor	      "blue"
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskPromptString	      "Number of bridge arm:|Forward Voltages "
"[ Vf  Vfd ]|Sample time:"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVarAliasString      ",,"
	      MaskVariables	      "nb_arm=@1;VFs=@2;Ts=@3;"
	      MaskInitialization      "Vf=VFs(1);\nVfd=VFs(2);\nnb_switch=nb_a"
"rm*2;\nif nb_arm==1,\n   Vsw3Elements=[3];\n   PulseElements=[1 2 3 4];\n   g"
"12Elements=[1 2];\n  Trig12Elements=[1 2];\nBlockDElements=[1 2];\nelseif nb_"
"arm==2,\n   Vsw3Elements=[3 6];\n   PulseElements=[1 5 2 6 3 7 4 8];\n   g12E"
"lements=[1 3 2 4];\n  BlockDElements=[1 3 2 4];\n  Trig12Elements=[1 3 2 4];"
"\nelseif nb_arm==3,\n   Vsw3Elements=[3 6 9];\n   PulseElements=[1 5 9 2 6 10"
" 3 7 11 4 8 12];\n   g12Elements=[1 4 2 5 3 6];\n   BlockDElements=[1 4 2 5 3"
" 6];\n  Trig12Elements=[1 3 5 2 4 6];\nend"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "nb_arm|Par_Vf|Ts"
	      MaskTabNameString	      ",,"
	      System {
		Name			"Sw3 (clamping diode)\nLogic"
		Location		[138, 174, 1069, 774]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "V_Sw123"
		  Position		  [25, 338, 55, 352]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Pulses"
		  Position		  [70, 163, 100, 177]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Block3"
		  Position		  [355, 463, 385, 477]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Status_GTO"
		  Position		  [85, 243, 115, 257]
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 2"
		  Position		  [150, 355, 170, 375]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Logic
		  Name			  "1"
		  Ports			  [2, 1]
		  Position		  [410, 317, 440, 368]
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "D5_On"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "2"
		  Ports			  [1, 1]
		  Position		  [320, 403, 350, 437]
		  ShowName		  off
		  Operator		  "NOT"
		}
		Block {
		  BlockType		  Logic
		  Name			  "3"
		  Ports			  [2, 1]
		  Position		  [515, 336, 545, 369]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Logic
		  Name			  "4"
		  Ports			  [2, 1]
		  Position		  [410, 382, 440, 433]
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "D6_On"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "5"
		  Ports			  [2, 1]
		  Position		  [595, 339, 630, 401]
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "6"
		  Ports			  [1, 1]
		  Position		  [425, 453, 455, 487]
		  ShowName		  off
		  Operator		  "NOT"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [245, 344, 295, 366]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [690, 359, 740, 381]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion4"
		  Position		  [200, 159, 250, 181]
		  BackgroundColor	  "green"
		  ShowName		  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 4]
		  Position		  [310, 99, 315, 236]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "[nb_arm nb_arm nb_arm nb_arm]"
		  Port {
		    PortNumber		    1
		    Name		    "Q1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  Port {
		    PortNumber		    2
		    Name		    "Q2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  Port {
		    PortNumber		    3
		    Name		    "Q3"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  Port {
		    PortNumber		    4
		    Name		    "Q4"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [2, 1]
		  Position		  [400, 104, 430, 151]
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [2, 1]
		  Position		  [400, 174, 430, 221]
		  ShowName		  off
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [480, 121, 485, 159]
		  ShowName		  off
		  Inputs		  "[nb_arm nb_arm]"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Note 3"
		  Ports			  [1, 1]
		  Position		  [685, 267, 745, 313]
		  ForegroundColor	  "red"
		  DropShadow		  on
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Note 3"
		    Location		    [58, 418, 729, 605]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "G"
		    Position		    [40, 60, 70, 80]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [215, 54, 245, 86]
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [450, 71, 455, 109]
		    ShowName		    off
		    Inputs		    "[nb_arm nb_arm]"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Pulse 1 step"
		    Ports		    [2, 1]
		    Position		    [305, 62, 335, 93]
		    Port {
		    PortNumber		    1
		    Name		    "Blocking "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Select_BlockD"
		    Ports		    [1, 1]
		    Position		    [510, 75, 535, 105]
		    Elements		    "BlockDElements"
		    InputPortWidth	    "nb_arm*2"
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay"
		    Position		    [140, 52, 175, 88]
		    ShowName		    off
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Block.D"
		    Position		    [580, 80, 610, 100]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Unit Delay"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Pulse 1 step"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "G"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50; 190, 0]
		    DstBlock		    "Pulse 1 step"
		    DstPort		    2
		    }
		    }
		    Line {
		    Name		    "Blocking "
		    Labels		    [0, 0]
		    SrcBlock		    "Pulse 1 step"
		    SrcPort		    1
		    Points		    [75, 0]
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "Select_BlockD"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Select_BlockD"
		    SrcPort		    1
		    DstBlock		    "Block.D"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Note 4"
		  Ports			  [4, 1]
		  Position		  [670, 27, 745, 88]
		  ForegroundColor	  "red"
		  DropShadow		  on
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Note 4"
		    Location		    [60, 92, 869, 702]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "pulses"
		    Position		    [30, 93, 60, 107]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "D5_On"
		    Position		    [245, 218, 275, 232]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "D6_On"
		    Position		    [245, 23, 275, 37]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Status_GTO"
		    Position		    [65, 383, 95, 397]
		    Port		    "4"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 4]
		    Position		    [95, 46, 100, 149]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "[nb_arm nb_arm nb_arm nb_arm]"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux1"
		    Ports		    [1, 2]
		    Position		    [245, 338, 250, 442]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "[nb_arm nb_arm]"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [325, 54, 355, 76]
		    ShowName		    off
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [4, 1]
		    Position		    [145, 43, 175, 152]
		    ShowName		    off
		    Operator		    "NOR"
		    Inputs		    "4"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator10"
		    Ports		    [1, 1]
		    Position		    [305, 534, 335, 556]
		    ShowName		    off
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator2"
		    Ports		    [3, 1]
		    Position		    [420, 311, 450, 409]
		    ShowName		    off
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator3"
		    Ports		    [3, 1]
		    Position		    [410, 12, 445, 118]
		    ShowName		    off
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator4"
		    Ports		    [1, 1]
		    Position		    [325, 249, 355, 271]
		    ShowName		    off
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator5"
		    Ports		    [3, 1]
		    Position		    [405, 172, 440, 278]
		    ShowName		    off
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator6"
		    Ports		    [1, 1]
		    Position		    [290, 379, 320, 401]
		    ShowName		    off
		    Operator		    "NOT"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator7"
		    Ports		    [2, 1]
		    Position		    [505, 39, 540, 146]
		    ShowName		    off
		    Operator		    "OR"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator8"
		    Ports		    [2, 1]
		    Position		    [520, 199, 555, 306]
		    ShowName		    off
		    Operator		    "OR"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator9"
		    Ports		    [3, 1]
		    Position		    [415, 466, 445, 564]
		    ShowName		    off
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [630, 86, 635, 124]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Select_StatGTO"
		    Ports		    [1, 1]
		    Position		    [165, 378, 185, 402]
		    Elements		    "Trig12Elements"
		    InputPortWidth	    "nb_arm*2"
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay"
		    Position		    [335, 19, 355, 41]
		    ShowName		    off
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay1"
		    Position		    [300, 349, 320, 371]
		    ShowName		    off
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay2"
		    Position		    [340, 214, 360, 236]
		    ShowName		    off
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay3"
		    Position		    [315, 504, 335, 526]
		    ShowName		    off
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Trig12"
		    Position		    [720, 98, 750, 112]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "pulses"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "D6_On"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Unit Delay"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "D5_On"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Logical\nOperator4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Unit Delay2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Unit Delay2"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator4"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator5"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "Trig12"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    3
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    4
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    Points		    [0, 0; 135, 0]
		    Branch {
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 90; 65, 0]
		    Branch {
		    DstBlock		    "Logical\nOperator5"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 135]
		    Branch {
		    Points		    [0, 5]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 160]
		    DstBlock		    "Logical\nOperator9"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Status_GTO"
		    SrcPort		    1
		    DstBlock		    "Select_StatGTO"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator6"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Unit Delay1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator3"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator7"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator7"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator5"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator8"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator8"
		    SrcPort		    1
		    Points		    [25, 0; 0, -140]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Select_StatGTO"
		    SrcPort		    1
		    DstBlock		    "Demux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, -5]
		    DstBlock		    "Unit Delay1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Logical\nOperator6"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator10"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator9"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    2
		    Points		    [20, 0; 0, 100]
		    Branch {
		    DstBlock		    "Unit Delay3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Logical\nOperator10"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Unit Delay3"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator9"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator2"
		    SrcPort		    1
		    Points		    [25, 0; 0, -80]
		    DstBlock		    "Logical\nOperator8"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator9"
		    SrcPort		    1
		    Points		    [20, 0; 0, -395]
		    DstBlock		    "Logical\nOperator7"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "Select_Pulses"
		  Ports			  [1, 1]
		  Position		  [135, 157, 160, 183]
		  Elements		  "PulseElements"
		  InputPortWidth	  "nb_arm*4"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Select_Vsw3"
		  Ports			  [1, 1]
		  Position		  [95, 329, 115, 361]
		  Elements		  "Vsw3Elements"
		  InputPortWidth	  "nb_arm*3"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Select_g12a"
		  Ports			  [1, 1]
		  Position		  [525, 129, 550, 151]
		  Elements		  "g12Elements"
		  InputPortWidth	  "nb_arm*2"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Select_g12b"
		  Ports			  [1, 1]
		  Position		  [790, 47, 815, 73]
		  Elements		  "g12Elements"
		  InputPortWidth	  "nb_arm*2"
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay1"
		  Position		  [770, 178, 795, 202]
		  ShowName		  off
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay3"
		  Position		  [785, 358, 810, 382]
		  ShowName		  off
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Vf Computation\nfor Sw3"
		  Ports			  [1, 1]
		  Position		  [675, 158, 740, 222]
		  DropShadow		  on
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Vf Computation\nfor Sw3"
		    Location		    [254, 518, 887, 788]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "D5_On"
		    Position		    [185, 63, 215, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    Position		    [285, 35, 315, 65]
		    ShowName		    off
		    Gain		    "-1"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain2"
		    Position		    [285, 75, 315, 105]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [370, 43, 400, 97]
		    ShowName		    off
		    Threshold		    "0.5"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vf device"
		    Position		    [35, 38, 165, 62]
		    Value		    "(Vf+Vfd)*ones(nb_arm,1)"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Vf"
		    Position		    [485, 63, 515, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "D5_On"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Gain2"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vf device"
		    SrcPort		    1
		    Points		    [80, 0]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Gain2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Vf"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b6"
		  Position		  [190, 337, 220, 373]
		  ShowName		  off
		  Operator		  "<"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Status"
		  Position		  [855, 363, 885, 377]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vf"
		  Position		  [860, 183, 890, 197]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "g12"
		  Position		  [575, 133, 605, 147]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Block12"
		  Position		  [825, 283, 855, 297]
		  Port			  "4"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Trig12"
		  Position		  [855, 53, 885, 67]
		  Port			  "5"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Select_g12b"
		  SrcPort		  1
		  DstBlock		  "Trig12"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Select_g12a"
		  SrcPort		  1
		  DstBlock		  "g12"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Select_Vsw3"
		  SrcPort		  1
		  DstBlock		  "b6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "5"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, -80]
		    DstBlock		    "Note 3"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Data Type \nConversion2"
		    DstPort		    1
		  }
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "Note 3"
		  SrcPort		  1
		  DstBlock		  "Block12"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Block3"
		  SrcPort		  1
		  DstBlock		  "6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Unit Delay3"
		  SrcPort		  1
		  DstBlock		  "Status"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "2"
		  SrcPort		  1
		  DstBlock		  "4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "V_Sw123"
		  SrcPort		  1
		  DstBlock		  "Select_Vsw3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "0 2"
		  SrcPort		  1
		  DstBlock		  "b6"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Pulses"
		  SrcPort		  1
		  DstBlock		  "Select_Pulses"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "Select_g12a"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vf Computation\nfor Sw3"
		  SrcPort		  1
		  DstBlock		  "Unit Delay1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Unit Delay1"
		  SrcPort		  1
		  DstBlock		  "Vf"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion4"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Demux"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -135]
		    DstBlock		    "Note 4"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "Q1"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  Name			  "Q2"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [0, 0; 50, 0]
		  Branch {
		    Points		    [0, -10]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 180]
		    DstBlock		    "1"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "Q3"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  3
		  Points		  [0, 0; 60, 0]
		  Branch {
		    Points		    [0, 210]
		    DstBlock		    "4"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "Q4"
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  4
		  Points		  [40, 0; 0, -10]
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [25, 0; 0, -50]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "b6"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  Points		  [-10, 0; 15, 0]
		  Branch {
		    DstBlock		    "1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "2"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "D6_On"
		  Labels		  [0, 0]
		  SrcBlock		  "4"
		  SrcPort		  1
		  Points		  [45, 0; 0, -50]
		  Branch {
		    DstBlock		    "3"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -160; 135, 0; 0, -135]
		    DstBlock		    "Note 4"
		    DstPort		    3
		  }
		}
		Line {
		  Name			  "D5_On"
		  Labels		  [0, 0]
		  SrcBlock		  "1"
		  SrcPort		  1
		  Points		  [0, 0; 30, 0]
		  Branch {
		    DstBlock		    "3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -155; 135, 0]
		    Branch {
		    DstBlock		    "Vf Computation\nfor Sw3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -140]
		    DstBlock		    "Note 4"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "3"
		  SrcPort		  1
		  DstBlock		  "5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "6"
		  SrcPort		  1
		  Points		  [85, 0; 0, -85]
		  DstBlock		  "5"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  DstBlock		  "Unit Delay3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Note 4"
		  SrcPort		  1
		  DstBlock		  "Select_g12b"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Select_Pulses"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Status_GTO"
		  SrcPort		  1
		  Points		  [525, 0; 0, -170]
		  DstBlock		  "Note 4"
		  DstPort		  4
		}
		Annotation {
		  Name			  "Note 3: Diodes D1,D2,D3 and D4 are "
"blocked for one step when diode 5 or 6 (Sw3) start conducting"
		  Position		  [299, 526]
		  ForegroundColor	  "red"
		  FontSize		  12
		}
		Annotation {
		  Name			  "Note 4: When no pulses are sent to "
"the valves:\ntrig (one time step) diodes D1 and D2 when diode D6 stop conduct"
"ing or when Q3+Q4 stop conducting\nor trig (one time step) diodes D3 and D4 w"
"hen diode D5 stop conducting or when Q1+Q2 stop conducting."
		  Position		  [29, 561]
		  HorizontalAlignment	  "left"
		  ForegroundColor	  "red"
		  FontSize		  12
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "x"
	      Position		      [655, 28, 685, 42]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Status"
	      Position		      [655, 83, 685, 97]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vf"
	      Position		      [650, 153, 680, 167]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Line {
	      SrcBlock		      "Select_Status1"
	      SrcPort		      1
	      DstBlock		      "Vf"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Select_Status"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		DstBlock		"Status"
		DstPort			1
	      }
	      Branch {
		Points			[0, -55]
		DstBlock		"x"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      SrcPort		      3
	      Points		      [20, 0; 0, 245; -330, 0; 0, -75]
	      DstBlock		      "Sw3 (clamping diode)\nLogic"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Sw3 (clamping diode)\nLogic"
	      SrcPort		      4
	      Points		      [30, 0; 0, -175]
	      DstBlock		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Sw3 (clamping diode)\nLogic"
	      SrcPort		      3
	      Points		      [15, 0; 0, -180]
	      DstBlock		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sw3 (clamping diode)\nLogic"
	      SrcPort		      2
	      Points		      [225, 0; 0, -95]
	      DstBlock		      "Mux1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sw3 (clamping diode)\nLogic"
	      SrcPort		      1
	      Points		      [215, 0; 0, -145]
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      SrcPort		      2
	      Points		      [35, 0; 0, 45]
	      DstBlock		      "Mux1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Select_Status"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      DstBlock		      "Select_Status1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [0, 0; 20, 0]
	      Branch {
		Points			[0, 170]
		DstBlock		"Sw3 (clamping diode)\nLogic"
		DstPort			1
	      }
	      Branch {
		DstBlock		"2-level GTO-IGBT Bridge \nLogic (modi"
"fied)"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Sw3 (clamping diode)\nLogic"
	      SrcPort		      5
	      Points		      [40, 0; 0, -170]
	      DstBlock		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "Input"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Input"
	      SrcPort		      1
	      DstBlock		      "Sw3 (clamping diode)\nLogic"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "2-level GTO-IGBT Bridge \nLogic (modifi"
"ed)"
	      SrcPort		      4
	      Points		      [5, 0; 0, 70; -300, 0; 0, 100]
	      DstBlock		      "Sw3 (clamping diode)\nLogic"
	      DstPort		      4
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "asynchronous_machine"
	  Ports			  [2, 2]
	  Position		  [355, 14, 400, 81]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Asynchronous Machine Model"
	  MaskDescription	  "Implements a three-phase asynchronous machi"
"ne (wound rotor or squirrel cage) modelled in the dq rotor reference frame. S"
"tator and rotor windings are connected in wye to an internal neutral point. P"
"ress help for inputs and outputs description.\n"
	  MaskHelp		  "First 3 inputs: Stator terminals = phases a"
", b and c; 4th input: Simulink signal = Mechanical torque applied to the shaf"
"t (p.u., >0 for motor mode, <0 for generator mode); First 3 outputs: Rotor te"
"rminals = phases a, b and c; 4th output: Simulink measurement output = vector"
" (20x1) containing the following (all currents flowing into the machine): [1-"
"3] : Rotor line currents ira, irb and irc; [4-5] : Rotor currents iqr and idr"
"; [6-7] : Rotor fluxes phiqr and  phidr; [8-9] : Rotor voltages vqr and vdr; "
"[10-12] : Stator line currents isa, isb, isc; [13-14] : Stator currents iqs a"
"nd ids; [15-16] : Stator fluxes phiqs and  phids; [17-18] : Stator voltages v"
"qs and vds; [19] : Rotor speed wm; [20 ]: Electromagnetic torque Te. Units of"
" output measurement depend on checkbox in block's dialog box."
	  MaskPromptString	  "Rotor type:|Reference frame:|Nom. power,L-L"
" volt. and freq. [ Pn(VA),Vn(Vrms),fn(Hz) ]:|Stator [ Rs,Lls (p.u.) ]:|Rotor "
"[ Rr',Llr' (p.u.) ]:|Magnetizing inductance Lm (p.u.):|Inertia constant,frict"
"ion factor and pairs of poles [ H(s)  F(p.u.)  p() ]:|Initial conditions [ s("
")  th(deg)   isa,isb,isc(p.u.)   pha,phb,phc(deg) ]:|I/O units (check for S.I"
"., otherwise p.u.)|Sample Time Ts (s):"
	  MaskStyleString	  "popup(Wound|Squirrel-cage),popup(Rotor|Stat"
"ionary|Synchronous),edit,edit,edit,edit,edit,edit,checkbox,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "|||||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,,"
	  MaskVariables		  "rotType=@1;ctrl=@2;nom=@3;sta=@4;rot=@5;Lm="
"@6;mec=@7;ini=@8;iounits=@9;Ts=@10;"
	  MaskInitialization	  "[Rs,Lls,Rr,Llr,H,F,p,Laq,Lad,web_psb,Vb,Vb2"
",ib,ib2,phib2,Nb2,Tb2,phisqo,phisdo,phirqo,phirdo,wmo,tho] = powericonV2('Asy"
"nchronous Machine Model',nom, sta, rot, Lm, mec,ini,iounits);one_third=1/3; s"
"qrt3_3=sqrt(3)/3;sqrt3=sqrt(3);\nswitch rotType\n    case 1, selWidth=6; elem"
"ents1=3:6; elements2=1:4;\n    case 2, selWidth=4; elements1=1:4; elements2=3"
":4;\nend"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "Wound|Rotor|[2.2380e+03  2.2000e+02  6.0000"
"e+01]|[2.0114e-02  3.4865e-02]|[3.7732e-02  3.4865e-02]|[1.2082e+00]|[7.0650e"
"-01  0.0000e+00  2.0000e+00]|[1.0000e+00  0.0000e+00  0.0000e+00  0.0000e+00 "
" 0.0000e+00  0.0000e+00  0.0000e+00  0.0000e+00]|on|1"
	  MaskTabNameString	  ",,,,,,,,,"
	  System {
	    Name		    "asynchronous_machine"
	    Location		    [406, 58, 989, 427]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [20, 33, 50, 47]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "Tm"
	      Position		      [20, 258, 50, 272]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [475, 179, 500, 211]
	      Gain		      "[ib2*ones(5,1);phib2;phib2;Vb2;Vb2;ib2*"
"ones(5,1);phib2;phib2;Vb2;Vb2;Nb2;Tb2;1]"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Mechanical"
	      Ports		      [2, 2]
	      Position		      [85, 276, 160, 354]
	      Orientation	      "left"
	      ShowName		      off
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('Mechanical')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Mechanical"
		Location		[73, 488, 714, 665]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Tm"
		  Position		  [15, 28, 45, 42]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phis,is"
		  Position		  [15, 123, 45, 137]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\p"
		  Position		  [485, 130, 525, 160]
		  ShowName		  off
		  Gain			  "1/p"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_2H"
		  Position		  [285, 28, 320, 62]
		  Gain			  "1/(2*H)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Tb2"
		  Position		  [165, 14, 205, 56]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/Tb2"
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [1, 1]
		  Position		  [335, 33, 355, 57]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "wmo"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator1"
		  Ports			  [1, 1]
		  Position		  [440, 33, 460, 57]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "tho"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Gain
		  Name			  "F"
		  Position		  [315, 73, 340, 97]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "F"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [505, 33, 510, 77]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [3, 1]
		  Position		  [550, 72, 555, 158]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [1, 1]
		  Position		  [145, 104, 170, 126]
		  ShowName		  off
		  Inputs		  "1"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [1, 1]
		  Position		  [145, 134, 170, 156]
		  ShowName		  off
		  Inputs		  "1"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  Ports			  [1, 1]
		  Position		  [75, 103, 120, 127]
		  ShowName		  off
		  Elements		  "[1 4]"
		  InputPortWidth	  "4"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector1"
		  Ports			  [1, 1]
		  Position		  [75, 133, 120, 157]
		  ShowName		  off
		  Elements		  "[2 3]"
		  InputPortWidth	  "4"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [245, 28, 265, 62]
		  ShowName		  off
		  Inputs		  "-+-"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [190, 105, 210, 125]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|-+"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [395, 24, 425, 66]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "w,Te,thr"
		  Position		  [580, 108, 610, 122]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "thr,wr"
		  Position		  [580, 48, 610, 62]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "1\\p"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "1\\p"
		  SrcPort		  1
		  DstBlock		  "Mux4"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -70]
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "1_Tb2"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "F"
		  SrcPort		  1
		  Points		  [-80, 0]
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "web_psb"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 40]
		    Branch {
		    Points		    [100, 0]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -20]
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "F"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "1_2H"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "1_2H"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tm"
		  SrcPort		  1
		  DstBlock		  "1_Tb2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "thr,wr"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "w,Te,thr"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phis,is"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -15]
		    DstBlock		    "Selector"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 15]
		    DstBlock		    "Selector1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Selector1"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Mutual fluxes"
	      Ports		      [2, 1]
	      Position		      [230, 126, 365, 199]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Mutual fluxes"
		Location		[311, 434, 719, 624]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "phiqr,phidr"
		  Position		  [25, 63, 55, 77]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phiqs,phids"
		  Position		  [25, 123, 55, 137]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr"
		  Position		  [80, 51, 115, 89]
		  ShowName		  off
		  Gain			  "1/Llr"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr1"
		  Position		  [225, 36, 260, 74]
		  ShowName		  off
		  Gain			  "Laq"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr2"
		  Position		  [225, 121, 260, 159]
		  ShowName		  off
		  Gain			  "Lad"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Lls"
		  Position		  [80, 111, 115, 149]
		  ShowName		  off
		  Gain			  "1/Lls"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [145, 44, 150, 91]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  Ports			  [1, 2]
		  Position		  [145, 104, 150, 151]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [285, 14, 290, 181]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [170, 45, 190, 65]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [185, 130, 205, 150]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phimq,phimd"
		  Position		  [315, 93, 345, 107]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "phimq,phimd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1\\Llr2"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "1\\Llr1"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [40, 0]
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "1\\Lls"
		  SrcPort		  1
		  DstBlock		  "Demux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "1\\Llr1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1\\Llr"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phiqr,phidr"
		  SrcPort		  1
		  DstBlock		  "1\\Llr"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phiqs,phids"
		  SrcPort		  1
		  DstBlock		  "1\\Lls"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "1\\Llr2"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux3"
	      Ports		      [9, 1]
	      Position		      [440, 138, 445, 252]
	      ShowName		      off
	      Inputs		      "[3,2,2,2,3,2,2,2,3]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Rotor"
	      Ports		      [3, 2]
	      Position		      [230, 27, 365, 103]
	      ShowName		      off
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('Rotor')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Rotor"
		Location		[112, 287, 692, 625]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "vqr,vdr"
		  Position		  [20, 28, 50, 42]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "w-wr"
		  Position		  [20, 78, 50, 92]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phimq,phimd"
		  Position		  [20, 178, 50, 192]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr"
		  Position		  [195, 159, 235, 191]
		  ShowName		  off
		  Gain			  "1/Llr"
		  Port {
		    PortNumber		    1
		    Name		    "iqr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr1"
		  Position		  [265, 134, 300, 166]
		  ShowName		  off
		  Gain			  "Rr"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr2"
		  Position		  [150, 259, 190, 291]
		  ShowName		  off
		  Gain			  "1/Llr"
		  Port {
		    PortNumber		    1
		    Name		    "idr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr3"
		  Position		  [215, 259, 255, 291]
		  ShowName		  off
		  Gain			  "Rr"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [75, 16, 80, 54]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [90, 166, 95, 204]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [1, 1]
		  Position		  [420, 68, 440, 92]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "phirqo"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		  Port {
		    PortNumber		    1
		    Name		    "phiqr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator1"
		  Ports			  [1, 1]
		  Position		  [420, 263, 440, 287]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "phirdo"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [310, 163, 315, 207]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [480, 243, 485, 287]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [255, 63, 275, 92]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [145, 93, 165, 122]
		  Orientation		  "left"
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [3, 1]
		  Position		  [310, 260, 340, 290]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++-||"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [300, 65, 330, 95]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+--"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [145, 160, 175, 190]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+-|"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  Ports			  [2, 1]
		  Position		  [90, 260, 120, 290]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "-+|"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web1"
		  Position		  [360, 259, 400, 291]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [355, 64, 395, 96]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "iqr,idr"
		  Position		  [515, 178, 545, 192]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "phiqr,phidr"
		  Position		  [515, 258, 545, 272]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "phiqr,phidr"
		  DstPort		  1
		}
		Line {
		  Name			  "phiqr"
		  Labels		  [0, 0]
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  Points		  [15, 0; 0, 50]
		  Branch {
		    Points		    [0, 125]
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [-275, 0]
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [-25, 0]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "web1"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "web1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w-wr"
		  SrcPort		  1
		  Points		  [130, 0]
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 15]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator1"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 40; -390, 0; 0, -40]
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -205]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "vqr,vdr"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [-15, 0; 0, 130; 200, 0]
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [30, 0; 0, 209]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "1\\Llr3"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  3
		}
		Line {
		  Name			  "idr"
		  SrcBlock		  "1\\Llr2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "1\\Llr3"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [-1, 0]
		    Points		    [0, -80]
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  DstBlock		  "1\\Llr2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [5, 0]
		  DstBlock		  "Sum4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "iqr,idr"
		  DstPort		  1
		}
		Line {
		  Name			  "iqr"
		  SrcBlock		  "1\\Llr"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Labels		    [-1, 1]
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "1\\Llr1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "1\\Llr1"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "Sum2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "1\\Llr"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [230, 0]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phimq,phimd"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Stator"
	      Ports		      [3, 3]
	      Position		      [230, 247, 365, 323]
	      ShowName		      off
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('Stator')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Stator"
		Location		[77, 198, 707, 509]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "phimq,phimd"
		  Position		  [25, 58, 55, 72]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "vqs,vds"
		  Position		  [25, 158, 55, 172]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "w"
		  Position		  [25, 103, 55, 117]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr"
		  Position		  [200, 39, 240, 71]
		  ShowName		  off
		  Gain			  "1/Lls"
		  Port {
		    PortNumber		    1
		    Name		    "iqs"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr1"
		  Position		  [270, 39, 305, 71]
		  ShowName		  off
		  Gain			  "Rs"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr2"
		  Position		  [150, 219, 190, 251]
		  ShowName		  off
		  Gain			  "1/Lls"
		  Port {
		    PortNumber		    1
		    Name		    "ids"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\Llr3"
		  Position		  [220, 219, 260, 251]
		  ShowName		  off
		  Gain			  "Rs"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [85, 146, 90, 184]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [85, 46, 90, 84]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [1, 1]
		  Position		  [425, 108, 445, 132]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "phisqo"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator1"
		  Ports			  [1, 1]
		  Position		  [420, 223, 440, 247]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "phisdo"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [500, 168, 505, 192]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [500, 218, 505, 242]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [2, 1]
		  Position		  [540, 258, 545, 282]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [270, 103, 290, 132]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [155, 178, 175, 207]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [3, 1]
		  Position		  [310, 220, 340, 250]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++-||"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [310, 105, 340, 135]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "--+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [95, 220, 125, 250]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  Ports			  [2, 1]
		  Position		  [145, 40, 175, 70]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+-|"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web1"
		  Position		  [360, 219, 400, 251]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [360, 104, 400, 136]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phiqs,phids"
		  Position		  [565, 223, 595, 237]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "iqs,ids"
		  Position		  [565, 173, 595, 187]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "phis,is"
		  Position		  [565, 263, 595, 277]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "phimq,phimd"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  DstBlock		  "1\\Llr"
		  DstPort		  1
		}
		Line {
		  Name			  "iqs"
		  Labels		  [0, 0]
		  SrcBlock		  "1\\Llr"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, 120]
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "1\\Llr1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "1\\Llr1"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vqs,vds"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [230, 0]
		  DstBlock		  "Sum2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, 105]
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -100; -315, 0]
		    Branch {
		    Points		    [-30, 0; 0, 180]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "iqs,ids"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 95]
		    DstBlock		    "Mux4"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "w"
		  SrcPort		  1
		  Points		  [80, 0]
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [15, 0]
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "1\\Llr2"
		  DstPort		  1
		}
		Line {
		  Name			  "ids"
		  Labels		  [0, 0]
		  SrcBlock		  "1\\Llr2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "1\\Llr3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "1\\Llr3"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "web1"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "web1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator1"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, -70; -210, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 40; -355, 0]
		    DstBlock		    "Sum3"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Mux3"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [25, 0; 0, 39]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [145, 0]
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "phiqs,phids"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "phis,is"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "abc2qd"
	      Ports		      [2, 2]
	      Position		      [85, 20, 165, 100]
	      ShowName		      off
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('abc2qd')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"abc2qd"
		Location		[80, 364, 627, 797]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "v"
		  Position		  [20, 73, 50, 87]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "sin,cos"
		  Position		  [20, 108, 50, 122]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Vb"
		  Position		  [140, 61, 170, 99]
		  ShowName		  off
		  Gain			  "1/Vb"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [273, 15, 317, 40]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl==1"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [273, 150, 317, 175]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl==2"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [273, 285, 317, 310]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl==3"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [370, 45, 400, 60]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [425, 322, 455, 338]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl"
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch"
		  Ports			  [4, 1]
		  Position		  [430, 62, 460, 108]
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch1"
		  Ports			  [4, 1]
		  Position		  [430, 347, 460, 393]
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [190, 62, 195, 133]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Rotor reference frame"
		  Ports			  [1, 2, 1]
		  Position		  [230, 64, 360, 131]
		  ShowName		  off
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('Rotor\\nreference\\nframe')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Rotor reference frame"
		    Location		    [428, 505, 950, 741]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 33, 55, 47]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [440, 15, 460, 35]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [405, 123, 410, 212]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "Vqs,vds"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [405, 18, 410, 107]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "Vqr,vdr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vdr"
		    Position		    [110, 72, 360, 98]
		    Expr		    "-sqrt3_3 * u[2]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vds"
		    Position		    [110, 177, 360, 203]
		    Expr		    "one_third * (2*u[5]*u[3] + (u[5]-"
"sqrt3*u[6]) * u[4])"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vqr"
		    Position		    [110, 26, 360, 54]
		    Expr		    "one_third * (2*u[1] + u[2])"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vqs"
		    Position		    [110, 131, 360, 159]
		    Expr		    "one_third * (2*u[6]*u[3] + (u[6]+"
"sqrt3*u[5]) * u[4])"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vqr,vdr"
		    Position		    [475, 58, 505, 72]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vqs,vds"
		    Position		    [475, 163, 505, 177]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "vdr"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "vds"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "vqs"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "vqr"
		    DstPort		    1
		    }
		    }
		    Line {
		    Name		    "Vqr,vdr"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "vqr,vdr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vqr"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vdr"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    Name		    "Vqs,vds"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "vqs,vds"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vds"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "vqs"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Stationary reference frame"
		  Ports			  [1, 2, 1]
		  Position		  [230, 199, 360, 266]
		  ShowName		  off
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('Stationary\\nreference\\nfram"
"e')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Stationary reference frame"
		    Location		    [192, 421, 714, 657]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 43, 55, 57]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [425, 15, 445, 35]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [400, 123, 405, 212]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "Vqs,vds"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [400, 28, 405, 117]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "Vqr,vdr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vdr"
		    Position		    [105, 81, 360, 109]
		    Expr		    "one_third * (-2*u[5]*u[1] + (-u[5"
"]-sqrt3*u[6]) * u[2])"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vds"
		    Position		    [110, 177, 365, 203]
		    Expr		    "-sqrt3_3*u[4]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vqr"
		    Position		    [105, 36, 360, 64]
		    Expr		    "one_third * (2*u[6]*u[1] + (u[6]-"
"sqrt3*u[5]) * u[2])"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vqs"
		    Position		    [110, 131, 365, 159]
		    Expr		    "one_third * (2*u[3] + u[4])"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vqr,vdr"
		    Position		    [470, 68, 500, 82]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vqs,vds"
		    Position		    [470, 163, 500, 177]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    Name		    "Vqr,vdr"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "vqr,vdr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "vdr"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    DstBlock		    "vqs"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "vds"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "vqr"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "vdr"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "vqr"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Vqs,vds"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "vqs,vds"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vqs"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vds"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Synchronous reference frame"
		  Ports			  [1, 2, 1]
		  Position		  [230, 334, 360, 401]
		  ShowName		  off
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('Synchronous\\nreference\\nfra"
"me')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Synchronous reference frame"
		    Location		    [297, 456, 800, 692]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [400, 15, 420, 35]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [370, 123, 375, 212]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "Vqs,vds"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [370, 23, 375, 112]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "Vqr,vdr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vdr"
		    Position		    [110, 77, 335, 103]
		    Expr		    "(2*u[5]*u[1] + (u[5]-sqrt3*u[6]) "
"* u[2]) / 3"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vds"
		    Position		    [110, 177, 335, 203]
		    Expr		    "(2*u[7]*u[3] + (u[7]-sqrt3*u[8]) "
"* u[4]) / 3"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vqr"
		    Position		    [110, 31, 335, 59]
		    Expr		    "(2*u[6]*u[1] + (u[6]+sqrt3*u[5]) "
"* u[2]) / 3"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "vqs"
		    Position		    [110, 131, 335, 159]
		    Expr		    "(2*u[8]*u[3] + (u[8]+sqrt3*u[7]) "
"* u[4]) / 3"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vqr,vdr"
		    Position		    [440, 63, 470, 77]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vqs,vds"
		    Position		    [440, 163, 470, 177]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    Name		    "Vqr,vdr"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "vqr,vdr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "vdr"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "vqs"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "vds"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "vqr"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "vdr"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "vqr"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Vqs,vds"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "vqs,vds"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vds"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "vqs"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "transit"
		  Ports			  [1, 1]
		  Position		  [75, 63, 120, 97]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "transit"
		    Location		    [502, 571, 821, 714]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "vu"
		    Position		    [25, 53, 55, 67]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant6"
		    Position		    [70, 31, 105, 49]
		    ShowName		    off
		    Value		    "[0;0]"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [125, 31, 130, 69]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector"
		    Ports		    [1, 1]
		    Position		    [155, 15, 200, 85]
		    Elements		    "elements1"
		    InputPortWidth	    "selWidth"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vr,vs"
		    Position		    [230, 43, 260, 57]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Selector"
		    SrcPort		    1
		    DstBlock		    "vr,vs"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vu"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "Selector"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant6"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "vqr,vdr"
		  Position		  [485, 78, 515, 92]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "vqs,vds"
		  Position		  [485, 363, 515, 377]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "transit"
		  SrcPort		  1
		  DstBlock		  "1_Vb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  Points		  [-5, 0]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  Points		  [0, 5]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_Vb"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 135]
		    Branch {
		    Points		    [0, 135]
		    DstBlock		    "Synchronous reference frame"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Stationary reference frame"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Rotor reference frame"
		    DstPort		    1
		  }
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "sin,cos"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch"
		  SrcPort		  1
		  DstBlock		  "vqr,vdr"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Synchronous reference frame"
		  SrcPort		  2
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Stationary reference frame"
		  SrcPort		  2
		  Points		  [30, 0; 0, 125]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Rotor reference frame"
		  SrcPort		  2
		  Points		  [40, 0; 0, 250]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Synchronous reference frame"
		  SrcPort		  1
		  Points		  [20, 0; 0, -250]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Stationary reference frame"
		  SrcPort		  1
		  Points		  [10, 0; 0, -125]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Rotor reference frame"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch1"
		  SrcPort		  1
		  DstBlock		  "vqs,vds"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "Synchronous reference frame"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  DstBlock		  "Stationary reference frame"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Rotor reference frame"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "v"
		  SrcPort		  1
		  DstBlock		  "transit"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "dq2abc"
	      Ports		      [3, 3]
	      Position		      [415, 28, 505, 102]
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"dq2abc"
		Location		[133, 182, 610, 609]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "sin,cos"
		  Position		  [20, 128, 50, 142]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "iqr,idr"
		  Position		  [20, 58, 50, 72]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "iqs,ids"
		  Position		  [20, 93, 50, 107]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [153, 15, 197, 40]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl==1"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [153, 150, 197, 175]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl==2"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [153, 285, 197, 310]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl==3"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [265, 40, 295, 55]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [305, 322, 335, 338]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl"
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch"
		  Ports			  [4, 1]
		  Position		  [305, 61, 330, 109]
		  ShowName		  off
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch1"
		  Ports			  [4, 1]
		  Position		  [310, 346, 335, 394]
		  ShowName		  off
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [3, 1]
		  Position		  [70, 50, 75, 150]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [315, 214, 320, 256]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [360, 102, 365, 153]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [405, 357, 410, 408]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Rotor reference frame"
		  Ports			  [1, 2, 1]
		  Position		  [110, 64, 240, 131]
		  ShowName		  off
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('Rotor\\nreference\\nframe')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Rotor reference frame"
		    Location		    [451, 418, 973, 654]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 43, 55, 57]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [480, 15, 500, 35]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [405, 28, 410, 117]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "ira,irb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [405, 123, 410, 212]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "isa,isb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "ira"
		    Position		    [110, 36, 360, 64]
		    Expr		    "u[1]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "irb"
		    Position		    [110, 82, 360, 108]
		    Expr		    "-(u[1] + sqrt3*u[2]) / 2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "isa"
		    Position		    [110, 131, 360, 159]
		    Expr		    "u[6]*u[3]+u[5]*u[4]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "isb"
		    Position		    [110, 177, 360, 203]
		    Expr		    "((-u[6]+sqrt3*u[5])*u[3] + (-sqrt"
"3*u[6]-u[5])*u[4]) / 2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "ira,irb"
		    Position		    [475, 68, 505, 82]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "isa,isb"
		    Position		    [475, 163, 505, 177]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    Name		    "isa,isb"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "isa,isb"
		    DstPort		    1
		    }
		    Line {
		    Name		    "ira,irb"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "ira,irb"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "isb"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "isa"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "irb"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "ira"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "isb"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "isa"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "irb"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "ira"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  Ports			  [1, 1]
		  Position		  [385, 210, 410, 260]
		  Elements		  "elements2"
		  InputPortWidth	  "4"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Stationary reference frame"
		  Ports			  [1, 2, 1]
		  Position		  [110, 198, 240, 267]
		  ShowName		  off
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('Stationary\\nreference\\nfram"
"e')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Stationary reference frame"
		    Location		    [83, 76, 605, 312]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [15, 43, 45, 57]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [470, 15, 490, 35]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [395, 28, 400, 117]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "ira,irb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [395, 123, 400, 212]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "isa,isb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "ira"
		    Position		    [100, 36, 350, 64]
		    Expr		    "u[6]*u[1] - u[5]*u[2]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "irb"
		    Position		    [100, 82, 350, 108]
		    Expr		    "((-u[6]-sqrt3*u[5])*u[1] + (u[5]-"
"sqrt3*u[6])*u[2]) / 2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "isa"
		    Position		    [100, 131, 350, 159]
		    Expr		    "u[3]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "isb"
		    Position		    [100, 177, 350, 203]
		    Expr		    "-(u[3] + sqrt3*u[4]) / 2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "ira,irb"
		    Position		    [465, 68, 495, 82]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "isa,isb"
		    Position		    [465, 163, 495, 177]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    Name		    "isa,isb"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "isa,isb"
		    DstPort		    1
		    }
		    Line {
		    Name		    "ira,irb"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "ira,irb"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "isb"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "isa"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "irb"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "ira"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "isb"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "isa"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "irb"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "ira"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [1, 1]
		  Position		  [315, 128, 335, 152]
		  ShowName		  off
		  Inputs		  "-"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [1, 1]
		  Position		  [365, 383, 385, 407]
		  ShowName		  off
		  Inputs		  "-"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Synchronous reference frame"
		  Ports			  [1, 2, 1]
		  Position		  [110, 333, 240, 402]
		  ShowName		  off
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('Synchronous\\nreference\\nfra"
"me')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Synchronous reference frame"
		    Location		    [393, 144, 915, 380]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [15, 43, 45, 57]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [470, 15, 490, 35]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [395, 28, 400, 117]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "ira,irb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [395, 123, 400, 212]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "isa,isb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "ira"
		    Position		    [100, 36, 350, 64]
		    Expr		    "u[6]*u[1] + u[5]*u[2]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "irb"
		    Position		    [100, 82, 350, 108]
		    Expr		    "((-u[6]+sqrt3*u[5])*u[1] + (-sqrt"
"3*u[6]-u[5])*u[2]) / 2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "isa"
		    Position		    [100, 131, 350, 159]
		    Expr		    "u[8]*u[3] + u[7]*u[4]"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "isb"
		    Position		    [100, 177, 350, 203]
		    Expr		    "((-u[8]+sqrt3*u[7])*u[3] + (-sqrt"
"3*u[8]-u[7])*u[4]) / 2"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "ira,irb"
		    Position		    [465, 68, 495, 82]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "isa,isb"
		    Position		    [465, 163, 495, 177]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    Name		    "isa,isb"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "isa,isb"
		    DstPort		    1
		    }
		    Line {
		    Name		    "ira,irb"
		    Labels		    [0, 0]
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "ira,irb"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "isb"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "isa"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "irb"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "ira"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "isb"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "isa"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "irb"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "ira"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "ib"
		  Position		  [340, 222, 365, 248]
		  ShowName		  off
		  Gain			  "ib"
		}
		Block {
		  BlockType		  Outport
		  Name			  "irab,isab"
		  Position		  [430, 228, 460, 242]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "irabc"
		  Position		  [425, 123, 455, 137]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "isabc"
		  Position		  [435, 378, 465, 392]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  DstBlock		  "irab,isab"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "ib"
		  SrcPort		  1
		  DstBlock		  "Selector"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "isabc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  Points		  [-5, 0]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  Points		  [0, 10]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "ib"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rotor reference frame"
		  SrcPort		  2
		  Points		  [40, 0; 0, 250]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "sin,cos"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch1"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -55; -55, 0; 0, -70]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "irabc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch"
		  SrcPort		  1
		  Points		  [5, 0; 0, 30]
		  Branch {
		    Points		    [-45, 0; 0, 25]
		    Branch {
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 85]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "iqr,idr"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "iqs,ids"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 135]
		    Branch {
		    Points		    [0, 135]
		    DstBlock		    "Synchronous reference frame"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Stationary reference frame"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Rotor reference frame"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Synchronous reference frame"
		  SrcPort		  2
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Stationary reference frame"
		  SrcPort		  2
		  Points		  [30, 0; 0, 125]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Synchronous reference frame"
		  SrcPort		  1
		  Points		  [20, 0; 0, -250]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Stationary reference frame"
		  SrcPort		  1
		  Points		  [10, 0; 0, -125]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Rotor reference frame"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "Synchronous reference frame"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  DstBlock		  "Stationary reference frame"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Rotor reference frame"
		  DstPort		  enable
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "sin,cos"
	      Ports		      [1, 3]
	      Position		      [85, 127, 165, 203]
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"sin,cos"
		Location		[240, 128, 732, 518]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "thr,wr"
		  Position		  [25, 83, 55, 97]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [207, 15, 243, 35]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl<3"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [335, 206, 360, 224]
		  ShowName		  off
		  Value			  "ctrl"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [335, 226, 360, 244]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [212, 130, 248, 150]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "ctrl==3"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [145, 284, 180, 306]
		  ShowName		  off
		  Value			  "ctrl"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant5"
		  Position		  [135, 326, 160, 344]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant6"
		  Position		  [135, 346, 160, 364]
		  ShowName		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [170, 240, 200, 270]
		  ShowName		  off
		  Gain			  "-1"
		  Port {
		    PortNumber		    1
		    Name		    "-wr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch"
		  Ports			  [4, 1]
		  Position		  [385, 200, 415, 290]
		  ShowName		  off
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch1"
		  Ports			  [4, 1]
		  Position		  [200, 280, 230, 370]
		  ShowName		  off
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  Ports			  [1, 1]
		  Position		  [90, 75, 130, 105]
		  ShowName		  off
		  InputPortWidth	  "2"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector1"
		  Ports			  [1, 1]
		  Position		  [90, 240, 130, 270]
		  ShowName		  off
		  Elements		  "2"
		  InputPortWidth	  "2"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [385, 85, 415, 115]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "sin(beta),cos(beta),sin(th),cos(th)"
		  Ports			  [1, 2, 1]
		  Position		  [150, 169, 310, 231]
		  ShowName		  off
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "sin(beta),cos(beta),sin(th),cos(t"
"h)"
		    Location		    [524, 638, 1030, 840]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "thr,wr"
		    Position		    [25, 43, 55, 57]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [415, 20, 435, 40]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    Position		    [125, 90, 145, 110]
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux2"
		    Ports		    [1, 2]
		    Position		    [80, 31, 85, 69]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    Port {
		    PortNumber		    1
		    Name		    "thr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    Port {
		    PortNumber		    2
		    Name		    "wr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [4, 1]
		    Position		    [360, 26, 365, 144]
		    ShowName		    off
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [95, 140, 125, 170]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "-+|"
		    Port {
		    PortNumber		    1
		    Name		    "we-wr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [205, 30, 225, 50]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|-+"
		    Port {
		    PortNumber		    1
		    Name		    "beta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction"
		    Ports		    [1, 1]
		    Position		    [275, 89, 310, 111]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction1"
		    Ports		    [1, 1]
		    Position		    [275, 29, 310, 51]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction2"
		    Ports		    [1, 1]
		    Position		    [275, 59, 310, 81]
		    ShowName		    off
		    Operator		    "cos"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction3"
		    Ports		    [1, 1]
		    Position		    [275, 119, 310, 141]
		    ShowName		    off
		    Operator		    "cos"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "we"
		    Position		    [50, 145, 75, 165]
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "web_psb"
		    Position		    [170, 81, 205, 119]
		    ShowName		    off
		    Gain		    "web_psb"
		    Port {
		    PortNumber		    1
		    Name		    "th"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "sin(beta),cos(beta),\nsin(th),cos"
"(th)"
		    Position		    [405, 78, 435, 92]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "we-wr"
		    Position		    [410, 148, 440, 162]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "thr,wr"
		    SrcPort		    1
		    DstBlock		    "Demux2"
		    DstPort		    1
		    }
		    Line {
		    Name		    "wr"
		    Labels		    [0, 0]
		    SrcBlock		    "Demux2"
		    SrcPort		    2
		    Points		    [20, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Trigonometric\nFunction1"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Trigonometric\nFunction2"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Trigonometric\nFunction"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Trigonometric\nFunction3"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "sin(beta),cos(beta),\nsin(th),cos"
"(th)"
		    DstPort		    1
		    }
		    Line {
		    Name		    "beta"
		    Labels		    [0, 0]
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Trigonometric\nFunction1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Trigonometric\nFunction2"
		    DstPort		    1
		    }
		    }
		    Line {
		    Name		    "thr"
		    Labels		    [0, 0]
		    SrcBlock		    "Demux2"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    Name		    "th"
		    Labels		    [1, 0]
		    SrcBlock		    "web_psb"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Branch {
		    Labels		    [1, 0]
		    Points		    [40, 0]
		    Branch {
		    DstBlock		    "Trigonometric\nFunction"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Trigonometric\nFunction3"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    DstBlock		    "web_psb"
		    DstPort		    1
		    }
		    Line {
		    Name		    "we-wr"
		    Labels		    [0, 0]
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "we-wr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "we"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "sin(thr),cos(thr)"
		  Ports			  [1, 1, 1]
		  Position		  [150, 67, 305, 113]
		  ShowName		  off
		  FontSize		  12
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "sin(thr),cos(thr)"
		    Location		    [224, 189, 491, 357]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "thr"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [190, 30, 210, 50]
		    StatesWhenEnabling	    "reset"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    Position		    [90, 115, 125, 135]
		    Value		    "[0; 0]"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [3, 1]
		    Position		    [150, 26, 155, 144]
		    ShowName		    off
		    Inputs		    "3"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction"
		    Ports		    [1, 1]
		    Position		    [90, 34, 125, 56]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction1"
		    Ports		    [1, 1]
		    Position		    [90, 74, 125, 96]
		    ShowName		    off
		    Operator		    "cos"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "sin(thr),cos(thr)"
		    Position		    [195, 78, 225, 92]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Trigonometric\nFunction"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Trigonometric\nFunction1"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "thr"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Trigonometric\nFunction"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Trigonometric\nFunction1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "sin(thr),cos(thr)"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "sin,cos"
		  Position		  [440, 93, 470, 107]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "w-wr"
		  Position		  [440, 238, 470, 252]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "w"
		  Position		  [440, 318, 470, 332]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [0, 5]
		  Branch {
		    DstBlock		    "sin(thr),cos(thr)"
		    DstPort		    enable
		  }
		  Branch {
		    Points		    [95, 0; 0, 55]
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "thr,wr"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Selector"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 110]
		    Branch {
		    DstBlock		    "sin(beta),cos(beta),sin(th),cos(t"
"h)"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Selector1"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  DstBlock		  "sin(thr),cos(thr)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "sin,cos"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  DstBlock		  "sin(beta),cos(beta),sin(th),cos(th)"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "sin(beta),cos(beta),sin(th),cos(th)"
		  SrcPort		  2
		  Points		  [5, 0; 0, 60]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch"
		  SrcPort		  1
		  DstBlock		  "w-wr"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sin(thr),cos(thr)"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sin(beta),cos(beta),sin(th),cos(th)"
		  SrcPort		  1
		  Points		  [5, 0; 0, -75]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  Name			  "-wr"
		  Labels		  [0, 0]
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Selector1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "Multiport\nSwitch1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant5"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Constant6"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch1"
		  SrcPort		  1
		  DstBlock		  "w"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [530, 33, 560, 47]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [530, 188, 560, 202]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Line {
	      SrcBlock		      "sin,cos"
	      SrcPort		      2
	      Points		      [15, 0; 0, -100]
	      DstBlock		      "Rotor"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Mutual fluxes"
	      SrcPort		      1
	      Points		      [-10, 0]
	      Branch {
		DstBlock		"Rotor"
		DstPort			3
	      }
	      Branch {
		DstBlock		"Stator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "sin,cos"
	      SrcPort		      1
	      Points		      [5, 0; 0, -25]
	      Branch {
		Points			[-110, 0; 0, -35]
		DstBlock		"abc2qd"
		DstPort			2
	      }
	      Branch {
		Points			[0, -100; 225, 0]
		DstBlock		"dq2abc"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Stator"
	      SrcPort		      3
	      Points		      [5, 0; 0, 25]
	      DstBlock		      "Mechanical"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "sin,cos"
	      SrcPort		      3
	      Points		      [15, 0; 0, 120]
	      DstBlock		      "Stator"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "abc2qd"
	      SrcPort		      2
	      Points		      [35, 0; 0, 145]
	      Branch {
		Points			[0, 60]
		DstBlock		"Stator"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Mux3"
		DstPort			8
	      }
	    }
	    Line {
	      SrcBlock		      "abc2qd"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		DstBlock		"Rotor"
		DstPort			1
	      }
	      Branch {
		Points			[0, 170; 185, 0; 0, -25]
		DstBlock		"Mux3"
		DstPort			4
	      }
	    }
	    Line {
	      SrcBlock		      "dq2abc"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Rotor"
	      SrcPort		      2
	      Points		      [10, 0; 0, 60]
	      Branch {
		DstBlock		"Mutual fluxes"
		DstPort			1
	      }
	      Branch {
		Points			[0, 30]
		DstBlock		"Mux3"
		DstPort			3
	      }
	    }
	    Line {
	      SrcBlock		      "Rotor"
	      SrcPort		      1
	      Points		      [20, 0; 0, 20]
	      Branch {
		Points			[0, 100]
		DstBlock		"Mux3"
		DstPort			2
	      }
	      Branch {
		DstBlock		"dq2abc"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "abc2qd"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mechanical"
	      SrcPort		      2
	      Points		      [-15, 0; 0, -170]
	      DstBlock		      "sin,cos"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Stator"
	      SrcPort		      1
	      Points		      [20, 0; 0, -45]
	      Branch {
		Points			[0, -35]
		DstBlock		"Mutual fluxes"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Mux3"
		DstPort			7
	      }
	    }
	    Line {
	      SrcBlock		      "Stator"
	      SrcPort		      2
	      Points		      [30, 0; 0, -80]
	      Branch {
		DstBlock		"dq2abc"
		DstPort			3
	      }
	      Branch {
		DstBlock		"Mux3"
		DstPort			6
	      }
	    }
	    Line {
	      SrcBlock		      "Mechanical"
	      SrcPort		      1
	      Points		      [-5, 0; 0, -60]
	      DstBlock		      "Mux3"
	      DstPort		      9
	    }
	    Line {
	      SrcBlock		      "Mux3"
	      SrcPort		      1
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "dq2abc"
	      SrcPort		      3
	      Points		      [5, 0; 0, 35; -105, 0; 0, 70]
	      DstBlock		      "Mux3"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "dq2abc"
	      SrcPort		      2
	      Points		      [15, 0; 0, 70; -105, 0; 0, 20]
	      DstBlock		      "Mux3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Tm"
	      SrcPort		      1
	      Points		      [120, 0]
	      DstBlock		      "Mechanical"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "breaker"
	  Ports			  [2, 2]
	  Position		  [25, 104, 70, 171]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Breaker Model"
	  MaskDescription	  "Simulink model for the Breaker block."
	  MaskPromptString	  "Number of breaker|Initial state|Breaker res"
"istances|Sample time (s):"
	  MaskStyleString	  "edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on"
	  MaskCallbackString	  "|||"
	  MaskEnableString	  "on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on"
	  MaskToolTipString	  "on,on,on,on"
	  MaskVarAliasString	  ",,,"
	  MaskVariables		  "Nsw=@1;istate=@2;Rsw=@3;Ts=@4;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|0|1|1"
	  MaskTabNameString	  ",,,"
	  System {
	    Name		    "breaker"
	    Location		    [35, 480, 1072, 769]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [30, 40, 50, 60]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"Braeker voltage"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [525, 145, 545, 165]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 1"
	      Position		      [415, 100, 435, 120]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Relay
	      Name		      ">1.5"
	      Position		      [635, 83, 665, 107]
	      OnSwitchValue	      "1.5"
	      OffSwitchValue	      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [480, 232, 570, 258]
	      Value		      "zeros(Nsw,1)"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion"
	      Position		      [845, 133, 885, 157]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion1"
	      Position		      [735, 84, 770, 106]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion2"
	      Position		      [515, 68, 565, 92]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion3"
	      Position		      [650, 144, 700, 166]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion4"
	      Position		      [550, 120, 600, 140]
	      Orientation	      "up"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Delay Ts"
	      Position		      [200, 88, 230, 122]
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Delay Ts "
	      Position		      [325, 98, 355, 132]
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Delay Ts 1"
	      Position		      [685, 78, 715, 112]
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [205, 35, 235, 65]
	      Gain		      "2"
	    }
	    Block {
	      BlockType		      InitialCondition
	      Name		      "IC"
	      Position		      [905, 128, 945, 162]
	      Value		      "istate"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [380, 52, 410, 83]
	      RndMeth		      "Floor"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [275, 42, 300, 73]
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b5"
	      Position		      [470, 61, 495, 94]
	      ShowName		      off
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "or"
	      Ports		      [2, 1]
	      Position		      [795, 125, 825, 165]
	      Operator		      "OR"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "sum"
	      Ports		      [2, 1]
	      Position		      [590, 69, 615, 116]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [610, 235, 630, 255]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Status"
	      Position		      [980, 135, 1000, 155]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion4"
	      SrcPort		      1
	      DstBlock		      "sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "b5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "b5"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion"
	      SrcPort		      1
	      DstBlock		      "IC"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "or"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "IC"
	      SrcPort		      1
	      DstBlock		      "Status"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion1"
	      SrcPort		      1
	      Points		      [0, 40]
	      DstBlock		      "or"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Delay Ts 1"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion3"
	      SrcPort		      1
	      DstBlock		      "or"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      ">1.5"
	      SrcPort		      1
	      DstBlock		      "Delay Ts 1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "g"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		DstBlock		"Data Type \nConversion4"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Data Type \nConversion3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "sum"
	      SrcPort		      1
	      DstBlock		      ">1.5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion2"
	      SrcPort		      1
	      DstBlock		      "sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 1"
	      SrcPort		      1
	      Points		      [10, 0; 0, -25]
	      DstBlock		      "b5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Delay Ts "
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		DstBlock		"Delay Ts "
		DstPort			1
	      }
	      Branch {
		DstBlock		"Product"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "Braeker voltage"
	      Labels		      [1, 0]
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [115, 0]
	      Branch {
		Points			[0, 55]
		DstBlock		"Delay Ts"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Gain"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Delay Ts"
	      SrcPort		      1
	      Points		      [20, 0; 0, -40]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Annotation {
	      Name		      "Zero crossing detection"
	      Position		      [401, 159]
	    }
	    Annotation {
	      Name		      "Current Prediction"
	      Position		      [206, 159]
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "detailed_thyristor (logical)"
	  Ports			  [2, 4]
	  Position		  [115, 103, 160, 172]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "thyristors logic model"
	  MaskPromptString	  "Number of thyristors|Forward voltage Vf (V)"
":|Thyristor resistances|Sample time (s):"
	  MaskStyleString	  "edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on"
	  MaskCallbackString	  "|||"
	  MaskEnableString	  "on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on"
	  MaskToolTipString	  "on,on,on,on"
	  MaskVarAliasString	  ",,,"
	  MaskVariables		  "Nsw=@1;Vf=@2;Rsw=@3;Ts=@4;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|0|1|1"
	  MaskTabNameString	  ",,,"
	  System {
	    Name		    "detailed_thyristor (logical)"
	    Location		    [22, 462, 847, 808]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [15, 135, 35, 155]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"Vak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [340, 160, 360, 180]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      " Delay Ts1"
	      Position		      [300, 55, 335, 95]
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      " Delay Ts2"
	      Position		      [645, 53, 670, 97]
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 1"
	      Position		      [370, 90, 390, 110]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 2"
	      Position		      [225, 150, 245, 170]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 3"
	      Position		      [225, 200, 245, 220]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 4"
	      Position		      [435, 280, 455, 300]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1/Rsw"
	      Position		      [75, 220, 105, 250]
	      Gain		      "1/Rsw"
	      Port {
		PortNumber		1
		Name			"Iak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [470, 12, 560, 38]
	      Value		      "zeros(Nsw,1)"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion1"
	      Position		      [605, 64, 625, 86]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion2"
	      Position		      [380, 159, 400, 181]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion3"
	      Position		      [380, 194, 400, 216]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion4"
	      Position		      [315, 144, 335, 166]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion5"
	      Position		      [485, 54, 505, 76]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [240, 30, 270, 60]
	      ShowName		      off
	      Gain		      "2"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [620, 226, 625, 264]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	      Port {
		PortNumber		1
		Name			"measurement signals"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [545, 215, 575, 245]
	      UpperLimit	      "inf"
	      LowerLimit	      "0"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [370, 37, 395, 68]
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [225, 245, 245, 265]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|++"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [495, 210, 525, 240]
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b5"
	      Position		      [435, 46, 460, 79]
	      ShowName		      off
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b6"
	      Position		      [270, 136, 295, 169]
	      ShowName		      off
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b7"
	      Position		      [270, 186, 295, 219]
	      ShowName		      off
	      Operator		      "=="
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "or2"
	      Ports		      [2, 1]
	      Position		      [555, 55, 585, 95]
	      ShowName		      off
	      Operator		      "OR"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "or3"
	      Ports		      [3, 1]
	      Position		      [425, 150, 455, 190]
	      ShowName		      off
	      Inputs		      "3"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "vf"
	      Position		      [150, 274, 200, 296]
	      Value		      "Vf"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [595, 15, 615, 35]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Status"
	      Position		      [755, 65, 775, 85]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [745, 235, 765, 255]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vf"
	      Position		      [335, 275, 355, 295]
	      Port		      "4"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "0 3"
	      SrcPort		      1
	      DstBlock		      "b7"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Vak"
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Labels			[1, 0]
		Points			[95, 0]
		Branch {
		  DstBlock		  "b6"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 110]
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
	      }
	      Branch {
		Points			[0, 90]
		DstBlock		"1/Rsw"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "0 2"
	      SrcPort		      1
	      DstBlock		      "b6"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      " Delay Ts1"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "0 1"
	      SrcPort		      1
	      Points		      [25, 0]
	      DstBlock		      "b5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "b5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "or3"
	      SrcPort		      1
	      Points		      [80, 0]
	      DstBlock		      "or2"
	      DstPort		      2
	    }
	    Line {
	      Name		      "measurement signals"
	      Labels		      [0, 0]
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "vf"
	      SrcPort		      1
	      Points		      [0, 0; 30, 0]
	      Branch {
		DstBlock		"Sum1"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Vf"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "or2"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion1"
	      SrcPort		      1
	      DstBlock		      " Delay Ts2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      " Delay Ts2"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		DstBlock		"Status"
		DstPort			1
	      }
	      Branch {
		Points			[0, 115; -220, 0; 0, 35]
		DstBlock		"Switch"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion2"
	      SrcPort		      1
	      DstBlock		      "or3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "b7"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion3"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "or3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "b6"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion4"
	      SrcPort		      1
	      DstBlock		      "or3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "b5"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion5"
	      SrcPort		      1
	      DstBlock		      "or2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Points			[15, 0]
		DstBlock		"Mux"
		DstPort			1
	      }
	      Branch {
		Points			[0, 90; -455, 0; 0, -125]
		Branch {
		  DstBlock		  "b7"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, -120]
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    " Delay Ts1"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Line {
	      Name		      "Iak"
	      Labels		      [0, 0]
	      SrcBlock		      "1/Rsw"
	      SrcPort		      1
	      Points		      [315, 0; 0, -20]
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 4"
	      SrcPort		      1
	      Points		      [20, 0]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Annotation {
	      Name		      "Current prediction"
	      Position		      [301, 120]
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "diode (logical)"
	  Ports			  [1, 4]
	  Position		  [115, 13, 160, 82]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Diode logic model"
	  MaskPromptString	  "Number of diodes|Forward Voltage Vf (V):|Di"
"ode resistances|Sample time (s):"
	  MaskStyleString	  "edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on"
	  MaskCallbackString	  "|||"
	  MaskEnableString	  "on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on"
	  MaskToolTipString	  "on,on,on,on"
	  MaskVarAliasString	  ",,,"
	  MaskVariables		  "Nsw=@1;Vf=@2;Rsw=@3;Ts=@4;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|0|1|1"
	  MaskTabNameString	  ",,,"
	  System {
	    Name		    "diode (logical)"
	    Location		    [43, 378, 755, 750]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [15, 160, 35, 180]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"Vak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      " Delay Ts"
	      Position		      [265, 80, 300, 120]
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      " Delay Ts1"
	      Position		      [565, 80, 600, 120]
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 1"
	      Position		      [370, 85, 390, 105]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 2"
	      Position		      [195, 175, 215, 195]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 3"
	      Position		      [250, 225, 270, 245]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 4"
	      Position		      [400, 290, 420, 310]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1/Rsw"
	      Position		      [65, 237, 110, 283]
	      Gain		      "1./Rsw"
	      Port {
		PortNumber		1
		Name			"Iak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [265, 12, 355, 38]
	      Value		      "zeros(Nsw,1)"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion1"
	      Position		      [530, 89, 545, 111]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [205, 55, 235, 85]
	      ShowName		      off
	      Gain		      "2"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [555, 251, 560, 289]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	      Port {
		PortNumber		1
		Name			"measurement signals"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [495, 235, 525, 265]
	      UpperLimit	      "inf"
	      LowerLimit	      "0"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [335, 62, 360, 93]
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [245, 270, 265, 290]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|++"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [445, 235, 475, 265]
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b5"
	      Position		      [420, 71, 445, 104]
	      ShowName		      off
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b6"
	      Position		      [235, 164, 260, 191]
	      ShowName		      off
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b7"
	      Position		      [305, 211, 330, 244]
	      ShowName		      off
	      Operator		      "=="
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "or2"
	      Ports		      [2, 1]
	      Position		      [475, 80, 510, 115]
	      ShowName		      off
	      Operator		      "OR"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "or3"
	      Ports		      [2, 1]
	      Position		      [410, 170, 445, 205]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "vf"
	      Position		      [155, 304, 205, 326]
	      Value		      "Vf"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [415, 15, 435, 35]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Status"
	      Position		      [665, 90, 685, 110]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [665, 260, 685, 280]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vf"
	      Position		      [370, 305, 390, 325]
	      Port		      "4"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      Name		      "measurement signals"
	      Labels		      [0, 0]
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "b5"
	      SrcPort		      1
	      DstBlock		      "or2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "b5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 1"
	      SrcPort		      1
	      DstBlock		      "b5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      " Delay Ts"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 2"
	      SrcPort		      1
	      DstBlock		      "b6"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Vak"
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		Labels			[1, 1]
		Points			[90, 0]
		Branch {
		  DstBlock		  "b6"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 110]
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
	      }
	      Branch {
		Points			[0, 90]
		DstBlock		"1/Rsw"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "0 3"
	      SrcPort		      1
	      DstBlock		      "b7"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "or3"
	      SrcPort		      1
	      Points		      [10, 0]
	      DstBlock		      "or2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "b6"
	      SrcPort		      1
	      DstBlock		      "or3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "b7"
	      SrcPort		      1
	      Points		      [60, 0]
	      DstBlock		      "or3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "vf"
	      SrcPort		      1
	      Points		      [0, 0; 45, 0]
	      Branch {
		DstBlock		"Sum1"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Vf"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "or2"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion1"
	      SrcPort		      1
	      DstBlock		      " Delay Ts1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      " Delay Ts1"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		DstBlock		"Status"
		DstPort			1
	      }
	      Branch {
		Points			[0, 110; -205, 0; 0, 40]
		DstBlock		"Switch"
		DstPort			2
	      }
	    }
	    Line {
	      Name		      "Iak"
	      Labels		      [0, 0]
	      SrcBlock		      "1/Rsw"
	      SrcPort		      1
	      Points		      [290, 0; 0, -20]
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		DstBlock		"Mux"
		DstPort			1
	      }
	      Branch {
		Points			[0, -95; -365, 0]
		Branch {
		  Points		  [0, 65]
		  DstBlock		  "b7"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, -55]
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    " Delay Ts"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Line {
	      SrcBlock		      "0 4"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Annotation {
	      Name		      "Current Prediction"
	      Position		      [291, 144]
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "distributed_param_line"
	  Ports			  [1, 1]
	  Position		  [490, 203, 535, 267]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Distributed Parameter Line Model"
	  MaskDescription	  "N phases distributed parameters line with l"
"osses"
	  MaskHelp		  "Multiphase distributed parameter line.  For"
" symetrical or asymetrical lines, R L and C parameters are specified by NxN m"
"atrices                                                                      "
"                                                 \nFor 2-phase, 3-phase and s"
"ix-phase symetrical lines, R L C parameters can be also specified by sequence"
" component vectors:  ie [R0 R1] for 2 and 3 phase line or [R1 R0 R0m] for a s"
"ix-phase line representing two identical coupled 3-phase circuits."
	  MaskPromptString	  "Number of phases|Frequency used for R L C s"
"pecification (Hz) |R [3*3 matrix] or [R0 R1] (ohms/km) |L [3*3matrix ] or [L0"
" L1] (H/km)|C [3*3matrix] or [C0 C1] (F/km) |Line length (km)|V1_init:|V2_ini"
"t|I1_init:|I2_init:|time delay init"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,edit,edit,edi"
"t,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "||||||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,,,"
	  MaskVariables		  "nphase=@1;f=@2;ri=@3;li=@4;ci=@5;long=@6;V1"
"_init=@7;V2_init=@8;I1_init=@9;I2_init=@10;time_init=@11;"
	  MaskInitialization	  "[Zm,R,v,Ti]=powericonV2('Distributed Parame"
"ter Line Model',nphase,f,ri,li,ci);to=long./v;Rt4=R*long/4;h=(Zm-Rt4)./(Zm+Rt"
"4);\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "3|60|[0.01273 0.3864]|[0.9337e-3  4.1264e-3"
"]|[12.74e-9 7.751e-9]|100|[0 0 0 0; 0.0001244 0 0 0; 0.0002488 0 0 0; 0.00037"
"33 0 0 0; 0.0004977 0 0 0; 0.0006221 0 0 0]|[0 0 0 0; 0.0001244 0 0 0; 0.0002"
"488 0 0 0; 0.0003733 0 0 0; 0.0004977 0 0 0; 0.0006221 0 0 0]|[0 0 0 0; 0.000"
"1244 0 0 0; 0.0002488 0 0 0; 0.0003733 0 0 0; 0.0004977 0 0 0; 0.0006221 0 0 "
"0]|[0 0 0 0; 0.0001244 0 0 0; 0.0002488 0 0 0; 0.0003733 0 0 0; 0.0004977 0 0"
" 0; 0.0006221 0 0 0]|0"
	  MaskTabNameString	  ",,,,,,,,,,"
	  System {
	    Name		    "distributed_param_line"
	    Location		    [-2, 95, 1133, 717]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [45, 190, 65, 210]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Clock
	      Name		      "Clock1"
	      Position		      [255, 200, 275, 220]
	      Decimation	      "10"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      Ports		      [1, 2]
	      Position		      [85, 182, 125, 218]
	      Outputs		      "[nphase,nphase]"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [420, 83, 440, 107]
	      Gain		      "(1+h)./(Zm+Rt4)"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain1"
	      Position		      [400, 312, 470, 358]
	      Gain		      "(1+h)./(Zm+Rt4)"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain3"
	      Position		      [725, 300, 820, 350]
	      Gain		      "(1+h)/2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain4"
	      Position		      [715, 91, 810, 139]
	      Gain		      "(1+h)/2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain5"
	      Position		      [725, 366, 820, 414]
	      Gain		      "(1-h)/2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain6"
	      Position		      [715, 22, 815, 68]
	      Gain		      "(1-h)/2"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain7"
	      Position		      [875, 158, 925, 192]
	      Orientation	      "left"
	      Gain		      "h"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain8"
	      Position		      [875, 228, 925, 262]
	      Orientation	      "left"
	      Gain		      "h"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      FromWorkspace
	      Name		      "I1_ini"
	      Position		      [645, 170, 685, 200]
	      Orientation	      "left"
	      VariableName	      "I1_init"
	      SampleTime	      "0"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      FromWorkspace
	      Name		      "I2_ini"
	      Position		      [650, 280, 690, 310]
	      Orientation	      "left"
	      VariableName	      "I2_init"
	      SampleTime	      "0"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      StateSpace
	      Name		      "Matrix\nGain"
	      Position		      [180, 91, 205, 119]
	      A			      "[]"
	      B			      "[]"
	      C			      "[]"
	      D			      "K"
	      MaskType		      "Matrix Gain"
	      MaskDescription	      "Matrix Gain."
	      MaskHelp		      "Multiplies input vector by entered matr"
"ix to produce output vector (y=Au)."
	      MaskPromptString	      "Gain matrix:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskInitialization      "K = @1;"
	      MaskDisplay	      "disp('K')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Ti'"
	    }
	    Block {
	      BlockType		      StateSpace
	      Name		      "Matrix\nGain1"
	      Position		      [175, 294, 205, 326]
	      A			      "[]"
	      B			      "[]"
	      C			      "[]"
	      D			      "K"
	      MaskType		      "Matrix Gain"
	      MaskDescription	      "Matrix Gain."
	      MaskHelp		      "Multiplies input vector by entered matr"
"ix to produce output vector (y=Au)."
	      MaskPromptString	      "Gain matrix:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskInitialization      "K = @1;"
	      MaskDisplay	      "disp('K')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Ti'"
	    }
	    Block {
	      BlockType		      StateSpace
	      Name		      "Matrix\nGain2"
	      Position		      [1005, 136, 1030, 164]
	      A			      "[]"
	      B			      "[]"
	      C			      "[]"
	      D			      "K"
	      MaskType		      "Matrix Gain"
	      MaskDescription	      "Matrix Gain."
	      MaskHelp		      "Multiplies input vector by entered matr"
"ix to produce output vector (y=Au)."
	      MaskPromptString	      "Gain matrix:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskInitialization      "K = @1;"
	      MaskDisplay	      "disp('K')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Ti"
	    }
	    Block {
	      BlockType		      StateSpace
	      Name		      "Matrix\nGain3"
	      Position		      [1005, 241, 1030, 269]
	      A			      "[]"
	      B			      "[]"
	      C			      "[]"
	      D			      "K"
	      MaskType		      "Matrix Gain"
	      MaskDescription	      "Matrix Gain."
	      MaskHelp		      "Multiplies input vector by entered matr"
"ix to produce output vector (y=Au)."
	      MaskPromptString	      "Gain matrix:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskInitialization      "K = @1;"
	      MaskDisplay	      "disp('K')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Ti"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [1055, 197, 1085, 233]
	      Inputs		      "[nphase,nphase]"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [515, 90, 535, 110]
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [515, 320, 535, 340]
	      Inputs		      "-+"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [905, 105, 925, 125]
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [900, 295, 920, 315]
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [325, 96, 355, 154]
	      Threshold		      "time_init"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch2"
	      Position		      [340, 306, 370, 364]
	      Threshold		      "time_init"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch3"
	      Position		      [550, 125, 580, 185]
	      Orientation	      "left"
	      Threshold		      "time_init"
	      SaturateOnIntegerOverflow	off
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch4"
	      Position		      [550, 235, 580, 295]
	      Orientation	      "left"
	      Threshold		      "time_init"
	      SaturateOnIntegerOverflow	off
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      FromWorkspace
	      Name		      "V1_ini"
	      Position		      [225, 142, 265, 168]
	      VariableName	      "V1_init"
	      SampleTime	      "0"
	    }
	    Block {
	      BlockType		      FromWorkspace
	      Name		      "V2_ini"
	      Position		      [235, 367, 275, 393]
	      VariableName	      "V2_init"
	      SampleTime	      "0"
	    }
	    Block {
	      BlockType		      TransportDelay
	      Name		      "delai1"
	      Position		      [235, 90, 275, 120]
	      DelayTime		      "to"
	    }
	    Block {
	      BlockType		      TransportDelay
	      Name		      "delai2"
	      Position		      [245, 300, 285, 330]
	      DelayTime		      "to"
	    }
	    Block {
	      BlockType		      TransportDelay
	      Name		      "delai3"
	      Position		      [640, 120, 680, 150]
	      Orientation	      "left"
	      DelayTime		      "to"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      TransportDelay
	      Name		      "delai4"
	      Position		      [645, 230, 685, 260]
	      Orientation	      "left"
	      DelayTime		      "to"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [1105, 205, 1125, 225]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "I2_ini"
	      SrcPort		      1
	      Points		      [-20, 0; 0, -10]
	      DstBlock		      "Switch4"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "I1_ini"
	      SrcPort		      1
	      Points		      [-15, 0; 0, -10]
	      DstBlock		      "Switch3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Clock1"
	      SrcPort		      1
	      Points		      [20, 0; 0, 0]
	      Branch {
		Points			[0, 0]
		Branch {
		  Points		  [0, -85]
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, 125]
		  DstBlock		  "Switch2"
		  DstPort		  2
		}
	      }
	      Branch {
		Points			[305, 0; 0, 0]
		Branch {
		  Points		  [0, -55]
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, 55]
		  DstBlock		  "Switch4"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      SrcBlock		      "delai4"
	      SrcPort		      1
	      DstBlock		      "Switch4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch4"
	      SrcPort		      1
	      Points		      [-55, 0; 0, 60]
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch3"
	      SrcPort		      1
	      Points		      [-55, 0; 0, -50]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "delai3"
	      SrcPort		      1
	      DstBlock		      "Switch3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      Points		      [150, 0; 0, 30]
	      Branch {
		Points			[0, 30]
		DstBlock		"Gain5"
		DstPort			1
	      }
	      Branch {
		Points			[0, -35]
		DstBlock		"Gain3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      Points		      [145, 0; 0, -20]
	      Branch {
		Points			[0, -35]
		DstBlock		"Gain6"
		DstPort			1
	      }
	      Branch {
		Points			[0, 35]
		DstBlock		"Gain4"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "V2_ini"
	      SrcPort		      1
	      Points		      [0, -25]
	      DstBlock		      "Switch2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "delai2"
	      SrcPort		      1
	      DstBlock		      "Switch2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      Points		      [15, 0; 0, -30]
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch2"
	      SrcPort		      1
	      DstBlock		      "Gain1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "V1_ini"
	      SrcPort		      1
	      Points		      [5, 0; 0, -10]
	      DstBlock		      "Switch1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "delai1"
	      SrcPort		      1
	      DstBlock		      "Switch1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain8"
	      SrcPort		      1
	      DstBlock		      "delai4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      Points		      [50, 0; 0, 35; 0, 0]
	      Branch {
		DstBlock		"Matrix\nGain2"
		DstPort			1
	      }
	      Branch {
		Points			[0, 25]
		DstBlock		"Gain7"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Gain7"
	      SrcPort		      1
	      Points		      [-165, 0; 0, -40]
	      DstBlock		      "delai3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      Points		      [50, 0; 0, -45]
	      Branch {
		Points			[0, -5]
		DstBlock		"Matrix\nGain3"
		DstPort			1
	      }
	      Branch {
		Points			[0, -15]
		DstBlock		"Gain8"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain1"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain5"
	      SrcPort		      1
	      Points		      [60, 0]
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain6"
	      SrcPort		      1
	      Points		      [70, 0]
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain3"
	      SrcPort		      1
	      Points		      [30, 0; 0, -205]
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain4"
	      SrcPort		      1
	      Points		      [25, 0; 0, 185]
	      DstBlock		      "Sum3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Matrix\nGain"
	      SrcPort		      1
	      DstBlock		      "delai1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [20, 0; 0, -85]
	      DstBlock		      "Matrix\nGain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Matrix\nGain1"
	      SrcPort		      1
	      DstBlock		      "delai2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [15, 0; 0, 100]
	      DstBlock		      "Matrix\nGain1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Matrix\nGain3"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Matrix\nGain2"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "hysteresis_transformer"
	  Ports			  [1, 2]
	  Position		  [485, 109, 530, 176]
	  BackgroundColor	  "orange"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Saturable transformer model"
	  MaskDescription	  "Models the saturation of a three winding sa"
"turable transformer.\n\nThe saturation characteristic should be given in incr"
"easing order starting with current-flux pair (0,0). Only positive part of the"
" characteristic must be entered. If the initial flux parameter (phi0) is not "
"declared, the flux will be initialized automatically according to the steady-"
"state voltage across the magnetizing branch. Set winding no.3 parameters to z"
"ero to implement a two winding transformer.   "
	  MaskHelp		  "  "
	  MaskPromptString	  "Saturation current:|Flux saturation:|Initia"
"l flux:|pente initiale du flux initial|Mat file|Transfo no:|Base flux|Base cu"
"rrent|Sample time Ts(sec):"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,edit,edit,edi"
"t"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "||||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,"
	  MaskVariables		  "isat=@1;phisat=@2;fluxinit=@3;initialslope="
"@4;matfile=@5;indice=@6;fluxbase=@7;currentbase=@8;Ts=@9;"
	  MaskInitialization	  "[fb,ib,Tolerances,HT,UpperFlux,LowerFlux,Cu"
"rrent] = powericonV2('inithysteresis',matfile,1,fluxbase,currentbase);"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "[-734.846922834953 0 0 734.846922834953]|[-"
"1624.36833590349 -1191.20344632923 1191.20344632923 1624.36833590349]|0|+1|'h"
"ysteresis'|1|1082.91222393566|734.846922834953|Ts"
	  MaskTabNameString	  ",,,,,,,,"
	  System {
	    Name		    "hysteresis_transformer"
	    Location		    [98, 85, 584, 273]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [45, 75, 65, 95]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Hysteresis\n( always in SI )"
	      Ports		      [1, 1]
	      Position		      [210, 58, 360, 112]
	      ForegroundColor	      "red"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Hysteresis\n( always in SI )"
		Location		[98, 85, 1017, 644]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  Position		  [35, 138, 65, 152]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Hysteresis main loop\n+\nSaturation"
"\n(Lower Part)"
		  Position		  [115, 69, 165, 121]
		  ForegroundColor	  "magenta"
		  NamePlacement		  "alternate"
		  DialogController	  "Simulink.DDGSource"
		  InputValues		  "LowerFlux"
		  OutputValues		  "Current"
		  Port {
		    PortNumber		    1
		    Name		    "courbe principale + Saturation, p"
"artie du bas, le flux est en monte, donc sens positif"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Hysteresis main loop\n+\nSaturation"
".\n(Upper Part)"
		  Position		  [115, 209, 165, 261]
		  ForegroundColor	  "darkGreen"
		  DialogController	  "Simulink.DDGSource"
		  InputValues		  "UpperFlux"
		  OutputValues		  "Current"
		  Port {
		    PortNumber		    1
		    Name		    "courbe principale + Saturation, p"
"artie superieure, le flux est en descente, donc sens negatif"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [125, 155, 155, 185]
		  Port {
		    PortNumber		    1
		    Name		    "precedent"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory1"
		  Position		  [65, 310, 95, 340]
		  Orientation		  "down"
		  BackgroundColor	  "red"
		}
		Block {
		  BlockType		  Gain
		  Name			  "SI conversion2"
		  Position		  [395, 350, 435, 380]
		  ForegroundColor	  "orange"
		  Gain			  "ib"
		  Port {
		    PortNumber		    1
		    Name		    "Boucles internes"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  Ports			  [1, 1]
		  Position		  [260, 291, 300, 329]
		  Elements		  "2"
		  InputPortWidth	  "2"
		  Port {
		    PortNumber		    1
		    Name		    "Tr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector1"
		  Ports			  [1, 1]
		  Position		  [255, 346, 295, 384]
		  ForegroundColor	  "orange"
		  InputPortWidth	  "2"
		}
		Block {
		  BlockType		  Signum
		  Name			  "Sign"
		  Position		  [245, 130, 275, 160]
		  Port {
		    PortNumber		    1
		    Name		    "sens du flux"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [200, 135, 220, 155]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [585, 78, 620, 212]
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [705, 243, 740, 377]
		  Threshold		  "1.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Display
		  Name			  "Tr"
		  Ports			  [1]
		  Position		  [420, 267, 505, 293]
		  Decimation		  "1"
		}
		Block {
		  BlockType		  Gain
		  Name			  "pu conversion"
		  Position		  [105, 350, 145, 380]
		  ForegroundColor	  "orange"
		  Gain			  "fb"
		}
		Block {
		  BlockType		  "S-Function"
		  Name			  "sfun_psbtransfosat"
		  Ports			  [1, 1]
		  Position		  [165, 353, 215, 377]
		  ForegroundColor	  "orange"
		  ShowName		  off
		  FunctionName		  "sfun_test"
		  Parameters		  "fluxinit*fb,HT,indice,Ts,Tolerances"
",initialslope"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  Position		  [800, 303, 830, 317]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Memory1"
		  SrcPort		  1
		  Points		  [0, 20]
		  DstBlock		  "pu conversion"
		  DstPort		  1
		}
		Line {
		  Name			  "courbe principale + Saturation, par"
"tie du bas, le flux est en monte, donc sens positif"
		  Labels		  [0, 0]
		  SrcBlock		  "Hysteresis main loop\n+\nSaturation"
"\n(Lower Part)"
		  SrcPort		  1
		  Points		  [400, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "Hysteresis main loop\n+\nSaturati"
"on\n(Lower Part)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 90]
		    Branch {
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Hysteresis main loop\n+\nSaturati"
"on.\n(Upper Part)"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Name			  "courbe principale + Saturation, par"
"tie superieure, le flux est en descente, donc sens negatif"
		  Labels		  [0, 0]
		  SrcBlock		  "Hysteresis main loop\n+\nSaturation"
".\n(Upper Part)"
		  SrcPort		  1
		  Points		  [400, 0]
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  Name			  "precedent"
		  Labels		  [-1, 1]
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  Name			  "sens du flux"
		  Labels		  [0, 0]
		  SrcBlock		  "Sign"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "pu conversion"
		  SrcPort		  1
		  DstBlock		  "sfun_psbtransfosat"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sfun_psbtransfosat"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, -55]
		    DstBlock		    "Selector"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Selector1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  Points		  [20, 0; 0, 210]
		  DstBlock		  "Switch2"
		  DstPort		  3
		}
		Line {
		  Name			  "Tr"
		  Labels		  [0, 1]
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  Points		  [80, 0]
		  Branch {
		    DstBlock		    "Switch2"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "Tr"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Selector1"
		  SrcPort		  1
		  DstBlock		  "SI conversion2"
		  DstPort		  1
		}
		Line {
		  Name			  "Boucles internes"
		  Labels		  [1, 1]
		  SrcBlock		  "SI conversion2"
		  SrcPort		  1
		  Points		  [175, 0; 0, -100]
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Sign"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      DiscreteIntegrator
	      Name		      "fluxinit"
	      Ports		      [1, 1]
	      Position		      [100, 65, 150, 105]
	      IntegratorMethod	      "Integration: Backward Euler"
	      ExternalReset	      "none"
	      InitialConditionSource  "internal"
	      InitialCondition	      "fluxinit"
	      SampleTime	      "Ts"
	      SaturateOnIntegerOverflow	on
	      ICPrevOutput	      "DiscIntNeverNeededParam"
	      ICPrevScaledInput	      "DiscIntNeverNeededParam"
	      Port {
		PortNumber		1
		Name			"flux displayed by Multimeter block"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [410, 75, 430, 95]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "f"
	      Position		      [350, 15, 370, 35]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "fluxinit"
	      DstPort		      1
	    }
	    Line {
	      Name		      "flux displayed by Multimeter block"
	      SrcBlock		      "fluxinit"
	      SrcPort		      1
	      Points		      [15, 0; 0, 0]
	      Branch {
		Labels			[2, 0]
		Points			[0, -60]
		DstBlock		"f"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Hysteresis\n( always in SI )"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Hysteresis\n( always in SI )"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "ideal_switch"
	  Ports			  [2, 3]
	  Position		  [25, 12, 70, 78]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Switch logic model"
	  MaskPromptString	  "Number of Ideal Switches|Switchr resistance"
"s|Sample Time (s)"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVarAliasString	  ",,"
	  MaskVariables		  "Nsw=@1;Rsw=@2;Ts=@3;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|1|1"
	  MaskTabNameString	  ",,"
	  System {
	    Name		    "ideal_switch"
	    Location		    [400, 481, 869, 722]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [15, 90, 35, 110]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"Vak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [20, 165, 40, 185]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 1"
	      Position		      [65, 145, 85, 165]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [220, 17, 310, 43]
	      Value		      "zeros(Nsw,1)"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type Conversion1"
	      Position		      [230, 161, 280, 189]
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [65, 35, 95, 65]
	      Gain		      "1./Rsw"
	      Port {
		PortNumber		1
		Name			"Iak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [200, 71, 205, 109]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	      Port {
		PortNumber		1
		Name			"measurement signals"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [140, 125, 170, 155]
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [350, 20, 370, 40]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Status"
	      Position		      [345, 165, 365, 185]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [345, 80, 365, 100]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      Name		      "Vak"
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Labels			[1, 1]
		DstBlock		"Mux"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Gain"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "measurement signals"
	      Labels		      [0, 0]
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "g"
	      SrcPort		      1
	      Points		      [60, 0]
	      Branch {
		Points			[0, -35]
		DstBlock		"Switch"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Data Type Conversion1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      Points		      [0, -60]
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Iak"
	      Labels		      [0, 0]
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      Points		      [0, 80]
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 1"
	      SrcPort		      1
	      Points		      [35, 0]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Data Type Conversion1"
	      SrcPort		      1
	      DstBlock		      "Status"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "saturable_transformer"
	  Ports			  [1, 2]
	  Position		  [485, 14, 530, 81]
	  BackgroundColor	  "orange"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Saturable transformer model"
	  MaskDescription	  "Models the saturation of a three winding sa"
"turable transformer.\n\nThe saturation characteristic should be given in incr"
"easing order starting with current-flux pair (0,0). Only positive part of the"
" characteristic must be entered. If the initial flux parameter (phi0) is not "
"declared, the flux will be initialized automatically according to the steady-"
"state voltage across the magnetizing branch. Set winding no.3 parameters to z"
"ero to implement a two winding transformer.   "
	  MaskHelp		  "  "
	  MaskPromptString	  "Saturation current:|Flux saturation:|Initia"
"l flux:|Sample time Ts(sec):"
	  MaskStyleString	  "edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on"
	  MaskCallbackString	  "|||"
	  MaskEnableString	  "on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on"
	  MaskToolTipString	  "on,on,on,on"
	  MaskVarAliasString	  ",,,"
	  MaskVariables		  "isat=@1;phisat=@2;fluxinit=@3;Ts=@4;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "[1,2,3,5]|[1,2,3,4]|0|50e-6"
	  MaskTabNameString	  ",,,"
	  System {
	    Name		    "saturable_transformer"
	    Location		    [70, 101, 570, 361]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [30, 100, 50, 120]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      DiscreteIntegrator
	      Name		      "Discrete-Time\nIntegrator"
	      Ports		      [1, 1]
	      Position		      [70, 90, 120, 130]
	      IntegratorMethod	      "Integration: Trapezoidal"
	      ExternalReset	      "none"
	      InitialConditionSource  "internal"
	      InitialCondition	      "fluxinit"
	      SampleTime	      "Ts"
	      SaturateOnIntegerOverflow	on
	      ICPrevOutput	      "DiscIntNeverNeededParam"
	      ICPrevScaledInput	      "DiscIntNeverNeededParam"
	    }
	    Block {
	      BlockType		      Lookup
	      Name		      "Look-Up\nTable"
	      Position		      [185, 99, 235, 121]
	      DialogController	      "Simulink.DDGSource"
	      InputValues	      "phisat"
	      OutputValues	      "isat"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [300, 100, 320, 120]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "f"
	      Position		      [300, 50, 320, 70]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "Discrete-Time\nIntegrator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Discrete-Time\nIntegrator"
	      SrcPort		      1
	      Points		      [40, 0]
	      Branch {
		DstBlock		"Look-Up\nTable"
		DstPort			1
	      }
	      Branch {
		Labels			[2, 0]
		Points			[0, -50]
		DstBlock		"f"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Look-Up\nTable"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "simplified_sync_mach"
	  Ports			  [3, 2]
	  Position		  [355, 106, 400, 174]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Simplified Synchronous Machine Model"
	  MaskDescription	  "Implements a 3-phase simplified synchronous"
" machine. Machine is modelled as an internal voltage behind a R-L impedance. "
"Stator windings are connected in wye to an internal neutral point. \n\n1st in"
"put: Simulink signal:  mechanical power supplied to\n         the machine (p."
"u., >0 for generator mode,\n         <0 for motor mode)\n2nd input: Simulink "
"signal: internal voltage (p.u.)\n\nFirst 3 outputs: Machine terminals = phase"
"s a, b and c\n4th output: Simulink measurement output = vector (12x1) contain"
"ing :\n   1-3 : Line currents flowing out of machine ia, ib, ic\n   4-6 : Ter"
"minal voltages va, vb, vc\n   7-9 : Internal voltages ea, eb, ec\n   10   : E"
"lectrical angle theta\n   11   : Rotor speed n\n   12   : Electrical power Pe"
"\n\nUnits of mesurement output depend on checkbox in block's dialog box."
	  MaskPromptString	  "Connection type:|Nom. power, L-L volt., and"
" freq. [ Pn(VA) Vn(Vrms) fn(Hz) ]:|Inertia, damping factor and pairs of poles"
"[ H(s)  Kd() p() ]:|Internal impedance [ R,X (p.u.) ]:|Init. cond. [ dw(%)  t"
"h(deg)  ia,ib,ic(p.u.)  pha,phb,phc(deg) ]:|I/O units (check for S.I., otherw"
"ise p.u.):|Sample Time (s):"
	  MaskStyleString	  "popup(3-wire Y|4-wire Y),edit,edit,edit,edi"
"t,checkbox,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on"
	  MaskCallbackString	  "||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,"
	  MaskVariables		  "v6=@1;v1=@2;v2=@3;v3=@4;v4=@5;v5=@6;Ts=@7;"
	  MaskInitialization	  "[Pb,Nb,Vb,Vb2,Vb3,ib,ib2,web_psb,H,Kd,p,pi2"
"3,R,L,io,dwo,tho]=powericonV2('Simplified Synchronous Machine Model',v1,v2,v3"
",v4,v5);\nif v6==1,sel=1:2; else sel=1:3; end"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "4-wire Y|[ 1000  120*sqrt(3/2)  60 ]|[ inf "
" 0  2 ]|[ 1e-6  1e-6 ]|[ 0   0   0,0,0   0,0,0 ]|off|1"
	  MaskTabNameString	  ",,,,,,"
	  System {
	    Name		    "simplified_sync_mach"
	    Location		    [369, 343, 869, 603]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [20, 161, 40, 179]
	      BackgroundColor	      "yellow"
	      NamePlacement	      "alternate"
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "pm"
	      Position		      [20, 76, 40, 94]
	      BackgroundColor	      "yellow"
	      NamePlacement	      "alternate"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "e"
	      Position		      [20, 111, 40, 129]
	      BackgroundColor	      "yellow"
	      NamePlacement	      "alternate"
	      Port		      "3"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1\\p"
	      Position		      [150, 253, 185, 277]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Gain		      "1/p"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector"
	      Ports		      [1, 1]
	      Position		      [320, 133, 345, 167]
	      Elements		      "sel"
	      InputPortWidth	      "3"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Subsystem"
	      Ports		      [6, 1]
	      Position		      [290, 197, 320, 313]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Subsystem"
		Location		[125, 542, 343, 872]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "i"
		  Position		  [20, 30, 40, 50]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "v"
		  Position		  [20, 75, 40, 95]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "e"
		  Position		  [20, 120, 40, 140]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "theta"
		  Position		  [20, 165, 40, 185]
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "wm"
		  Position		  [20, 210, 40, 230]
		  Port			  "5"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Pe"
		  Position		  [20, 255, 40, 275]
		  Port			  "6"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [125, 140, 160, 170]
		  Gain			  "[ ib2*ones(3,1); Vb3*ones(6,1); 1; "
"Nb; Pb ]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [6, 1]
		  Position		  [70, 18, 105, 287]
		  ShowName		  off
		  Inputs		  "[ 3 3 3 1 1 1 ]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "*"
		  Position		  [180, 145, 200, 165]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "i"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "v"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "e"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "theta"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "wm"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "Pe"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  6
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "*"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Vt"
	      Ports		      [1, 2]
	      Position		      [70, 144, 105, 191]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Vt"
		Location		[129, 480, 623, 793]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "V"
		  Position		  [15, 71, 30, 89]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Vb"
		  Position		  [50, 62, 75, 98]
		  ShowName		  off
		  Gain			  "1/Vb"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [197, 20, 233, 40]
		  Orientation		  "down"
		  ShowName		  off
		  Value			  "v6==1"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [40, 195, 65, 215]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [285, 205, 315, 225]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion"
		  Position		  [120, 33, 160, 57]
		  Orientation		  "left"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [150, 106, 170, 134]
		  ShowName		  off
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn"
		  Position		  [130, 154, 160, 176]
		  ShowName		  off
		  Expr			  "u[1]"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn1"
		  Position		  [130, 184, 160, 206]
		  ShowName		  off
		  Expr			  "u[2]"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn2"
		  Position		  [130, 214, 160, 236]
		  ShowName		  off
		  Expr			  "u[3]"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [355, 160, 385, 190]
		  NamePlacement		  "alternate"
		  Gain			  "1/3"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "LL2LN"
		  Ports			  [1, 1, 1]
		  Position		  [190, 66, 240, 94]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "LL2LN"
		    Location		    [669, 664, 993, 843]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [15, 38, 45, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [30, 120, 50, 140]
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn"
		    Position		    [80, 32, 180, 58]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Expr		    "(2*u(1)+u(2))/3"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    Position		    [80, 74, 180, 96]
		    ShowName		    off
		    Expr		    "(u(2)-u(1))/3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [3, 1]
		    Position		    [235, 22, 240, 148]
		    ShowName		    off
		    Inputs		    "3"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [184, 105, 206, 115]
		    Orientation		    "down"
		    ShowName		    off
		    Inputs		    "--"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [265, 78, 295, 92]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "[0 0 0]"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Fcn"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [0, 5]
		    DstBlock		    "Mux1"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [1, 1]
		  Position		  [115, 103, 130, 137]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Operator		  "NOT"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [100, 176, 105, 214]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [3, 1]
		  Position		  [180, 151, 185, 239]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [205, 172, 235, 203]
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [1, 1]
		  Position		  [310, 165, 330, 185]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [300, 70, 320, 90]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [405, 167, 425, 223]
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vn"
		  Position		  [455, 185, 475, 205]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vabc"
		  Position		  [455, 70, 475, 90]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion"
		  SrcPort		  1
		  Points		  [-15, 0]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_Vb"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "LL2LN"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "V"
		  SrcPort		  1
		  DstBlock		  "1_Vb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [5, 0; 0, -85]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Fcn2"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Fcn1"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Fcn"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Fcn2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Fcn1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Fcn"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Vabc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "LL2LN"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 95]
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [0, 5]
		  Branch {
		    Points		    [0, 1]
		    Branch {
		    Points		    [0, -6]
		    DstBlock		    "Data Type \nConversion"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "LL2LN"
		    DstPort		    enable
		    }
		  }
		  Branch {
		    Points		    [50, 0; 0, 145]
		    DstBlock		    "Switch2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  DstBlock		  "Vn"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem either converts 2 li"
"ne-to-line voltages to 3 line-to-neutral voltages (internal neutral)\nand com"
"putes floating neutral voltage or directly passes Van,Vbn,Vcn if 4-wire conne"
"ction.              "
		  Position		  [244, 272]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Z"
	      Ports		      [2, 1]
	      Position		      [210, 88, 240, 212]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('Z')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Z"
		Location		[369, 343, 869, 603]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "e"
		  Position		  [25, 70, 45, 90]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "v"
		  Position		  [25, 105, 45, 125]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/L"
		  Position		  [130, 60, 175, 100]
		  ShowName		  off
		  Gain			  "web_psb/L"
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [1, 1]
		  Position		  [230, 60, 290, 100]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Trapezoidal"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "io"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Gain
		  Name			  "R"
		  Position		  [130, 14, 155, 36]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "R"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  Ports			  [3, 1]
		  Position		  [95, 30, 110, 130]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Inputs		  "-+-"
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay"
		  Position		  [330, 68, 350, 92]
		  ShowName		  off
		  X0			  "io"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Outport
		  Name			  "i"
		  Position		  [490, 70, 510, 90]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "e"
		  SrcPort		  1
		  DstBlock		  "Sum5"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "R"
		  SrcPort		  1
		  Points		  [-45, 0]
		  DstBlock		  "Sum5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  DstBlock		  "1/L"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "v"
		  SrcPort		  1
		  DstBlock		  "Sum5"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "1/L"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  DstBlock		  "Unit Delay"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Unit Delay"
		  SrcPort		  1
		  Points		  [105, 0]
		  Branch {
		    Points		    [0, -55]
		    DstBlock		    "R"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "i"
		    DstPort		    1
		  }
		}
		Annotation {
		  Name			  "This subsystem models the internal "
"impedance of   \nthe machine, which consists of  a series RL circuit."
		  Position		  [142, 142]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "gen"
	      Ports		      [3, 1]
	      Position		      [150, 69, 175, 171]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('gen')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		1
		Name			"e"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"gen"
		Location		[174, 522, 590, 781]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "theta"
		  Position		  [15, 30, 35, 50]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "E"
		  Position		  [15, 120, 35, 140]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vn"
		  Position		  [15, 180, 35, 200]
		  BackgroundColor	  "yellow"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Vb2"
		  Position		  [70, 109, 120, 151]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/Vb2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [3, 1]
		  Position		  [270, 22, 275, 118]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [305, 65, 325, 85]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [345, 65, 365, 85]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [229, 85, 251, 95]
		  Orientation		  "down"
		  ShowName		  off
		  Inputs		  "--"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "rem(wt,2pi)"
		  Position		  [55, 31, 125, 49]
		  ShowName		  off
		  Expr			  "rem(u[1],2*pi)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "sin(a)"
		  Position		  [155, 29, 220, 51]
		  ShowName		  off
		  Expr			  "sin(u)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "sin(b)"
		  Position		  [155, 60, 220, 80]
		  ShowName		  off
		  Expr			  "sin(u-pi23)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "e"
		  Position		  [390, 65, 410, 85]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "e"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vn"
		  SrcPort		  1
		  Points		  [315, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "1_Vb2"
		  SrcPort		  1
		  Points		  [160, 0; 0, -50]
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "E"
		  SrcPort		  1
		  DstBlock		  "1_Vb2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sin(b)"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "sin(a)"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "theta"
		  SrcPort		  1
		  DstBlock		  "rem(wt,2pi)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "rem(wt,2pi)"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 30]
		    DstBlock		    "sin(b)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "sin(a)"
		    DstPort		    1
		  }
		}
		Annotation {
		  Name			  "This subsystem generates the 3 line"
"-to-neutral voltages inside the machine. "
		  Position		  [217, 222]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "ib"
	      Position		      [275, 139, 300, 161]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Gain		      "ib"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "mechanics"
	      Ports		      [2, 2]
	      Position		      [75, 75, 100, 115]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('mec')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"mechanics"
		Location		[174, 104, 1294, 492]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Pm"
		  Position		  [25, 80, 45, 100]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Pe"
		  Position		  [25, 45, 45, 65]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_(2*H)"
		  Position		  [335, 60, 360, 90]
		  NamePlacement		  "alternate"
		  Gain			  "1/(2*H)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Pb"
		  Position		  [65, 74, 100, 106]
		  ShowName		  off
		  Gain			  "1/Pb"
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [1, 1]
		  Position		  [390, 58, 440, 92]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Trapezoidal"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "dwo"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator1"
		  Ports			  [1, 1]
		  Position		  [740, 47, 795, 83]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Trapezoidal"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "tho"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [325, 97, 365, 123]
		  Orientation		  "left"
		  ShowName		  off
		  Gain			  "Kd"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [160, 59, 195, 81]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Predict"
		  Ports			  [1, 1]
		  Position		  [505, 60, 535, 90]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Predict"
		    Location		    [60, 271, 335, 401]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "I"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1\\Llr4"
		    Position		    [115, 29, 150, 61]
		    ShowName		    off
		    Gain		    "2"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum5"
		    Ports		    [2, 1]
		    Position		    [175, 26, 195, 104]
		    ShowName		    off
		    Inputs		    "+-"
		    }
		    Block {
		    BlockType		    UnitDelay
		    Name		    "Unit Delay2"
		    Position		    [120, 74, 145, 96]
		    ShowName		    off
		    X0			    "dwo"
		    SampleTime		    "Ts"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "O"
		    Position		    [220, 58, 250, 72]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Sum5"
		    SrcPort		    1
		    DstBlock		    "O"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "I"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    DstBlock		    "1\\Llr4"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Unit Delay2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Unit Delay2"
		    SrcPort		    1
		    DstBlock		    "Sum5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "1\\Llr4"
		    SrcPort		    1
		    DstBlock		    "Sum5"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [585, 37, 605, 88]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [295, 65, 315, 85]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [2, 1]
		  Position		  [115, 38, 135, 107]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay2"
		  Position		  [460, 64, 485, 86]
		  ShowName		  off
		  X0			  "dwo"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "div"
		  Position		  [215, 61, 265, 79]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Expr			  "u[2]/u[1]"
		  MaskDisplay		  "disp('division')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Constant
		  Name			  "nom. speed"
		  Position		  [535, 40, 555, 60]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [675, 48, 715, 82]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "theta_e"
		  Position		  [865, 55, 885, 75]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "wm"
		  Position		  [820, 95, 840, 115]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "nom. speed"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  DstBlock		  "Unit Delay2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "1_(2*H)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [-40, 0]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "div"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_(2*H)"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "web_psb"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 40]
		    DstBlock		    "wm"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -55; -480, 0]
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Pe"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "div"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator1"
		  SrcPort		  1
		  DstBlock		  "theta_e"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_Pb"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Pm"
		  SrcPort		  1
		  DstBlock		  "1_Pb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Unit Delay2"
		  SrcPort		  1
		  DstBlock		  "Predict"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Predict"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "wattmeter"
	      Ports		      [2, 1]
	      Position		      [110, 20, 170, 60]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('wattmeter')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"wattmeter"
		Location		[426, 516, 664, 647]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "i"
		  Position		  [10, 15, 30, 35]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "v"
		  Position		  [10, 50, 30, 70]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "2_3"
		  Position		  [145, 32, 180, 58]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "2/3"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [55, 7, 85, 78]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [1, 1]
		  Position		  [110, 33, 130, 57]
		  ShowName		  off
		  Inputs		  "+"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Pe"
		  Position		  [205, 35, 225, 55]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "2_3"
		  SrcPort		  1
		  DstBlock		  "Pe"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "2_3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "v"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "i"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem computes the total e"
"lectrical   \npower delivered or absorbed by the machine."
		  Position		  [117, 92]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [375, 142, 390, 158]
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "*"
	      Position		      [380, 247, 395, 263]
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Subsystem"
	      SrcPort		      1
	      DstBlock		      "*"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Vt"
	      SrcPort		      2
	      Points		      [85, 0]
	      Branch {
		Points			[0, 45]
		DstBlock		"Subsystem"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Z"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Vt"
	      SrcPort		      1
	      DstBlock		      "gen"
	      DstPort		      3
	    }
	    Line {
	      Name		      "e"
	      SrcBlock		      "gen"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		DstBlock		"wattmeter"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Z"
		DstPort			1
	      }
	      Branch {
		Points			[0, 125]
		DstBlock		"Subsystem"
		DstPort			3
	      }
	    }
	    Line {
	      SrcBlock		      "Z"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Points			[0, -120]
		DstBlock		"wattmeter"
		DstPort			1
	      }
	      Branch {
		Labels			[2, 0]
		Points			[0, 55]
		DstBlock		"Subsystem"
		DstPort			1
	      }
	      Branch {
		DstBlock		"ib"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "mechanics"
	      SrcPort		      2
	      Points		      [15, 0; 0, 180]
	      DstBlock		      "Subsystem"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "1\\p"
	      SrcPort		      1
	      DstBlock		      "Subsystem"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "Vt"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "mechanics"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		DstBlock		"gen"
		DstPort			1
	      }
	      Branch {
		Points			[0, 180]
		DstBlock		"1\\p"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "e"
	      SrcPort		      1
	      DstBlock		      "gen"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "pm"
	      SrcPort		      1
	      DstBlock		      "mechanics"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "wattmeter"
	      SrcPort		      1
	      Points		      [-50, 0; 0, 65]
	      Branch {
		Points			[0, 200]
		DstBlock		"Subsystem"
		DstPort			6
	      }
	      Branch {
		DstBlock		"mechanics"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "ib"
	      SrcPort		      1
	      DstBlock		      "Selector"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Selector"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "surge_arrester"
	  Ports			  [1, 1]
	  Position		  [595, 203, 645, 267]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Surge arrester model"
	  MaskDescription	  "The surge arrester model is a Metal oxide v"
"aristor."
	  MaskPromptString	  "Protection voltage  (V):|Number of columns:"
"|Nominal current per column  (A):|Segment 1 characteristics: [ k1 alpha1 ]|Se"
"gment 2 characteristics: [ k2 alpha2 ]|Segment 3 characteristics: [ k3 alpha3"
" ]|Sample Time (s)"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on"
	  MaskCallbackString	  "||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,"
	  MaskVariables		  "uref=@1;n=@2;iref=@3;param1=@4;param2=@5;pa"
"ram3=@6;Ts=@7;"
	  MaskInitialization	  "k1=param1(1);k2=param2(1);k3=param3(1);a1=r"
"ound(param1(2));a2=round(param2(2));a3=round(param3(2));p1=iref*n/(k1^a1); p2"
"=iref*n/(k2^a2); p3=iref*n/(k3^a3); ic1=p1*((p1/p2)^(a1/(a2-a1)));ic2=p2*((p2"
"/p3)^(a2/(a3-a2)));\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "185e3|30|500|[.955 50]|[1.0 25]|[.9915 16.5"
"]|1"
	  MaskTabNameString	  ",,,,,,"
	  System {
	    Name		    "surge_arrester"
	    Location		    [473, 67, 1116, 294]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [20, 40, 40, 60]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Abs
	      Name		      "Abs"
	      Position		      [70, 38, 100, 62]
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      Ports		      [2, 1]
	      Position		      [365, 137, 395, 168]
	      RndMeth		      "Floor"
	    }
	    Block {
	      BlockType		      Signum
	      Name		      "Sign"
	      Position		      [38, 95, 62, 130]
	      Orientation	      "down"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [240, 76, 270, 144]
	      Threshold		      "ic1"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch2"
	      Position		      [300, 36, 330, 124]
	      Threshold		      "ic2"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay1"
	      Position		      [445, 135, 480, 175]
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "segment1"
	      Position		      [150, 120, 190, 140]
	      Expr		      "p1*(u/uref)^a1"
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "segment2"
	      Position		      [150, 80, 190, 100]
	      Expr		      "p2*(u/uref)^a2"
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "segment3"
	      Position		      [150, 40, 190, 60]
	      Expr		      "p3*(u/uref)^a3"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [560, 145, 580, 165]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "segment3"
	      SrcPort		      1
	      DstBlock		      "Switch2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      Points		      [-5, 0; 0, 0; 10, 0]
	      Branch {
		DstBlock		"Switch2"
		DstPort			3
	      }
	      Branch {
		Points			[0, -30]
		DstBlock		"Switch2"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Switch2"
	      SrcPort		      1
	      Points		      [10, 0; 0, 65]
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "segment2"
	      SrcPort		      1
	      Points		      [-5, 0]
	      DstBlock		      "Switch1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "segment1"
	      SrcPort		      1
	      Points		      [0, 0; 5, 0; 15, 0]
	      Branch {
		Points			[0, -20]
		DstBlock		"Switch1"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Switch1"
		DstPort			3
	      }
	    }
	    Line {
	      SrcBlock		      "Abs"
	      SrcPort		      1
	      Points		      [15, 0; 0, 0]
	      Branch {
		DstBlock		"segment3"
		DstPort			1
	      }
	      Branch {
		Points			[0, 40; 0, 0]
		Branch {
		  DstBlock		  "segment2"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 40]
		  DstBlock		  "segment1"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Sign"
	      SrcPort		      1
	      Points		      [0, 25]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		DstBlock		"Abs"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Sign"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "Unit Delay1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Unit Delay1"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "synchronous_machine"
	  Ports			  [3, 2]
	  Position		  [230, 107, 275, 173]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Synchronous Machine Model"
	  MaskPromptString	  "Nom. power, L-L volt., freq. and [field cur"
".] [ Pn(VA) Vn(Vrms) fn(Hz) [ifn(A)] ]:|Stator [ Rs  Ll  Lmd  Lmq ] (pu):|Fie"
"ld [ Rf  Llfd ] (pu):|Dampers [ Rkd  Llkd  Rkq1  Llkq1  Rkq2  Llkq2 ] (pu):|C"
"oeff. of inertia, friction factor and pairs of poles [ H(s)  F(pu)  p() ]:|In"
"it. cond. [ dw(%)  th(deg)  ia,ib,ic(pu)  pha,phb,phc(deg)  Vf(pu) ]:|Simulat"
"e saturation|Saturation parameters [ ifd1,ifd2,... (p.u.) ; vt1,vt2,... (p.u."
") ]:|I/O units (check for S.I., otherwise p.u.):|Sample Time (s):|Excitation "
"voltage:"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,checkbox,edit"
",checkbox,edit,popup(Field (d axis)|Damper 1 (q axis - used for testing only)"
")"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "||||||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,,,"
	  MaskVariables		  "v1=@1;v2=@2;v3=@3;v4=@4;v5=@5;v6=@6;v9=@7;v"
"7=&8;v10=@9;Ts=@10;excAxis=@11;"
	  MaskInitialization	  "if (~isempty(exist(v7)) & v9) \n	sat"
"=str2num(v7);\nelse \n	sat=[]; \nend;\n[Rs,Ll,Lad,Laq,Rf,Llfd,Rkd,Rkq1"
",Rkq2,Llkd,Llkq1,Llkq2,H,F,p,dwo,tho,phido,phikdo,phifdo,phiqo,phikq1o,phikq2"
"o,phib,Pb,Vb,Vb2,ib,ib2,Nb,N,N2,phis,a]=powericonV2('Synchronous Machine Mode"
"l',v1,v2,v3,v4,v5,v6,sat,0,v10,excAxis);\na5=a(1); \na4=a(2); \na3=a(3); \na2"
"=a(4); \na1=a(5); \na0=a(6); \nLmd=v2(3); \nLmq=v2(4);\nweb_psb=v1(3)*2*pi;\n"
"one_third=1/3; \nsqrt3=sqrt(3);\nif v10==1\n   Gain1 = Pb;\nelse\n   Gain1 = "
"1;\nend\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "[202000000      13800         60]|[0.003   "
"  0.19837     0.91763     0.21763]|[0.00063581     0.16537]|[0.0046454       "
"       0.039203              0.006843              0.014544                  "
"   0                   Inf]|[Inf             0            32]|[0  0  0  0  0 "
" 0  0  0  0]|off|[]|off|1|Field (d axis)"
	  MaskTabNameString	  ",,,,,,,,,,"
	  System {
	    Name		    "synchronous_machine"
	    Location		    [95, 346, 1134, 819]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [25, 230, 45, 250]
	      BackgroundColor	      "yellow"
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "pm"
	      Position		      [440, 390, 460, 410]
	      BackgroundColor	      "yellow"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "vf"
	      Position		      [25, 280, 45, 300]
	      BackgroundColor	      "yellow"
	      Port		      "3"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Delta angle"
	      Ports		      [2, 1]
	      Position		      [640, 222, 695, 253]
	      BackgroundColor	      "orange"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Delta angle"
		Location		[662, 472, 1039, 657]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vq"
		  Position		  [25, 73, 55, 87]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vd"
		  Position		  [75, 93, 105, 107]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Cartesian to\nPolar"
		  Ports			  [2, 2]
		  Position		  [130, 72, 165, 108]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "Cart2Polar"
		  MaskDescription	  "Transformation from cartesian to po"
"lar coordinates.\n[x, y] -> [r, theta]\n\nr = sqrt(x^2 + y^2);\ntheta = atan("
"y/x);"
		  MaskHelp		  "Unmask this block for more help."
		  MaskDisplay		  "plot(0,0,100,100,[24,20,15,20,20],["
"85,95,85,95,20],[80,20,95,85,95,85],[70,20,20,15,20,24],[56,56,55,52,50,46],["
"20,26,31,35,38,42])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Cartesian to\nPolar"
		    Location		    [136, 183, 495, 389]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x"
		    Position		    [20, 70, 40, 90]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y"
		    Position		    [20, 129, 40, 151]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [75, 96, 105, 129]
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "x->r"
		    Position		    [155, 72, 260, 98]
		    Expr		    "hypot(u[1],u[2])"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "x->theta"
		    Position		    [160, 129, 265, 151]
		    Expr		    "atan2(u[2],u[1])"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "r"
		    Position		    [295, 75, 315, 95]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "theta"
		    Position		    [295, 130, 315, 150]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    Points		    [15, 0; 0, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "x->theta"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "x->r"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "x->r"
		    SrcPort		    1
		    DstBlock		    "r"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "x->theta"
		    SrcPort		    1
		    DstBlock		    "theta"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Radians\nto Degrees"
		  Ports			  [1, 1]
		  Position		  [200, 91, 230, 109]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "RadiansToDegrees"
		  MaskDescription	  "Conversion from Radians to Degrees."
"\n\nD=180/pi*R"
		  MaskHelp		  "This block converts from Radians to"
" Degrees."
		  MaskDisplay		  "disp('R2D')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  Port {
		    PortNumber		    1
		    Name		    "delta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  System {
		    Name		    "Radians\nto Degrees"
		    Location		    [337, 532, 542, 629]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Radians\nin"
		    Position		    [15, 25, 35, 45]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [60, 17, 110, 53]
		    ShowName		    off
		    Gain		    "180/pi"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Degrees\nout"
		    Position		    [135, 25, 155, 45]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Degrees\nout"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Radians\nin"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator2"
		  Position		  [205, 74, 225, 86]
		  ShowName		  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "delta"
		  Position		  [295, 93, 325, 107]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Vd"
		  SrcPort		  1
		  DstBlock		  "Cartesian to\nPolar"
		  DstPort		  2
		}
		Line {
		  Name			  "delta"
		  Labels		  [0, 0]
		  SrcBlock		  "Radians\nto Degrees"
		  SrcPort		  1
		  DstBlock		  "delta"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vq"
		  SrcPort		  1
		  DstBlock		  "Cartesian to\nPolar"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Cartesian to\nPolar"
		  SrcPort		  1
		  DstBlock		  "Terminator2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Cartesian to\nPolar"
		  SrcPort		  2
		  DstBlock		  "Radians\nto Degrees"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      DiscreteIntegrator
	      Name		      "Discrete-Time\nIntegrator1"
	      Ports		      [1, 1]
	      Position		      [635, 367, 665, 403]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      IntegratorMethod	      "Integration: Forward Euler"
	      ExternalReset	      "none"
	      InitialConditionSource  "internal"
	      InitialCondition	      "tho"
	      SampleTime	      "Ts"
	      SaturateOnIntegerOverflow	on
	      ICPrevOutput	      "DiscIntNeverNeededParam"
	      ICPrevScaledInput	      "DiscIntNeverNeededParam"
	    }
	    Block {
	      BlockType		      Fcn
	      Name		      "Fcn"
	      Position		      [685, 370, 745, 400]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      Expr		      "rem(u,2*pi)"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [9, 1]
	      Position		      [850, 106, 855, 294]
	      ShowName		      off
	      Inputs		      "[ 3 8 2 4 1 1 1 1 1]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "PQ"
	      Ports		      [3, 2]
	      Position		      [595, 261, 635, 319]
	      BackgroundColor	      "orange"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"PQ"
		Location		[13, 76, 958, 559]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vq"
		  Position		  [140, 48, 170, 62]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vd"
		  Position		  [140, 88, 170, 102]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Iq"
		  Position		  [110, 158, 140, 172]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  PortDimensions	  "2"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [165, 146, 170, 184]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "[1,1]"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [465, 70, 495, 100]
		  Gain			  "Gain1"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [465, 225, 495, 255]
		  NamePlacement		  "alternate"
		  Gain			  "Gain1"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [295, 48, 325, 77]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product3"
		  Ports			  [2, 1]
		  Position		  [295, 88, 325, 117]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product4"
		  Ports			  [2, 1]
		  Position		  [295, 203, 325, 232]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product5"
		  Ports			  [2, 1]
		  Position		  [295, 243, 325, 272]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [360, 46, 390, 124]
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "Peo"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [360, 201, 390, 279]
		  ShowName		  off
		  Inputs		  "+-"
		  Port {
		    PortNumber		    1
		    Name		    "Qeo"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Peo"
		  Position		  [565, 78, 595, 92]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Qeo"
		  Position		  [555, 233, 585, 247]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [80, 0; 0, 0]
		  Branch {
		    Points		    [0, 110]
		    DstBlock		    "Product5"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -85]
		    DstBlock		    "Product2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Iq"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Qeo"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "Peo"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product3"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product4"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product5"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  Name			  "Peo"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  Name			  "Qeo"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vd"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    Points		    [0, 0]
		    DstBlock		    "Product3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 155]
		    DstBlock		    "Product5"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Vq"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    DstBlock		    "Product2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 155]
		    DstBlock		    "Product4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [60, 0]
		  Branch {
		    Points		    [35, 0; 0, -65]
		    DstBlock		    "Product3"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Product4"
		    DstPort		    2
		  }
		}
		Annotation {
		  Name			  "P = Vd*Id + Vq*Iq"
		  Position		  [222, 298]
		  FontName		  "Arial"
		  FontSize		  14
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "Q = Vq*Id-Vd*Iq"
		  Position		  [217, 323]
		  FontName		  "Arial"
		  FontSize		  14
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "PQ Measurement:"
		  Position		  [87, 298]
		  FontName		  "Arial"
		  FontSize		  14
		  FontWeight		  "bold"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Subsystem"
	      Ports		      [1, 2]
	      Position		      [70, 271, 105, 309]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Subsystem"
		Location		[217, 455, 546, 679]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vf"
		  Position		  [20, 28, 50, 42]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [75, 46, 120, 64]
		  ShowName		  off
		  Value			  "excAxis"
		}
		Block {
		  BlockType		  Ground
		  Name			  "Ground2"
		  Position		  [150, 67, 165, 83]
		  ShowName		  off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [195, 24, 215, 86]
		  NamePlacement		  "alternate"
		  Threshold		  "1.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [195, 124, 215, 186]
		  Threshold		  "1.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vkq1"
		  Position		  [245, 48, 275, 62]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vfd"
		  Position		  [245, 148, 275, 162]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Vkq1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "Vfd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 100]
		    DstBlock		    "Switch1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Vf"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 140]
		    DstBlock		    "Switch1"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Ground2"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Switch1"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay1"
	      Position		      [385, 69, 405, 91]
	      Orientation	      "left"
	      ShowName		      off
	      X0		      "phiqo"
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay2"
	      Position		      [385, 214, 405, 236]
	      Orientation	      "left"
	      ShowName		      off
	      X0		      "phiqo"
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "abc2qd"
	      Ports		      [2, 4]
	      Position		      [140, 229, 170, 271]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('abc/\\nqd')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		1
		Name			"sin,cos"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		4
		Name			"vq,vd"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"abc2qd"
		Location		[112, 78, 697, 283]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "v"
		  Position		  [15, 55, 35, 75]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "theta"
		  Position		  [15, 85, 35, 105]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Vb"
		  Position		  [55, 51, 105, 79]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/Vb"
		}
		Block {
		  BlockType		  ElementaryMath
		  Name			  "Elementary\nMath"
		  Ports			  [1, 1]
		  Position		  [55, 88, 85, 102]
		  ShowName		  off
		}
		Block {
		  BlockType		  ElementaryMath
		  Name			  "Elementary\nMath1"
		  Ports			  [1, 1]
		  Position		  [55, 112, 85, 128]
		  ShowName		  off
		  Operator		  "cos"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn2"
		  Position		  [230, 58, 475, 82]
		  ShowName		  off
		  Expr			  "(u[4]*(2*u[1]+u[2]) + (sqrt3*u[2]*u"
"[3])) * one_third"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn3"
		  Position		  [230, 92, 475, 118]
		  ShowName		  off
		  Expr			  "(u[3]*(2*u[1]+u[2]) + (-sqrt3*u[2]*"
"u[4])) * one_third"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [170, 42, 200, 133]
		  ShowName		  off
		  Inputs		  "[ 2 2 ]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [477, 125, 508, 145]
		  Orientation		  "down"
		  ShowName		  off
		  Inputs		  "[ 1 1 ]"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [105, 84, 130, 131]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Outport
		  Name			  "cos,sin"
		  Position		  [540, 20, 560, 40]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "vq"
		  Position		  [540, 60, 560, 80]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "vd"
		  Position		  [540, 95, 560, 115]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "vq,vd"
		  Position		  [540, 145, 560, 165]
		  BackgroundColor	  "red"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Fcn3"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "vd"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Fcn2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "vq"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Elementary\nMath1"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Elementary\nMath"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "theta"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Elementary\nMath1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Elementary\nMath"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, -80]
		    DstBlock		    "cos,sin"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, 15]
		    DstBlock		    "Fcn3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "Fcn2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "v"
		  SrcPort		  1
		  DstBlock		  "1_Vb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_Vb"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  Points		  [0, 5]
		  DstBlock		  "vq,vd"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem converts Vab and Vbc"
" to Vd,Vq. The sine and cosine com-\nputed here are sent to the inverse trans"
"formation subsystem qd/abc.        "
		  Position		  [257, 152]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "currents and mutual fluxes"
	      Ports		      [6, 4]
	      Position		      [370, 101, 430, 209]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('currents\\nand\\nmutual\\nfluxes'"
")"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		2
		Name			"iq,id,ifd,ikq1,ikq2,ikd,phimq,phimd"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		3
		Name			"iq,id"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"currents and mutual fluxes"
		Location		[389, 81, 956, 757]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "phiq"
		  Position		  [20, 35, 40, 55]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phikq2"
		  Position		  [20, 125, 40, 145]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phid"
		  Position		  [20, 485, 40, 505]
		  BackgroundColor	  "yellow"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phifd"
		  Position		  [20, 530, 40, 550]
		  BackgroundColor	  "yellow"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phikq1"
		  Position		  [20, 80, 40, 100]
		  BackgroundColor	  "yellow"
		  Port			  "5"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phikd"
		  Position		  [20, 575, 40, 595]
		  BackgroundColor	  "yellow"
		  Port			  "6"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "-1_Ll"
		  Position		  [240, 147, 265, 173]
		  Gain			  "-1/Ll"
		  Port {
		    PortNumber		    1
		    Name		    "iq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "-1_Ll "
		  Position		  [240, 322, 265, 348]
		  Gain			  "-1/Ll"
		  Port {
		    PortNumber		    1
		    Name		    "id"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Llfd"
		  Position		  [240, 372, 265, 398]
		  Gain			  "1/Llfd"
		  Port {
		    PortNumber		    1
		    Name		    "ifd"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Llkd"
		  Position		  [240, 422, 265, 448]
		  Gain			  "1/Llkd"
		  Port {
		    PortNumber		    1
		    Name		    "ikd"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Llkq1"
		  Position		  [240, 187, 265, 213]
		  Gain			  "1/Llkq1"
		  Port {
		    PortNumber		    1
		    Name		    "ikq1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Llkq2"
		  Position		  [240, 232, 265, 258]
		  Gain			  "1/Llkq2"
		  Port {
		    PortNumber		    1
		    Name		    "ikq2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "Lad_Ll"
		  Position		  [90, 482, 115, 508]
		  Gain			  "Lad/Ll"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Lad_Llfd"
		  Position		  [90, 527, 115, 553]
		  Gain			  "Lad/Llfd"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Lad_Llkd"
		  Position		  [90, 572, 115, 598]
		  Gain			  "Lad/Llkd"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Laq_Ll"
		  Position		  [90, 32, 115, 58]
		  NamePlacement		  "alternate"
		  Gain			  "Laq/Ll"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Laq_Llkq1"
		  Position		  [90, 77, 115, 103]
		  Gain			  "Laq/Llkq1"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Laq_Llkq2"
		  Position		  [90, 122, 115, 148]
		  Gain			  "Laq/Llkq2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [310, 153, 315, 182]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [7, 1]
		  Position		  [345, 313, 350, 457]
		  ShowName		  off
		  Inputs		  "[2 1 1 1 1 1 1]"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Saturation"
		  Ports			  [2, 2]
		  Position		  [380, 230, 475, 310]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Saturation"
		    Location		    [356, 283, 877, 717]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "phimq_in"
		    Position		    [40, 188, 70, 202]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "phimd_in"
		    Position		    [40, 158, 70, 172]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion"
		    Position		    [255, 41, 280, 69]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion1"
		    Position		    [165, 271, 190, 299]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion2"
		    Position		    [60, 26, 85, 54]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion3"
		    Position		    [60, 56, 85, 84]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion4"
		    Position		    [110, 306, 135, 334]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [300, 272, 325, 298]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Gain		    "2"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    Position		    [165, 307, 190, 333]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Gain		    "3"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [120, 31, 155, 49]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [120, 61, 155, 79]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator2"
		    Ports		    [2, 1]
		    Position		    [185, 24, 220, 86]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator3"
		    Ports		    [2, 1]
		    Position		    [115, 100, 155, 125]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    MultiPortSwitch
		    Name		    "Multiport\nSwitch"
		    Ports		    [4, 1]
		    Position		    [405, 312, 435, 358]
		    Inputs		    "3"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [3, 1]
		    Position		    [355, 275, 375, 295]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "+++"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [405, 160, 435, 190]
		    Threshold		    "0.5"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vs4"
		    Position		    [15, 29, 40, 51]
		    BackgroundColor	    "green"
		    ShowName		    off
		    Value		    "phis==1e6"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vs5"
		    Position		    [15, 56, 40, 84]
		    BackgroundColor	    "green"
		    ShowName		    off
		    Value		    "isinf(Llkq2)"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "d axis saturation"
		    Ports		    [1, 1, 1]
		    Position		    [245, 342, 325, 388]
		    TreatAsAtomicUnit	    on
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    Port {
		    PortNumber		    1
		    Name		    "phimds"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    System {
		    Name		    "d axis saturation"
		    Location		    [181, 605, 826, 781]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "phimd"
		    Position		    [15, 35, 35, 55]
		    BackgroundColor	    "yellow"
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [15, 90, 35, 110]
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Lad\\Lmd"
		    Position		    [435, 32, 460, 58]
		    NamePlacement	    "alternate"
		    Gain		    "Lad/Lmd"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [115, 74, 135, 96]
		    ShowName		    off
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum21"
		    Ports		    [2, 1]
		    Position		    [480, 35, 500, 55]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|-+"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [530, 22, 565, 148]
		    ShowName		    off
		    Threshold		    "0.5"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vs"
		    Position		    [60, 80, 90, 100]
		    BackgroundColor	    "green"
		    ShowName		    off
		    Value		    "phis"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "polynomial approximation of exp"
		    Position		    [170, 34, 365, 56]
		    NamePlacement	    "alternate"
		    Expr		    "((((a5*u+a4)*u+a3)*u+a2)*u+a1)*u+"
"a0"
		    Port {
		    PortNumber		    1
		    Name		    "f(phimd)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimd\nsat."
		    Position		    [595, 75, 615, 95]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "phimd"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [50, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [45, 0]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Sum21"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "polynomial approximation of exp"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    Points		    [0, 80]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "phimd\nsat."
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Lad\\Lmd"
		    SrcPort		    1
		    DstBlock		    "Sum21"
		    DstPort		    1
		    }
		    Line {
		    Name		    "f(phimd)"
		    FontSize		    10
		    Labels		    [0, 0]
		    SrcBlock		    "polynomial approximation of exp"
		    SrcPort		    1
		    DstBlock		    "Lad\\Lmd"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum21"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Vs"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dq axis saturation"
		    Ports		    [2, 2, 1]
		    Position		    [245, 148, 325, 212]
		    TreatAsAtomicUnit	    on
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    System {
		    Name		    "dq axis saturation"
		    Location		    [162, 288, 885, 537]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "phimd"
		    Position		    [15, 45, 35, 65]
		    BackgroundColor	    "yellow"
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "phimq"
		    Position		    [15, 110, 35, 130]
		    BackgroundColor	    "yellow"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [60, 170, 80, 190]
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Lad\\Lmd"
		    Position		    [480, 35, 510, 65]
		    Gain		    "Lad/Lmd"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Laq\\Lmq"
		    Position		    [480, 120, 510, 150]
		    NamePlacement	    "alternate"
		    Gain		    "Laq/Lmq"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [80, 47, 110, 78]
		    ShowName		    off
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [80, 97, 110, 128]
		    ShowName		    off
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [395, 32, 425, 63]
		    ShowName		    off
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "f(phimd)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [395, 117, 425, 148]
		    ShowName		    off
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "f(phimq)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [220, 178, 240, 222]
		    NamePlacement	    "alternate"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [125, 80, 145, 100]
		    ShowName		    off
		    IconShape		    "round"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [550, 13, 570, 62]
		    ShowName		    off
		    Inputs		    "+-"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [550, 123, 570, 172]
		    ShowName		    off
		    Inputs		    "-+"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [600, 32, 635, 88]
		    Threshold		    "0.5"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [600, 142, 635, 198]
		    Threshold		    "0.5"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vs"
		    Position		    [150, 200, 190, 220]
		    BackgroundColor	    "green"
		    ShowName		    off
		    Value		    "phis^2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "polynomial approximation of exp"
		    Position		    [165, 78, 350, 102]
		    NamePlacement	    "alternate"
		    Expr		    "((((a5*u+a4)*u+a3)*u+a2)*u+a1)*u+"
"a0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimq\nsat."
		    Position		    [665, 160, 685, 180]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimd\nsat."
		    Position		    [665, 50, 685, 70]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "phimd"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -15; 305, 0]
		    Branch {
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -15; 160, 0]
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "phimq"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 20; 305, 0]
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 20; 160, 0]
		    Branch {
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "polynomial approximation of exp"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    }
		    Line {
		    Name		    "f(phimd)"
		    Labels		    [0, 0]
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "Lad\\Lmd"
		    DstPort		    1
		    }
		    Line {
		    Name		    "f(phimq)"
		    Labels		    [0, 0]
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "Laq\\Lmq"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Lad\\Lmd"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Laq\\Lmq"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "polynomial approximation of exp"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [335, 0; 0, -30]
		    Branch {
		    Points		    [0, -110]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Vs"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "phimq\nsat."
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "phimd\nsat."
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimq_out"
		    Position		    [460, 168, 490, 182]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimd_out"
		    Position		    [465, 328, 495, 342]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion4"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion3"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Vs5"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion2"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Data Type \nConversion4"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Vs4"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion1"
		    SrcPort		    1
		    Points		    [90, 0]
		    Branch {
		    DstBlock		    "d axis saturation"
		    DstPort		    enable
		    }
		    Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator3"
		    SrcPort		    1
		    Points		    [0, 155]
		    DstBlock		    "Data Type \nConversion1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion"
		    SrcPort		    1
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "dq axis saturation"
		    DstPort		    enable
		    }
		    Branch {
		    Points		    [80, 0; 0, 55]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator2"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "phimd_in"
		    SrcPort		    1
		    Points		    [145, 0]
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "dq axis saturation"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 200]
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "d axis saturation"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45; 145, 0; 0, -60]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    4
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "dq axis saturation"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "phimq_in"
		    SrcPort		    1
		    Points		    [155, 0]
		    Branch {
		    DstBlock		    "dq axis saturation"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 40; 145, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0; 0, 35]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "dq axis saturation"
		    SrcPort		    2
		    Points		    [5, 0; 0, 135]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    2
		    }
		    Line {
		    Name		    "phimds"
		    Labels		    [0, 0]
		    SrcBlock		    "d axis saturation"
		    SrcPort		    1
		    Points		    [5, 0; 0, -25]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    Points		    [170, 0]
		    DstBlock		    "Sum"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Multiport\nSwitch"
		    SrcPort		    1
		    DstBlock		    "phimd_out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "phimq_out"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum17"
		  Ports			  [2, 1]
		  Position		  [200, 143, 220, 172]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum18"
		  Ports			  [2, 1]
		  Position		  [200, 183, 220, 212]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum19"
		  Ports			  [2, 1]
		  Position		  [200, 418, 220, 447]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum20"
		  Ports			  [2, 1]
		  Position		  [200, 318, 220, 347]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum21"
		  Ports			  [2, 1]
		  Position		  [200, 368, 220, 397]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum22"
		  Ports			  [2, 1]
		  Position		  [200, 228, 220, 257]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "sum"
		  Ports			  [3, 1]
		  Position		  [140, 24, 160, 156]
		  ShowName		  off
		  Inputs		  "+++"
		  Port {
		    PortNumber		    1
		    Name		    "phimq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "sum1"
		  Ports			  [3, 1]
		  Position		  [140, 474, 160, 606]
		  ShowName		  off
		  Inputs		  "+++"
		  Port {
		    PortNumber		    1
		    Name		    "phimd"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "phimq"
		  Position		  [505, 240, 525, 260]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "iq,id,ifd,\nikq1,ikq2,ikd,\nphimq,p"
"himd"
		  Position		  [505, 375, 525, 395]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "iq,id"
		  Position		  [505, 160, 525, 180]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phimd"
		  Position		  [505, 280, 525, 300]
		  BackgroundColor	  "red"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "phikq1"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 115]
		    DstBlock		    "Sum18"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Laq_Llkq1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "phikq2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 115]
		    DstBlock		    "Sum22"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Laq_Llkq2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Laq_Llkq1"
		  SrcPort		  1
		  DstBlock		  "sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Laq_Llkq2"
		  SrcPort		  1
		  DstBlock		  "sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Laq_Ll"
		  SrcPort		  1
		  DstBlock		  "sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phiq"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, 120]
		    DstBlock		    "Sum17"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Laq_Ll"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "phikd"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    Points		    [0, -145]
		    DstBlock		    "Sum19"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Lad_Llkd"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "phid"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Lad_Ll"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -155]
		    DstBlock		    "Sum20"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "phifd"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, -150]
		    DstBlock		    "Sum21"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Lad_Llfd"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Lad_Ll"
		  SrcPort		  1
		  DstBlock		  "sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Lad_Llfd"
		  SrcPort		  1
		  DstBlock		  "sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Lad_Llkd"
		  SrcPort		  1
		  DstBlock		  "sum1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 155]
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "iq,id"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "iq"
		  Labels		  [0, 0]
		  SrcBlock		  "-1_Ll"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum22"
		  SrcPort		  1
		  DstBlock		  "1_Llkq2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum17"
		  SrcPort		  1
		  DstBlock		  "-1_Ll"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum18"
		  SrcPort		  1
		  DstBlock		  "1_Llkq1"
		  DstPort		  1
		}
		Line {
		  Name			  "ikd"
		  Labels		  [0, 0]
		  SrcBlock		  "1_Llkd"
		  SrcPort		  1
		  Points		  [25, 0; 0, -30]
		  DstBlock		  "Mux3"
		  DstPort		  5
		}
		Line {
		  Name			  "ifd"
		  Labels		  [0, 0]
		  SrcBlock		  "1_Llfd"
		  SrcPort		  1
		  Points		  [25, 0; 0, -40]
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum19"
		  SrcPort		  1
		  DstBlock		  "1_Llkd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum21"
		  SrcPort		  1
		  DstBlock		  "1_Llfd"
		  DstPort		  1
		}
		Line {
		  Name			  "id"
		  Labels		  [0, 0]
		  SrcBlock		  "-1_Ll "
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum20"
		  SrcPort		  1
		  DstBlock		  "-1_Ll "
		  DstPort		  1
		}
		Line {
		  Name			  "ikq1"
		  Labels		  [0, 0]
		  SrcBlock		  "1_Llkq1"
		  SrcPort		  1
		  Points		  [45, 0; 0, 165]
		  DstBlock		  "Mux3"
		  DstPort		  3
		}
		Line {
		  Name			  "ikq2"
		  Labels		  [0, 0]
		  SrcBlock		  "1_Llkq2"
		  SrcPort		  1
		  Points		  [35, 0; 0, 140]
		  DstBlock		  "Mux3"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "iq,id,ifd,\nikq1,ikq2,ikd,\nphimq,p"
"himd"
		  DstPort		  1
		}
		Line {
		  Name			  "phimq"
		  Labels		  [0, 0]
		  SrcBlock		  "sum"
		  SrcPort		  1
		  Points		  [200, 0]
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Line {
		  Name			  "phimd"
		  Labels		  [0, 0]
		  SrcBlock		  "sum1"
		  SrcPort		  1
		  Points		  [200, 0]
		  DstBlock		  "Saturation"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "phimq"
		    DstPort		    1
		  }
		  Branch {
		    Points		    "[0, -35; -110, 0; 0, -90; -195, 0"
"; 0, 25]"
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    DstBlock		    "Sum18"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "Sum22"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-15, 0; 0, 235; 145, 0; 0, -45]
		    DstBlock		    "Mux3"
		    DstPort		    6
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Sum17"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  2
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "phimd"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 40; -105, 0; 0, 160; -50, 0]
		    Branch {
		    Points		    [-150, 0; 0, -65]
		    Branch {
		    Points		    [0, -50]
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Sum20"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum21"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Sum19"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    7
		    }
		  }
		}
		Annotation {
		  Name			  "This subsystem computes the mutual "
"fluxes phimd\nand phimq and all direct and quadrature axis         \ncurrents"
" in the model.                                          "
		  Position		  [302, 577]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "ia,ib"
	      Ports		      [1, 1]
	      Position		      [880, 78, 910, 102]
	      NamePlacement	      "alternate"
	      Elements		      "1:2"
	      InputPortWidth	      "3"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "mec"
	      Ports		      [4, 4]
	      Position		      [490, 350, 525, 405]
	      BackgroundColor	      "green"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('mec')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		1
		Name			"d_theta,n,Pe,dw"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		4
		Name			"Te"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"mec"
		Location		[227, 209, 901, 489]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "iq,id "
		  Position		  [15, 215, 35, 235]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phid"
		  Position		  [15, 145, 35, 165]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phiq"
		  Position		  [15, 180, 35, 200]
		  BackgroundColor	  "yellow"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Pm"
		  Position		  [15, 60, 35, 80]
		  BackgroundColor	  "yellow"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_(2H)"
		  Position		  [265, 65, 290, 95]
		  NamePlacement		  "alternate"
		  Gain			  "1/(2*H)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Pb"
		  Position		  [70, 56, 100, 84]
		  ShowName		  off
		  Gain			  "1/Pb"
		}
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [360, 120, 380, 140]
		  Decimation		  "10"
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [1, 1]
		  Position		  [315, 68, 335, 92]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "dwo"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		  Port {
		    PortNumber		    1
		    Name		    "dw"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator1"
		  Ports			  [1, 1]
		  Position		  [460, 58, 480, 82]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Forward Euler"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "tho"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		  Port {
		    PortNumber		    1
		    Name		    "d_theta (rad)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "F"
		  Position		  [270, 93, 300, 127]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "F"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [3, 1]
		  Position		  [55, 136, 85, 244]
		  ShowName		  off
		  Inputs		  "[ 1 1 2 ]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [120, 54, 155, 76]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [4, 1]
		  Position		  [570, 93, 605, 242]
		  ShowName		  off
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [405, 173, 435, 197]
		  ShowName		  off
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "Pe"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [365, 43, 385, 92]
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "n"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [220, 60, 240, 100]
		  ShowName		  off
		  Inputs		  "+--"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [510, 60, 530, 100]
		  ShowName		  off
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Te"
		  Position		  [100, 179, 190, 201]
		  Expr			  "u[1]*u[3]-u[2]*u[4]"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "div"
		  Position		  [175, 55, 195, 75]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Expr			  "u[2]/u[1]"
		  MaskDisplay		  "disp('/')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Constant
		  Name			  "nom. speed"
		  Position		  [315, 45, 335, 65]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web1"
		  Position		  [420, 55, 445, 85]
		  NamePlacement		  "alternate"
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web2"
		  Position		  [440, 115, 465, 145]
		  NamePlacement		  "alternate"
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "misc"
		  Position		  [625, 160, 645, 180]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "thetae"
		  Position		  [625, 70, 645, 90]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "we"
		  Position		  [625, 20, 645, 40]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Te "
		  Position		  [250, 205, 270, 225]
		  BackgroundColor	  "red"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "thetae"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "misc"
		  DstPort		  1
		}
		Line {
		  Name			  "n"
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -40]
		    Branch {
		    Points		    [-285, 0]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "we"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 80]
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [-1, 0]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "1_(2H)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "F"
		  SrcPort		  1
		  Points		  [-60, 0]
		  DstBlock		  "Sum2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "1_Pb"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Pm"
		  SrcPort		  1
		  DstBlock		  "1_Pb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "div"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Te"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Te"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -110]
		    DstBlock		    "Sum2"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Te "
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "iq,id "
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "phid"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phiq"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "div"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_(2H)"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "nom. speed"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  Name			  "Pe"
		  Labels		  [-1, 0]
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  3
		}
		Line {
		  Name			  "dw"
		  Labels		  [0, 0]
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 30]
		    Branch {
		    Labels		    [-1, 1]
		    Points		    [0, 110]
		    DstBlock		    "Mux2"
		    DstPort		    4
		    }
		    Branch {
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "F"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [55, 0]
		    DstBlock		    "web1"
		    DstPort		    1
		    }
		    }
		  }
		}
		Line {
		  SrcBlock		  "web1"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  DstBlock		  "web2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "web2"
		  SrcPort		  1
		  Points		  [5, 0; 0, -40]
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  Name			  "d_theta (rad)"
		  Labels		  [0, 0]
		  SrcBlock		  "Discrete-Time\nIntegrator1"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Sum3"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [-1, 1]
		    Points		    [0, 45]
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		}
		Annotation {
		  Name			  "This subsystem models the mechanica"
"l part of the machine."
		  Position		  [362, 247]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "output\nformatting"
	      Position		      [895, 185, 920, 215]
	      Gain		      "[ib2*ones(1,5),N2,ib2,ib2,ib2,phib,phib"
",Vb2,Vb2,1,Nb,Pb,1,1,1,1,1,1]"
	      SaturateOnIntegerOverflow	off
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phid"
	      Ports		      [4, 1]
	      Position		      [265, 228, 300, 272]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phid')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phid"
		Location		[404, 470, 914, 702]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "w"
		  Position		  [50, 15, 70, 35]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phiq"
		  Position		  [15, 40, 35, 60]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "vd"
		  Position		  [50, 65, 70, 85]
		  BackgroundColor	  "yellow"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phimd"
		  Position		  [15, 95, 35, 115]
		  BackgroundColor	  "yellow"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [1, 1]
		  Position		  [275, 56, 310, 94]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Trapezoidal"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "phido"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [95, 14, 125, 61]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rs_Ll"
		  Position		  [130, 97, 155, 123]
		  Gain			  "Rs/Ll"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [175, 19, 200, 131]
		  ShowName		  off
		  Inputs		  "+++"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum9"
		  Ports			  [2, 1]
		  Position		  [90, 100, 110, 120]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay1"
		  Position		  [335, 64, 355, 86]
		  ShowName		  off
		  X0			  "phido"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [220, 59, 255, 91]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phid"
		  Position		  [440, 65, 460, 85]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  DstBlock		  "Unit Delay1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rs_Ll"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum9"
		  SrcPort		  1
		  DstBlock		  "Rs_Ll"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phiq"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "vd"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phimd"
		  SrcPort		  1
		  DstBlock		  "Sum9"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Unit Delay1"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    DstBlock		    "phid"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 90; -310, 0]
		    DstBlock		    "Sum9"
		    DstPort		    2
		  }
		}
		Annotation {
		  Name			  "This subsystem computes the direct "
"axis flux phid."
		  Position		  [197, 192]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phifd"
	      Ports		      [2, 1]
	      Position		      [265, 289, 300, 331]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phifd')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phifd"
		Location		[346, 558, 739, 750]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "vfd"
		  Position		  [25, 40, 45, 60]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phimd"
		  Position		  [25, 75, 45, 95]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [1, 1]
		  Position		  [260, 51, 320, 89]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Trapezoidal"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "phifdo"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Gain
		  Name			  "N"
		  Position		  [95, 37, 130, 63]
		  ShowName		  off
		  Gain			  "N"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rf_Llfd"
		  Position		  [115, 77, 140, 103]
		  Gain			  "Rf/Llfd"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum10"
		  Ports			  [2, 1]
		  Position		  [80, 80, 100, 100]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [160, 30, 185, 110]
		  ShowName		  off
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay"
		  Position		  [185, 129, 205, 151]
		  Orientation		  "left"
		  ShowName		  off
		  X0			  "phifdo"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [205, 54, 240, 86]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phifd"
		  Position		  [360, 60, 380, 80]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "phifd"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 70]
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phimd"
		  SrcPort		  1
		  DstBlock		  "Sum10"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum10"
		  SrcPort		  1
		  DstBlock		  "Rf_Llfd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rf_Llfd"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "vfd"
		  SrcPort		  1
		  DstBlock		  "N"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "N"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Unit Delay"
		  SrcPort		  1
		  Points		  [-115, 0]
		  DstBlock		  "Sum10"
		  DstPort		  2
		}
		Annotation {
		  Name			  "This subsystem computes the field f"
"lux phifd."
		  Position		  [182, 162]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phikd"
	      Ports		      [2, 1]
	      Position		      [265, 339, 300, 381]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phikd')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phikd"
		Location		[287, 582, 736, 782]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "phimd"
		  Position		  [40, 55, 60, 75]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "vkd"
		  Position		  [40, 90, 60, 110]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [1, 1]
		  Position		  [270, 61, 320, 99]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Trapezoidal"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "phikdo"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rkd_Llkd"
		  Position		  [125, 47, 150, 73]
		  Gain			  "Rkd/Llkd"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum11"
		  Ports			  [2, 1]
		  Position		  [85, 50, 105, 70]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  Ports			  [2, 1]
		  Position		  [170, 39, 190, 121]
		  ShowName		  off
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay"
		  Position		  [220, 4, 240, 26]
		  Orientation		  "left"
		  ShowName		  off
		  X0			  "phikdo"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [210, 64, 245, 96]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phikd"
		  Position		  [370, 70, 390, 90]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    DstBlock		    "phikd"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -65]
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vkd"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phimd"
		  SrcPort		  1
		  DstBlock		  "Sum11"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum11"
		  SrcPort		  1
		  DstBlock		  "Rkd_Llkd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rkd_Llkd"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Unit Delay"
		  SrcPort		  1
		  Points		  [-150, 0; 0, 40]
		  DstBlock		  "Sum11"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem computes the direct "
"axis damper flux phikd."
		  Position		  [187, 147]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phikq1"
	      Ports		      [2, 1]
	      Position		      [265, 163, 300, 207]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phikq1')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phikq1"
		Location		[474, 349, 904, 526]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "phimq"
		  Position		  [20, 40, 40, 60]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "vkq1"
		  Position		  [20, 75, 40, 95]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [1, 1]
		  Position		  [255, 46, 305, 84]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Trapezoidal"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "phikq1o"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rkq1_Llkq1"
		  Position		  [110, 32, 135, 58]
		  NamePlacement		  "alternate"
		  Gain			  "Rkq1/Llkq1"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [155, 27, 175, 103]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum7"
		  Ports			  [2, 1]
		  Position		  [70, 35, 90, 55]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay"
		  Position		  [200, 4, 220, 26]
		  Orientation		  "left"
		  ShowName		  off
		  X0			  "phikq1o"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [195, 49, 230, 81]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phikq1"
		  Position		  [370, 54, 390, 76]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Rkq1_Llkq1"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum7"
		  SrcPort		  1
		  DstBlock		  "Rkq1_Llkq1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phimq"
		  SrcPort		  1
		  DstBlock		  "Sum7"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "vkq1"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "phikq1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Unit Delay"
		  SrcPort		  1
		  Points		  [-140, 0]
		  DstBlock		  "Sum7"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem computes the quadrat"
"ure axis damper flux phikq."
		  Position		  [177, 122]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phikq2"
	      Ports		      [2, 1]
	      Position		      [265, 105, 300, 140]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phikq2')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phikq2"
		Location		[115, 141, 636, 374]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "vkq2"
		  Position		  [45, 120, 65, 140]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phimq"
		  Position		  [45, 85, 65, 105]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Enabled\nintegrator"
		  Ports			  [1, 1, 1]
		  Position		  [295, 97, 320, 123]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('1/s')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Enabled\nintegrator"
		    Location		    [770, 683, 1060, 867]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 28, 55, 42]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [100, 80, 120, 100]
		    }
		    Block {
		    BlockType		    DiscreteIntegrator
		    Name		    "Discrete-Time\nIntegrator"
		    Ports		    [1, 1]
		    Position		    [90, 17, 130, 53]
		    ShowName		    off
		    IntegratorMethod	    "Integration: Trapezoidal"
		    ExternalReset	    "none"
		    InitialConditionSource  "internal"
		    InitialCondition	    "phikq2o"
		    SampleTime		    "Ts"
		    SaturateOnIntegerOverflow on
		    ICPrevOutput	    "DiscIntNeverNeededParam"
		    ICPrevScaledInput	    "DiscIntNeverNeededParam"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [185, 28, 215, 42]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Discrete-Time\nIntegrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Discrete-Time\nIntegrator"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rkq2_Llkq2"
		  Position		  [150, 77, 175, 103]
		  NamePlacement		  "alternate"
		  Gain			  "Rkq2/Llkq2"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [195, 72, 215, 148]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum7"
		  Ports			  [2, 1]
		  Position		  [105, 80, 125, 100]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay"
		  Position		  [200, 14, 220, 36]
		  Orientation		  "left"
		  ShowName		  off
		  X0			  "phikq2o"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [235, 94, 270, 126]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Constant
		  Name			  "wref"
		  Position		  [225, 47, 295, 73]
		  BackgroundColor	  "green"
		  Value			  "isfinite(Llkq2)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phikq2"
		  Position		  [375, 99, 395, 121]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "phimq"
		  SrcPort		  1
		  DstBlock		  "Sum7"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rkq2_Llkq2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vkq2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum7"
		  SrcPort		  1
		  DstBlock		  "Rkq2_Llkq2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "Enabled\nintegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Enabled\nintegrator"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    DstBlock		    "phikq2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -85]
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "wref"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "Enabled\nintegrator"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Unit Delay"
		  SrcPort		  1
		  Points		  [-105, 0]
		  DstBlock		  "Sum7"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem computes the quadrat"
"ure axis damper flux phikq2."
		  Position		  [232, 167]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phiq"
	      Ports		      [4, 1]
	      Position		      [275, 19, 310, 61]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phiq')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phiq"
		Location		[746, 90, 1224, 367]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "vq"
		  Position		  [15, 25, 35, 45]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "w"
		  Position		  [45, 50, 65, 70]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phid"
		  Position		  [15, 75, 35, 95]
		  BackgroundColor	  "yellow"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phimq"
		  Position		  [45, 95, 65, 115]
		  BackgroundColor	  "yellow"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  DiscreteIntegrator
		  Name			  "Discrete-Time\nIntegrator"
		  Ports			  [1, 1]
		  Position		  [295, 56, 335, 94]
		  ShowName		  off
		  IntegratorMethod	  "Integration: Trapezoidal"
		  ExternalReset		  "none"
		  InitialConditionSource  "internal"
		  InitialCondition	  "phiqo"
		  SampleTime		  "Ts"
		  SaturateOnIntegerOverflow on
		  ICPrevOutput		  "DiscIntNeverNeededParam"
		  ICPrevScaledInput	  "DiscIntNeverNeededParam"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [120, 49, 150, 96]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rs_Ll"
		  Position		  [145, 102, 170, 128]
		  Gain			  "Rs/Ll"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [190, 14, 210, 136]
		  ShowName		  off
		  Inputs		  "+-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  Ports			  [2, 1]
		  Position		  [100, 99, 120, 126]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay1"
		  Position		  [355, 64, 375, 86]
		  ShowName		  off
		  X0			  "phiqo"
		  SampleTime		  "Ts"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web_psb"
		  Position		  [225, 59, 260, 91]
		  ShowName		  off
		  Gain			  "web_psb"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phiq"
		  Position		  [435, 67, 450, 83]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Discrete-Time\nIntegrator"
		  SrcPort		  1
		  DstBlock		  "Unit Delay1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "web_psb"
		  SrcPort		  1
		  DstBlock		  "Discrete-Time\nIntegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phimq"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phid"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "w"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vq"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  DstBlock		  "Rs_Ll"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rs_Ll"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "web_psb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Unit Delay1"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "phiq"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 100; -305, 0]
		    DstBlock		    "Sum6"
		    DstPort		    2
		  }
		}
		Annotation {
		  Name			  "This subsystem computes the quadrat"
"ure axis flux phiq."
		  Position		  [227, 227]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "qd2abc"
	      Ports		      [2, 2]
	      Position		      [630, 73, 665, 137]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('qd/\\nabc')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		1
		Name			"iabc"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		2
		Name			"is(3)"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"qd2abc"
		Location		[325, 199, 913, 361]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "sin,cos"
		  Position		  [15, 45, 35, 65]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "iq,id"
		  Position		  [15, 85, 35, 105]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn"
		  Position		  [115, 22, 370, 48]
		  ShowName		  off
		  Expr			  "u[3]*u[2] + u[4]*u[1] "
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn1"
		  Position		  [115, 63, 365, 87]
		  ShowName		  off
		  Expr			  "(u[2]*(-u[3]-sqrt3*u[4]) + u[1]*(sq"
"rt3*u[3]-u[4]))*0.5"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [60, 33, 90, 117]
		  ShowName		  off
		  Inputs		  "[ 2 2 ]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1_"
		  Ports			  [3, 1]
		  Position		  [420, 16, 450, 134]
		  ShowName		  off
		  Inputs		  "3"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [385, 95, 405, 110]
		  Orientation		  "down"
		  ShowName		  off
		  Inputs		  "--"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Gain
		  Name			  "ib"
		  Position		  [475, 60, 500, 90]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "ib"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Outport
		  Name			  "is(A)"
		  Position		  [530, 65, 550, 85]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "is(pu)"
		  Position		  [530, 105, 550, 125]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "ib"
		  SrcPort		  1
		  DstBlock		  "is(A)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Fcn1"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Mux1_"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Fcn"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Mux1_"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Mux1_"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Mux1_"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "ib"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 40]
		    DstBlock		    "is(pu)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -40]
		    DstBlock		    "Fcn"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Fcn1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "sin,cos"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "iq,id"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Annotation {
		  Name			  "This subsystem converts id,iq to ia"
",ib,ic."
		  Position		  [232, 117]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "theta"
	      Position		      [770, 370, 795, 400]
	      BackgroundColor	      "yellow"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Gain		      "180/pi"
	      Port {
		PortNumber		1
		Name			"theta"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "vkd"
	      Position		      [145, 362, 160, 378]
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "vkq2"
	      Position		      [140, 107, 155, 123]
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "web1"
	      Position		      [585, 370, 610, 400]
	      BackgroundColor	      "yellow"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Gain		      "web_psb"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [950, 80, 970, 100]
	      BackgroundColor	      "red"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [975, 190, 995, 210]
	      BackgroundColor	      "red"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Subsystem"
	      SrcPort		      2
	      DstBlock		      "phifd"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Subsystem"
	      SrcPort		      1
	      Points		      [5, 0; 0, -85]
	      DstBlock		      "phikq1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "phikq2"
	      SrcPort		      1
	      DstBlock		      "currents and mutual fluxes"
	      DstPort		      2
	    }
	    Line {
	      Labels		      [0, 0]
	      SrcBlock		      "phikq1"
	      SrcPort		      1
	      DstBlock		      "currents and mutual fluxes"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "phifd"
	      SrcPort		      1
	      Points		      [30, 0; 0, -145]
	      DstBlock		      "currents and mutual fluxes"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "phikd"
	      SrcPort		      1
	      Points		      [40, 0; 0, -155]
	      DstBlock		      "currents and mutual fluxes"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "abc2qd"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "currents and mutual fluxes"
	      SrcPort		      4
	      Points		      [5, 0; 0, 30]
	      DstBlock		      "Unit Delay2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "abc2qd"
	      SrcPort		      3
	      Points		      [5, 0]
	      Branch {
		DstBlock		"phid"
		DstPort			3
	      }
	      Branch {
		Points			[0, 170; 225, 0; 0, -135; 165, 0]
		Branch {
		  DstBlock		  "PQ"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, -45]
		  DstBlock		  "Delta angle"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      SrcBlock		      "phid"
	      SrcPort		      1
	      Points		      [0, 0; 20, 0]
	      Branch {
		Points			[0, 120]
		DstBlock		"mec"
		DstPort			2
	      }
	      Branch {
		Points			[0, 0; 0, -105]
		Branch {
		  Points		  [-95, 0; 0, -100]
		  DstBlock		  "phiq"
		  DstPort		  3
		}
		Branch {
		  DstBlock		  "currents and mutual fluxes"
		  DstPort		  3
		}
	      }
	    }
	    Line {
	      SrcBlock		      "output\nformatting"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ia,ib"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      DstBlock		      "output\nformatting"
	      DstPort		      1
	    }
	    Line {
	      Name		      "iq,id"
	      SrcBlock		      "currents and mutual fluxes"
	      SrcPort		      3
	      Points		      [0, 0; 25, 0]
	      Branch {
		Labels			[-1, 1]
		Points			[155, 0]
		DstBlock		"qd2abc"
		DstPort			2
	      }
	      Branch {
		Points			[0, 140]
		Branch {
		  Points		  [0, 45]
		  DstBlock		  "mec"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "PQ"
		  DstPort		  3
		}
	      }
	    }
	    Line {
	      Name		      "sin,cos"
	      Labels		      [-1, 1]
	      SrcBlock		      "abc2qd"
	      SrcPort		      1
	      Points		      [35, 0; 0, -225; 330, 0; 0, 80]
	      DstBlock		      "qd2abc"
	      DstPort		      1
	    }
	    Line {
	      Name		      "vq,vd"
	      Labels		      [-1, 1]
	      SrcBlock		      "abc2qd"
	      SrcPort		      4
	      Points		      [55, 0; 0, 15; 270, 0; 0, -120]
	      DstBlock		      "Mux1"
	      DstPort		      3
	    }
	    Line {
	      Name		      "is(3)"
	      Labels		      [-1, 1]
	      SrcBlock		      "qd2abc"
	      SrcPort		      2
	      DstBlock		      "Mux1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "d_theta,n,Pe,dw"
	      Labels		      [-1, 1]
	      SrcBlock		      "mec"
	      SrcPort		      1
	      Points		      [225, 0; 0, -175]
	      DstBlock		      "Mux1"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "currents and mutual fluxes"
	      SrcPort		      1
	      Points		      [5, 0; 0, -40]
	      DstBlock		      "Unit Delay1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "iabc"
	      Labels		      [-1, 1]
	      SrcBlock		      "qd2abc"
	      SrcPort		      1
	      DstBlock		      "ia,ib"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "phiq"
	      SrcPort		      1
	      Points		      [35, 0; 0, 30]
	      Branch {
		Points			[0, 35]
		DstBlock		"currents and mutual fluxes"
		DstPort			1
	      }
	      Branch {
		Points			[-125, 0; 0, 175; 0, 0]
		Branch {
		  Points		  [0, 0; 0, 140]
		  DstBlock		  "mec"
		  DstPort		  3
		}
		Branch {
		  DstBlock		  "phid"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      SrcBlock		      "vkd"
	      SrcPort		      1
	      DstBlock		      "phikd"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "pm"
	      SrcPort		      1
	      DstBlock		      "mec"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "abc2qd"
	      SrcPort		      2
	      Points		      [15, 0]
	      Branch {
		Points			[0, -220]
		DstBlock		"phiq"
		DstPort			1
	      }
	      Branch {
		Points			[0, 170; 205, 0; 0, -145; 160, 0]
		Branch {
		  DstBlock		  "PQ"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, -40]
		  DstBlock		  "Delta angle"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "vkq2"
	      SrcPort		      1
	      DstBlock		      "phikq2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "iq,id,ifd,ikq1,ikq2,ikd,phimq,phimd"
	      Labels		      [-1, 1]
	      SrcBlock		      "currents and mutual fluxes"
	      SrcPort		      2
	      Points		      [400, 0]
	      DstBlock		      "Mux1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "vf"
	      SrcPort		      1
	      DstBlock		      "Subsystem"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "mec"
	      SrcPort		      2
	      Points		      [20, 0; 0, 80; -425, 0]
	      DstBlock		      "abc2qd"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "mec"
	      SrcPort		      3
	      Points		      [30, 0]
	      Branch {
		Points			[0, 55; -340, 0; 0, -205]
		Branch {
		  DstBlock		  "phid"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, -200]
		  DstBlock		  "phiq"
		  DstPort		  2
		}
	      }
	      Branch {
		DstBlock		"web1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Fcn"
	      SrcPort		      1
	      DstBlock		      "theta"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Discrete-Time\nIntegrator1"
	      SrcPort		      1
	      DstBlock		      "Fcn"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "web1"
	      SrcPort		      1
	      DstBlock		      "Discrete-Time\nIntegrator1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "theta"
	      Labels		      [-1, 1]
	      SrcBlock		      "theta"
	      SrcPort		      1
	      Points		      [0, -185]
	      DstBlock		      "Mux1"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Unit Delay1"
	      SrcPort		      1
	      Points		      [0, 0; -130, 0]
	      Branch {
		Points			[0, 50]
		Branch {
		  DstBlock		  "phikq1"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "phikq2"
		  DstPort		  2
		}
	      }
	      Branch {
		Points			[0, -25]
		DstBlock		"phiq"
		DstPort			4
	      }
	    }
	    Line {
	      SrcBlock		      "Unit Delay2"
	      SrcPort		      1
	      Points		      [-130, 0; 0, 40]
	      Branch {
		Points			[0, 55]
		Branch {
		  DstBlock		  "phifd"
		  DstPort		  2
		}
		Branch {
		  DstBlock		  "phikd"
		  DstPort		  1
		}
	      }
	      Branch {
		DstBlock		"phid"
		DstPort			4
	      }
	    }
	    Line {
	      Name		      "Te"
	      Labels		      [-1, 1]
	      SrcBlock		      "mec"
	      SrcPort		      4
	      Points		      [0, -180]
	      DstBlock		      "Mux1"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "Delta angle"
	      SrcPort		      1
	      DstBlock		      "Mux1"
	      DstPort		      7
	    }
	    Line {
	      SrcBlock		      "PQ"
	      SrcPort		      1
	      Points		      [80, 0; 0, -15]
	      DstBlock		      "Mux1"
	      DstPort		      8
	    }
	    Line {
	      SrcBlock		      "PQ"
	      SrcPort		      2
	      Points		      [95, 0; 0, -25]
	      DstBlock		      "Mux1"
	      DstPort		      9
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "thyristor (logical)"
	  Ports			  [2, 4]
	  Position		  [115, 197, 160, 268]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "thyristors logic model"
	  MaskPromptString	  "Number of thyristors|Forward voltage Vf (V)"
"|Thyristor resistances|Sample time (s):"
	  MaskStyleString	  "edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on"
	  MaskCallbackString	  "|||"
	  MaskEnableString	  "on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on"
	  MaskToolTipString	  "on,on,on,on"
	  MaskVarAliasString	  ",,,"
	  MaskVariables		  "Nsw=@1;Vf=@2;Rsw=@3;Ts=@4;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|0|1|1"
	  MaskTabNameString	  ",,,"
	  System {
	    Name		    "thyristor (logical)"
	    Location		    [26, 461, 809, 818]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [15, 135, 35, 155]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"Vak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [345, 160, 365, 180]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      " Delay Ts1"
	      Position		      [305, 55, 340, 95]
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      " Delay Ts2"
	      Position		      [625, 55, 660, 95]
	      SampleTime	      "Ts"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 1"
	      Position		      [375, 90, 395, 110]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 2"
	      Position		      [230, 150, 250, 170]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 3"
	      Position		      [230, 200, 250, 220]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0 4"
	      Position		      [445, 275, 465, 295]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1/Rsw"
	      Position		      [85, 215, 115, 245]
	      Gain		      "1./Rsw"
	      Port {
		PortNumber		1
		Name			"Iak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [480, 12, 570, 38]
	      Value		      "zeros(Nsw,1)"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion1"
	      Position		      [570, 64, 605, 86]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion2"
	      Position		      [385, 159, 410, 181]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion3"
	      Position		      [385, 134, 410, 156]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion4"
	      Position		      [385, 194, 410, 216]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion5"
	      Position		      [485, 54, 500, 76]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [245, 30, 275, 60]
	      ShowName		      off
	      Gain		      "2"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [635, 226, 640, 264]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	      Port {
		PortNumber		1
		Name			"measurement signals"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      Position		      [570, 165, 600, 195]
	      UpperLimit	      "inf"
	      LowerLimit	      "0"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      Ports		      [2, 1]
	      Position		      [375, 37, 400, 68]
	      ShowName		      off
	      Inputs		      "+-"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [225, 245, 245, 265]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|++"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [510, 200, 540, 230]
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b5"
	      Position		      [440, 46, 465, 79]
	      ShowName		      off
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b6"
	      Position		      [275, 136, 300, 169]
	      ShowName		      off
	      Operator		      ">"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "b7"
	      Position		      [275, 186, 300, 219]
	      ShowName		      off
	      Operator		      "=="
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "or2"
	      Ports		      [2, 1]
	      Position		      [520, 55, 550, 95]
	      ShowName		      off
	      Operator		      "OR"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "or3"
	      Ports		      [3, 1]
	      Position		      [445, 150, 475, 190]
	      ShowName		      off
	      Inputs		      "3"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "vf"
	      Position		      [145, 284, 195, 306]
	      Value		      "Vf"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [610, 15, 630, 35]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Status"
	      Position		      [740, 65, 760, 85]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [725, 235, 745, 255]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Vf"
	      Position		      [325, 285, 345, 305]
	      Port		      "4"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      Name		      "measurement signals"
	      Labels		      [0, 0]
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "or3"
	      SrcPort		      1
	      Points		      [10, 0; 0, -85]
	      DstBlock		      "or2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "b5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 1"
	      SrcPort		      1
	      Points		      [25, 0]
	      DstBlock		      "b5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      " Delay Ts1"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "Sum"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 2"
	      SrcPort		      1
	      DstBlock		      "b6"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Vak"
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		Labels			[1, 0]
		Points			[120, 0]
		Branch {
		  DstBlock		  "b6"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 110]
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
	      }
	      Branch {
		Points			[0, 85]
		DstBlock		"1/Rsw"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "0 3"
	      SrcPort		      1
	      DstBlock		      "b7"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "vf"
	      SrcPort		      1
	      Points		      [0, 0; 35, 0]
	      Branch {
		DstBlock		"Sum1"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Vf"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "or2"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion1"
	      SrcPort		      1
	      DstBlock		      " Delay Ts2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      " Delay Ts2"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		DstBlock		"Status"
		DstPort			1
	      }
	      Branch {
		Points			[0, 65; -190, 0]
		DstBlock		"Switch"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion2"
	      SrcPort		      1
	      DstBlock		      "or3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "b6"
	      SrcPort		      1
	      Points		      [0, -10]
	      DstBlock		      "Data Type \nConversion3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion3"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "or3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "b7"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion4"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion4"
	      SrcPort		      1
	      Points		      [15, 0]
	      DstBlock		      "or3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "b5"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion5"
	      SrcPort		      1
	      DstBlock		      "or2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Iak"
	      Labels		      [0, 0]
	      SrcBlock		      "1/Rsw"
	      SrcPort		      1
	      Points		      [340, 0; 0, -25]
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "0 4"
	      SrcPort		      1
	      Points		      [25, 0]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      Points		      [10, 0]
	      DstBlock		      "Saturation"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      Points		      [0, 55]
	      Branch {
		DstBlock		"Mux"
		DstPort			1
	      }
	      Branch {
		Points			[0, 105; -405, 0; 0, -145]
		Branch {
		  DstBlock		  "b7"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, -120]
		  Branch {
		    DstBlock		    " Delay Ts1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Annotation {
	      Name		      "Current prediction"
	      Position		      [306, 120]
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Phasors"
      Ports		      []
      Position		      [281, 12, 321, 57]
      TreatAsAtomicUnit	      off
      MinAlgLoopOccurrences   off
      RTWSystemCode	      "Auto"
      System {
	Name			"Phasors"
	Location		[51, 317, 655, 566]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "3_Phase_Prog_Source"
	  Ports			  [0, 1]
	  Position		  [370, 116, 415, 184]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "3-phase Programmable Source"
	  MaskDescription	  "Use this block to generate  a set of three-"
"phase sinusoidal voltages or currents a, b and c. Time variation for the ampl"
"itude, phase and frequency of the fundamental can be pre-programmed. In addit"
"ion, two harmonics can be surimposed on the fundamental."
	  MaskPromptString	  "Positive-sequence: [ Amplitude  Phase(degre"
"es)   Freq. (Hz) ]|Time variation of:|Type of variation:|Step magnitude:|Rate"
" of change (value/s):|Amplitude of the modulation:|Frequency of the modulatio"
"n(Hz):|Variation timing (s) : [ Start   End ]|1-phase only|Amplitude values:|"
"Time values:|Harmonic generation:|A:  [ Order(n)   Amplitude  Phase(degrees) "
" Seq(0, 1 or 2) ]|B:  [ Order(n)   Amplitude  Phase(degrees)  Seq(0, 1 or 2) "
"]|Harmonic timing (s) : [ Start   End ]"
	  MaskStyleString	  "edit,popup(None|Amplitude|Phase|Frequency),"
"popup(Step|Ramp|Modulation|Table of time-amplitude pairs),edit,edit,edit,edit"
",edit,checkbox,edit,edit,checkbox,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n"
	  MaskCallbackString	  "||||||||||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,o"
"n"
	  MaskVarAliasString	  ",,,,,,,,,,,,,,"
	  MaskVariables		  "Par_Vps_LLrms=@1;VariationEntity=@2;Variati"
"onType=@3;VariationStep=@4;VariationRate=@5;VariationMag=@6;VariationFreq=@7;"
"Par_Timing_Variation=@8;SinglePhase=@9;Yampli=@10;Xtime=@11;HarmonicGeneratio"
"n=@12;Par_HarmoA_pu=@13;Par_HarmoB_pu=@14;Par_Timing_Harmo=@15;"
	  MaskInitialization	  "% Conversion of pos. seq.amplitude from Ph-"
"Ph rms voltage to Ph-G peak\nPar_Vps=Par_Vps_LLrms;\nPar_Vps(1)=Par_Vps(1)*sq"
"rt(2/3);\nMag_Vps=Par_Vps(1);\nPhase_Vps=Par_Vps(2);\nFreq_Vps=Par_Vps(3);\n%"
" Conversion of harmonic amplitudes from pu to Ph-G peak volt\nPar_HarmoA=Par_"
"HarmoA_pu;\nPar_HarmoB=Par_HarmoB_pu;\nPar_HarmoA(2)=Par_HarmoA(2)*Mag_Vps;\n"
"Par_HarmoB(2)=Par_HarmoB(2)*Mag_Vps;\n% Conversion of amplitude variation fro"
"m pu to Ph-G peak volt\nif VariationEntity==2\n	VariationStep=Variatio"
"nStep*Mag_Vps;\n	VariationRate=VariationRate*Mag_Vps;\n	Variati"
"onMag=VariationMag*Mag_Vps;\n	Yampli=Yampli*Mag_Vps;\nend\n\nTon_Varia"
"tion=Par_Timing_Variation(1);\nToff_Variation=Par_Timing_Variation(2);\nn_Har"
"moA=Par_HarmoA(1);\nMag_HarmoA=Par_HarmoA(2);\nPhase_HarmoA=Par_HarmoA(3);\nS"
"eq_HarmoA=Par_HarmoA(4);\nif n_HarmoA==0\n    Phase_HarmoA=90;\n    Seq_Harmo"
"A=0;\nend\nn_HarmoB=Par_HarmoB(1);\nMag_HarmoB=Par_HarmoB(2);\nPhase_HarmoB=P"
"ar_HarmoB(3);\nSeq_HarmoB=Par_HarmoB(4);\nif n_HarmoB==0\n    Phase_HarmoB=90"
";\n    Seq_HarmoB=0;\nend\nTon_Harmo=Par_Timing_Harmo(1);\nToff_Harmo=Par_Tim"
"ing_Harmo(2);\n\nif Xtime(1)~=0,\nXtime=[0 Xtime];\nYampli=[0 Yampli];\nend\n"
"n=length(Xtime); vec_dt= [Xtime,0] - [0,Xtime] ; vec_dt=vec_dt(2:n);\n\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "Par_Vps|None|Step|VariationStep|VariationRa"
"te|VariationMag|VariationFreq|Par_Timing_Variation|off|Yampli|Xtime|off|Par_H"
"armoA_pu|Par_HarmoB_pu|Par_Timing_Harmo"
	  MaskTabNameString	  ",,,,,,,,,,,,,,"
	  System {
	    Name		    "3_Phase_Prog_Source"
	    Location		    [14, 64, 1087, 810]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [120, 290, 140, 310]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Value		      "2"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [525, 210, 545, 230]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      Position		      [120, 350, 140, 370]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Value		      "3"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant4"
	      Position		      [445, 605, 465, 625]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant6"
	      Position		      [390, 115, 410, 135]
	      ShowName		      off
	      Value		      "4"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion"
	      Position		      [710, 705, 730, 725]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion1"
	      Position		      [615, 690, 635, 710]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type \nConversion2"
	      Position		      [615, 750, 635, 770]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain3"
	      Position		      [490, 466, 540, 504]
	      ShowName		      off
	      Gain		      "pi/180"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain4"
	      Position		      [385, 556, 435, 594]
	      ShowName		      off
	      Gain		      "pi/180"
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "Logical\nOperator"
	      Ports		      [2, 1]
	      Position		      [655, 689, 685, 736]
	      ForegroundColor	      "blue"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Logic
	      Name		      "Logical\nOperator1"
	      Ports		      [2, 1]
	      Position		      [525, 104, 555, 151]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      MagnitudeAngleToComplex
	      Name		      "Magnitude-Angle\nto Complex"
	      Ports		      [2, 1]
	      Position		      [755, 332, 785, 363]
	      Input		      "Magnitude and angle"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [3, 1]
	      Position		      [970, 181, 975, 219]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [3, 1]
	      Position		      [940, 141, 945, 179]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "P1"
	      Position		      [470, 507, 570, 533]
	      ShowName		      off
	      Value		      "[0  -2*pi/3  2*pi/3]"
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator"
	      Position		      [180, 270, 210, 310]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Operator		      "=="
	      Port {
		PortNumber		1
		Name			"Amplitude"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator1"
	      Position		      [180, 330, 210, 370]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Operator		      "=="
	      Port {
		PortNumber		1
		Name			"Phase"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      RelationalOperator
	      Name		      "Relational\nOperator3"
	      Position		      [445, 95, 475, 135]
	      ShowName		      off
	      Operator		      "=="
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Seq A\nGeneration"
	      Ports		      [1, 1]
	      Position		      [800, 609, 890, 671]
	      ForegroundColor	      "blue"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Harmonic generation"
	      MaskPromptString	      "Mag_Harmo|Phase_Harmo|Seq_Harmo"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVarAliasString      ",,"
	      MaskVariables	      "Mag_Harmo=@1;Phase_Harmo=@2;Seq_Harmo=@"
"3;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Mag_HarmoA *(n_HarmoA==1)|Phase_HarmoA|"
"Seq_HarmoA"
	      MaskTabNameString	      ",,"
	      System {
		Name			"Seq A\nGeneration"
		Location		[360, 56, 1272, 683]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Enable"
		  Position		  [570, 93, 600, 107]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  Position		  [360, 153, 415, 187]
		  ShowName		  off
		  Gain			  "pi/180"
		}
		Block {
		  BlockType		  MagnitudeAngleToComplex
		  Name			  "Magnitude-Angle\nto Complex"
		  Ports			  [2, 1]
		  Position		  [635, 197, 665, 228]
		  Input			  "Magnitude and angle"
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch"
		  Ports			  [4, 1]
		  Position		  [360, 241, 395, 399]
		  ShowName		  off
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Negative-sequence"
		  Position		  [240, 369, 330, 391]
		  Value			  "[0 2*pi/3 -2*pi/3]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo"
		  Position		  [240, 159, 325, 181]
		  ShowName		  off
		  Value			  "Phase_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo1"
		  Position		  [520, 169, 605, 191]
		  ShowName		  off
		  Value			  "Mag_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo2"
		  Position		  [135, 239, 220, 261]
		  ShowName		  off
		  Value			  "Seq_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Positive-sequence"
		  Position		  [240, 329, 330, 351]
		  Value			  "[0 -2*pi/3 2*pi/3]"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [730, 133, 760, 242]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [455, 120, 495, 315]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [290, 242, 310, 273]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Zero-sequence"
		  Position		  [240, 289, 325, 311]
		  Value			  "[0 0 0]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom2"
		  Position		  [235, 255, 255, 275]
		  ShowName		  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Seq120"
		  Position		  [810, 183, 840, 197]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Enable"
		  SrcPort		  1
		  Points		  [55, 0; 0, 60]
		  DstBlock		  "Product1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Phase_Harmo1"
		  SrcPort		  1
		  Points		  [5, 0; 0, 25]
		  DstBlock		  "Magnitude-Angle\nto Complex"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch"
		  SrcPort		  1
		  Points		  [40, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Phase_Harmo"
		  SrcPort		  1
		  DstBlock		  "Gain3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "valp_nom2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Phase_Harmo2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Seq120"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Magnitude-Angle\nto Complex"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Negative-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Positive-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Zero-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Magnitude-Angle\nto Complex"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Seq B\nGeneration"
	      Ports		      [1, 1]
	      Position		      [800, 719, 890, 781]
	      ForegroundColor	      "blue"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Harmonic generation"
	      MaskPromptString	      "Mag_Harmo|Phase_Harmo|Seq_Harmo"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVarAliasString      ",,"
	      MaskVariables	      "Mag_Harmo=@1;Phase_Harmo=@2;Seq_Harmo=@"
"3;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Mag_HarmoB*(n_HarmoB==1) |Phase_HarmoB|"
"Seq_HarmoB"
	      MaskTabNameString	      ",,"
	      System {
		Name			"Seq B\nGeneration"
		Location		[360, 56, 1272, 683]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Enable"
		  Position		  [570, 93, 600, 107]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  Position		  [360, 153, 415, 187]
		  ShowName		  off
		  Gain			  "pi/180"
		}
		Block {
		  BlockType		  MagnitudeAngleToComplex
		  Name			  "Magnitude-Angle\nto Complex"
		  Ports			  [2, 1]
		  Position		  [635, 197, 665, 228]
		  Input			  "Magnitude and angle"
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch"
		  Ports			  [4, 1]
		  Position		  [360, 241, 395, 399]
		  ShowName		  off
		  Inputs		  "3"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Negative-sequence"
		  Position		  [240, 369, 330, 391]
		  Value			  "[0 2*pi/3 -2*pi/3]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo"
		  Position		  [240, 159, 325, 181]
		  ShowName		  off
		  Value			  "Phase_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo1"
		  Position		  [520, 169, 605, 191]
		  ShowName		  off
		  Value			  "Mag_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase_Harmo2"
		  Position		  [135, 239, 220, 261]
		  ShowName		  off
		  Value			  "Seq_Harmo"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Positive-sequence"
		  Position		  [240, 329, 330, 351]
		  Value			  "[0 -2*pi/3 2*pi/3]"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [730, 133, 760, 242]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [455, 120, 495, 315]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [290, 242, 310, 273]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Zero-sequence"
		  Position		  [240, 289, 325, 311]
		  Value			  "[0 0 0]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom2"
		  Position		  [235, 255, 255, 275]
		  ShowName		  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Seq120"
		  Position		  [810, 183, 840, 197]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Magnitude-Angle\nto Complex"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Zero-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Positive-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Negative-sequence"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Magnitude-Angle\nto Complex"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Seq120"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Phase_Harmo2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "valp_nom2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Phase_Harmo"
		  SrcPort		  1
		  DstBlock		  "Gain3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch"
		  SrcPort		  1
		  Points		  [40, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Phase_Harmo1"
		  SrcPort		  1
		  Points		  [5, 0; 0, 25]
		  DstBlock		  "Magnitude-Angle\nto Complex"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Enable"
		  SrcPort		  1
		  Points		  [55, 0; 0, 60]
		  DstBlock		  "Product1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "SinglePhase"
	      Position		      [885, 70, 955, 90]
	      ShowName		      off
	      Value		      "SinglePhase"
	    }
	    Block {
	      BlockType		      Step
	      Name		      "Step"
	      Position		      [510, 673, 535, 697]
	      ForegroundColor	      "blue"
	      ShowName		      off
	      Time		      "Ton_Harmo"
	      SampleTime	      "0"
	      Port {
		PortNumber		1
		Name			"Ton"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Step
	      Name		      "Step1"
	      Position		      [510, 703, 535, 727]
	      ForegroundColor	      "blue"
	      ShowName		      off
	      Time		      "Toff_Harmo"
	      After		      "-1"
	      SampleTime	      "0"
	      Port {
		PortNumber		1
		Name			"Toff"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [3, 1]
	      Position		      [595, 468, 615, 572]
	      ShowName		      off
	      Inputs		      "+++"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      Ports		      [2, 1]
	      Position		      [665, 165, 685, 300]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum4"
	      Ports		      [2, 1]
	      Position		      [575, 670, 595, 730]
	      ForegroundColor	      "blue"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum5"
	      Ports		      [3, 1]
	      Position		      [1015, 340, 1040, 410]
	      ShowName		      off
	      Inputs		      "+++"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [820, 97, 850, 163]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch2"
	      Position		      [590, 167, 620, 233]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch3"
	      Position		      [510, 562, 540, 628]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch5"
	      Position		      [1015, 147, 1045, 213]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Timer"
	      Ports		      [0, 1]
	      Position		      [645, 51, 710, 89]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Timer"
	      MaskDescription	      "Generates a signal changing  at specifi"
"ed times.    \n                                                              "
"              \nValue of the signal at time zero must  be specified."
	      MaskPromptString	      "Time (s):|Amplitude:|Sample time (s)"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVarAliasString      ",,"
	      MaskVariables	      "t=@1;e=@2;Ts=@3;"
	      MaskInitialization      "tt=t;sv=e;\ntv=[-1,tt(1),reshape(repmat"
"(reshape(tt(2:end),1,length(tt)-1),2,1),1,2*length(tt)-2),tt(end)+1];\n%sv=(s"
"v(:)'~=0);\nopv=[sv(1),reshape(repmat(sv(1:end-1),2,1),1,2*length(sv)-2),sv(e"
"nd),sv(end)];"
	      MaskDisplay	      "plot( tv(2:end-1), opv(2:end-1) )"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "Xtime|Yampli|0"
	      MaskTabNameString	      ",,"
	      System {
		Name			"Timer"
		Location		[397, 93, 843, 306]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [50, 40, 70, 60]
		  FontName		  "Comic Sans MS"
		  Decimation		  "1"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Look-Up\nTable"
		  Position		  [110, 34, 235, 66]
		  DialogController	  "Simulink.DDGSource"
		  FontName		  "Comic Sans MS"
		  InputValues		  "tv"
		  OutputValues		  "opv"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [285, 43, 315, 57]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  DstBlock		  "Look-Up\nTable"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Look-Up\nTable"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Variation\nSubSystem"
	      Ports		      [1, 1]
	      Position		      [180, 154, 275, 216]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskType		      "Variation Subsystem"
	      MaskPromptString	      "VariationStep|VariationRate|VariationFr"
"eq|VariationMag|Ton_Variation|Toff_Variation|Sample time:"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on"
	      MaskCallbackString      "||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on,on"
	      MaskVarAliasString      ",,,,,,"
	      MaskVariables	      "VariationStep=@1;VariationRate=@2;Varia"
"tionFreq=@3;VariationMag=@4;Ton_Variation=@5;Toff_Variation=@6;Ts=@7;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "VariationStep|VariationRate|VariationFr"
"eq|VariationMag|Ton_Variation|Toff_Variation|0"
	      MaskTabNameString	      ",,,,,,"
	      System {
		Name			"Variation\nSubSystem"
		Location		[23, 347, 1143, 871]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "VariationType"
		  Position		  [30, 93, 60, 107]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [65, 285, 85, 305]
		  ShowName		  off
		  Value			  "2"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  Position		  [920, 155, 940, 175]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  Position		  [220, 295, 240, 315]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant3"
		  Position		  [750, 110, 770, 130]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant4"
		  Position		  [370, 315, 390, 335]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant5"
		  Position		  [700, 240, 720, 260]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [825, 100, 845, 120]
		  BackgroundColor	  "cyan"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [860, 180, 880, 200]
		  Orientation		  "up"
		  BackgroundColor	  "cyan"
		  ShowName		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [500, 384, 535, 416]
		  ShowName		  off
		  Gain			  "2*pi"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [490, 290, 520, 320]
		  Port {
		    PortNumber		    1
		    Name		    "Ramp"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator"
		  Ports			  [2, 1]
		  Position		  [905, 87, 935, 118]
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  "Logical\nOperator1"
		  Ports			  [1, 1]
		  Position		  [855, 130, 885, 160]
		  Orientation		  "up"
		  ShowName		  off
		  Operator		  "NOT"
		}
		Block {
		  BlockType		  Memory
		  Name			  "Memory"
		  Position		  [900, 283, 920, 307]
		  Orientation		  "left"
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch1"
		  Ports			  [5, 1]
		  Position		  [770, 154, 800, 266]
		  ShowName		  off
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [700, 359, 730, 401]
		  ShowName		  off
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "Mod"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [575, 369, 605, 411]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [415, 174, 445, 216]
		  ShowName		  off
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "Step"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator"
		  Position		  [115, 265, 145, 305]
		  ShowName		  off
		  Operator		  "=="
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "Relational\nOperator1"
		  Position		  [785, 90, 805, 130]
		  ShowName		  off
		  Operator		  "=="
		}
		Block {
		  BlockType		  Step
		  Name			  "Step"
		  Position		  [285, 348, 310, 372]
		  ShowName		  off
		  Time			  "Ton_Variation"
		  SampleTime		  "0"
		  Port {
		    PortNumber		    1
		    Name		    "Ton"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Step
		  Name			  "Step1"
		  Position		  [805, 278, 830, 302]
		  ShowName		  off
		  Time			  "Toff_Variation"
		  Before		  "1"
		  After			  "0"
		  SampleTime		  "0"
		  Port {
		    PortNumber		    1
		    Name		    "Toff"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [415, 272, 445, 338]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [295, 252, 325, 318]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  Position		  [900, 197, 930, 263]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch3"
		  Position		  [985, 177, 1015, 243]
		  ShowName		  off
		  Threshold		  "0.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction1"
		  Ports			  [1, 1]
		  Position		  [640, 375, 670, 405]
		  ShowName		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom6"
		  Position		  [285, 174, 375, 196]
		  ShowName		  off
		  Value			  "VariationStep"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom7"
		  Position		  [165, 254, 255, 276]
		  ShowName		  off
		  Value			  "VariationRate"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom8"
		  Position		  [575, 314, 665, 336]
		  ShowName		  off
		  Value			  "VariationMag"
		}
		Block {
		  BlockType		  Constant
		  Name			  "valp_nom9"
		  Position		  [380, 389, 470, 411]
		  ShowName		  off
		  Value			  "VariationFreq"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Value"
		  Position		  [1080, 203, 1110, 217]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Relational\nOperator1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction1"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "valp_nom8"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "valp_nom9"
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Trigonometric\nFunction1"
		  DstPort		  1
		}
		Line {
		  Name			  "Mod"
		  Labels		  [-1, 1]
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [5, 0; 0, -150]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "valp_nom7"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Constant4"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Relational\nOperator"
		  SrcPort		  1
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "valp_nom6"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  Name			  "Step"
		  Labels		  [-1, 1]
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  Points		  [305, 0]
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  2
		}
		Line {
		  Name			  "Ramp"
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, 75]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [-1, 1]
		    Points		    [0, -95]
		    DstBlock		    "Multiport\nSwitch1"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "VariationType"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [650, 0]
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "Multiport\nSwitch1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 175]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "Ton"
		  Labels		  [0, 0]
		  SrcBlock		  "Step"
		  SrcPort		  1
		  Points		  [30, 0; 0, -55]
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -100]
		    DstBlock		    "Product2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch1"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Memory"
		  SrcPort		  1
		  Points		  [-10, 0]
		  DstBlock		  "Switch2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "Switch3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 65]
		    DstBlock		    "Memory"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Switch3"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Switch3"
		  SrcPort		  1
		  DstBlock		  "Value"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant3"
		  SrcPort		  1
		  DstBlock		  "Relational\nOperator1"
		  DstPort		  2
		}
		Line {
		  Name			  "Toff"
		  Labels		  [0, 0]
		  SrcBlock		  "Step1"
		  SrcPort		  1
		  Points		  [35, 0; 0, -60]
		  Branch {
		    DstBlock		    "Data Type \nConversion2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Switch2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Logical\nOperator"
		  SrcPort		  1
		  Points		  [20, 0; 0, 105]
		  DstBlock		  "Switch3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Logical\nOperator1"
		  SrcPort		  1
		  Points		  [0, -30]
		  DstBlock		  "Logical\nOperator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant5"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch1"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  DstBlock		  "Logical\nOperator"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom"
	      Position		      [400, 475, 465, 495]
	      ShowName		      off
	      Value		      "Phase_Vps"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom2"
	      Position		      [570, 255, 635, 275]
	      ShowName		      off
	      Value		      "Mag_Vps"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom3"
	      Position		      [55, 249, 145, 271]
	      ForegroundColor	      "magenta"
	      ShowName		      off
	      Value		      "VariationEntity"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom5"
	      Position		      [35, 174, 125, 196]
	      ShowName		      off
	      Value		      "VariationType"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "valp_nom7"
	      Position		      [465, 748, 570, 772]
	      ForegroundColor	      "blue"
	      ShowName		      off
	      Value		      "HarmonicGeneration"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "abc"
	      Position		      [1070, 368, 1100, 382]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion"
	      SrcPort		      1
	      Points		      [30, 0]
	      Branch {
		Points			[0, 35]
		DstBlock		"Seq B\nGeneration"
		DstPort			1
	      }
	      Branch {
		Points			[0, -75]
		DstBlock		"Seq A\nGeneration"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Seq B\nGeneration"
	      SrcPort		      1
	      Points		      [50, 0; 0, -350]
	      DstBlock		      "Sum5"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Seq A\nGeneration"
	      SrcPort		      1
	      Points		      [20, 0; 0, -265]
	      DstBlock		      "Sum5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion2"
	      SrcPort		      1
	      DstBlock		      "Logical\nOperator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "valp_nom7"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Data Type \nConversion1"
	      SrcPort		      1
	      DstBlock		      "Logical\nOperator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Sum4"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Logical\nOperator"
	      SrcPort		      1
	      DstBlock		      "Data Type \nConversion"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "P1"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Magnitude-Angle\nto Complex"
	      SrcPort		      1
	      DstBlock		      "Sum5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain3"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "valp_nom"
	      SrcPort		      1
	      DstBlock		      "Gain3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch2"
	      SrcPort		      1
	      DstBlock		      "Sum3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "Switch2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      Points		      [85, 0; 0, -165]
	      DstBlock		      "Magnitude-Angle\nto Complex"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "valp_nom2"
	      SrcPort		      1
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Amplitude"
	      Labels		      [0, 0]
	      SrcBlock		      "Relational\nOperator"
	      SrcPort		      1
	      Points		      [285, 0; 0, -90]
	      Branch {
		DstBlock		"Switch2"
		DstPort			2
	      }
	      Branch {
		Points			[0, -60]
		DstBlock		"Logical\nOperator1"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "valp_nom5"
	      SrcPort		      1
	      Points		      [0, 0; 15, 0]
	      Branch {
		DstBlock		"Variation\nSubSystem"
		DstPort			1
	      }
	      Branch {
		Points			[0, -80]
		DstBlock		"Relational\nOperator3"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Switch3"
	      SrcPort		      1
	      Points		      [35, 0]
	      DstBlock		      "Sum2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Constant4"
	      SrcPort		      1
	      DstBlock		      "Switch3"
	      DstPort		      3
	    }
	    Line {
	      Name		      "Phase"
	      Labels		      [0, 0]
	      SrcBlock		      "Relational\nOperator1"
	      SrcPort		      1
	      Points		      [55, 0; 0, 245]
	      DstBlock		      "Switch3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Variation\nSubSystem"
	      SrcPort		      1
	      Points		      [0, -5; 20, 0]
	      Branch {
		Points			[0, 395]
		DstBlock		"Gain4"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Switch2"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "valp_nom3"
	      SrcPort		      1
	      Points		      [10, 0; 0, 20]
	      Branch {
		Points			[0, 60]
		DstBlock		"Relational\nOperator1"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Relational\nOperator"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator1"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Ton"
	      Labels		      [0, 0]
	      SrcBlock		      "Step"
	      SrcPort		      1
	      DstBlock		      "Sum4"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Toff"
	      Labels		      [0, 0]
	      SrcBlock		      "Step1"
	      SrcPort		      1
	      DstBlock		      "Sum4"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Gain4"
	      SrcPort		      1
	      DstBlock		      "Switch3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant6"
	      SrcPort		      1
	      DstBlock		      "Relational\nOperator3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      Points		      [105, 0; 0, -65]
	      Branch {
		Points			[0, -20]
		DstBlock		"Switch1"
		DstPort			3
	      }
	      Branch {
		Points			[120, 0]
		Branch {
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
		Branch {
		  Points		  [0, -10]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Timer"
	      SrcPort		      1
	      Points		      [85, 0; 0, 40]
	      DstBlock		      "Switch1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      DstBlock		      "Switch5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "SinglePhase"
	      SrcPort		      1
	      Points		      [35, 0; 0, 100]
	      DstBlock		      "Switch5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Switch5"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      Points		      [40, 0; 0, 20]
	      Branch {
		Points			[0, 40]
		Branch {
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 10]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 10]
		    DstBlock		    "Mux"
		    DstPort		    3
		  }
		}
	      }
	      Branch {
		DstBlock		"Mux1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Switch5"
	      SrcPort		      1
	      Points		      [45, 0; 0, 90; -395, 0; 0, 70]
	      DstBlock		      "Magnitude-Angle\nto Complex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Relational\nOperator3"
	      SrcPort		      1
	      DstBlock		      "Logical\nOperator1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Logical\nOperator1"
	      SrcPort		      1
	      DstBlock		      "Switch1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Sum5"
	      SrcPort		      1
	      DstBlock		      "abc"
	      DstPort		      1
	    }
	    Annotation {
	      Name		      "Programmable 3-phase Phasor Voltage Sou"
"rce "
	      Position		      [204, 44]
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Pierre Giroux, Gilbert Sybille\nPower S"
"ystem Laboratory, IREQ\nHydro-Quebec"
	      Position		      [165, 77]
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "3_phase_source"
	  Ports			  [0, 1]
	  Position		  [250, 122, 300, 188]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskPromptString	  "Amplitude|Phase (of phase A)|Frequency"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVarAliasString	  ",,"
	  MaskVariables		  "A=@1;P=@2;F=@3;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|0|60"
	  MaskTabNameString	  ",,"
	  System {
	    Name		    "3_phase_source"
	    Location		    [246, 395, 461, 704]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [25, 70, 55, 100]
	      BackgroundColor	      "cyan"
	      Value		      "complex(A*cos(P*pi/180),A*sin(P*pi/180)"
")"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      Position		      [25, 165, 55, 195]
	      BackgroundColor	      "cyan"
	      Value		      "complex(A*cos((P-120)*pi/180),A*sin((P-"
"120)*pi/180))"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      Position		      [25, 255, 55, 285]
	      BackgroundColor	      "cyan"
	      Value		      "complex(A*cos((P+120)*pi/180),A*sin((P+"
"120)*pi/180))"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [6, 1]
	      Position		      [130, 97, 135, 188]
	      BackgroundColor	      "cyan"
	      ShowName		      off
	      Inputs		      "6"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Sin
	      Name		      "Sine Wave"
	      Ports		      [0, 1]
	      Position		      [25, 28, 55, 52]
	      BackgroundColor	      "cyan"
	      SineType		      "Time based"
	      Amplitude		      "A"
	      Frequency		      "2*pi*F"
	      Phase		      "P*pi/180"
	      SampleTime	      "0"
	    }
	    Block {
	      BlockType		      Sin
	      Name		      "Sine Wave1"
	      Ports		      [0, 1]
	      Position		      [25, 123, 55, 147]
	      BackgroundColor	      "cyan"
	      SineType		      "Time based"
	      Amplitude		      "A"
	      Frequency		      "2*pi*F"
	      Phase		      "(P-120)*pi/180"
	      SampleTime	      "0"
	    }
	    Block {
	      BlockType		      Sin
	      Name		      "Sine Wave2"
	      Ports		      [0, 1]
	      Position		      [25, 213, 55, 237]
	      BackgroundColor	      "cyan"
	      SineType		      "Time based"
	      Amplitude		      "A"
	      Frequency		      "2*pi*F"
	      Phase		      "(P+120)*pi/180"
	      SampleTime	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Out1"
	      Position		      [160, 138, 190, 152]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Out1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      Points		      [55, 0]
	      DstBlock		      "Mux"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "Sine Wave2"
	      SrcPort		      1
	      Points		      [40, 0; 0, -60]
	      DstBlock		      "Mux"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      Points		      [25, 0; 0, -30]
	      DstBlock		      "Mux"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "Sine Wave1"
	      SrcPort		      1
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Sine Wave"
	      SrcPort		      1
	      Points		      [40, 0; 0, 65]
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [25, 0; 0, 35]
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Dynamic_Load"
	  Ports			  [2, 2]
	  Position		  [370, 19, 415, 86]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "3-Phase Dynamic Load - Phasor Type"
	  MaskDescription	  "This block implements a three-phase, three-"
"wire dynamic load whose active  power P and reactive power Q vary as function"
" of positive-sequence voltage. Negative- and zero-sequence currents are not s"
"imulated. The three load currents are therefore balanced, even under unbalanc"
"ed load voltage conditions.\n\n  If V>Vmin, P and Q vary as follows:\n       "
"P=Po*(V/Vo)^np\n       Q=Qo*(V/Vo)^nq    \nwhere:   \nPo, Qo : active and rea"
"ctive powers at specified voltage Vo\n  V : positive-sequence voltage\n  Vmin"
" : minimum voltage below which load impedance\n             is kept constant "
"(np=nq=2)\nnp,nq : exponents (usually comprised between 1 and 3)\n           "
"   controlling the nature of the load. \nFor example, specify  np=nq=1 for a "
"constant current load; np=nq=2  for a  constant impedance load.\n\nCheck 'Ext"
"ernal control of PQ'  to control power from a vectorized signal  [P Q] connec"
"ted to input  4. \nThe m output returns a vector of 3 signals [V(pu) P(W) Q ("
"var)]."
	  MaskPromptString	  "Nominal L-L voltage and freqency  [Vn(Vrms)"
" fn(Hz)]:|Active & reactive power at initial voltage [Po(W) Qo(var)]:|Initial"
" positive-sequence voltage Vo [Mag(pu) Phase (deg.)]:|External control of PQ|"
"Parameters [ np  nq ]:|Time constants [Tp1 Tp2 Tq   edit     Tpq         |Min"
"imum voltage Vmin (pu):|Reserved"
	  MaskStyleString	  "edit,edit,edit,checkbox,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "|||parametres=get_param(gcb,'MaskValues');p"
"4=parametres{4};if strcmp(p4,'on');param5='off';param6='off';param7='off';els"
"e ;param5='on';param6='on';param7='on';end;visible={'on','on','on','on',param"
"5,param6,param7,'off'};set_param(gcb,'MaskVisibilities',visible)||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,off"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,"
	  MaskVariables		  "Vfnom=@1;PQ_0=@2;V0=@3;PQext=@4;n=@5;Tpq=@6"
";Vmin=@7;Reserved=@8;"
	  MaskInitialization	  "Vnom = Vfnom(1) ; fnom=Vfnom(2);\nP0 = PQ_0"
"(1) ;  Q0 = PQ_0(2) ;\nMag_V0=V0(1); Pha_V0=V0(2);\nV0_d=Mag_V0*cos(Pha_V0*pi"
"/180);\nV0_q=Mag_V0*sin(Pha_V0*pi/180);\nnp = n(1) ; nq = n(2) ;\nTp1=Tpq(1);"
" Tp2=Tpq(2); Tq1=Tpq(3); Tq2=Tpq(4);\nVbase=Vnom/sqrt(3)*sqrt(2);\n% initial "
"value of positive-sequence current I1\na=exp(j*2*pi/3);\nI1_init=(P0-j*Q0)/(("
"V0_d-j*V0_q)*Vnom)/sqrt(3)*sqrt(2);\nMag_ia=abs(I1_init);\nPhase_ia=angle(I1_"
"init)*180/pi;"
	  MaskDisplay		  "\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "[ 500e3 60 ]|[ 50e6 25e6]|[0.9844  -1.41 ]|"
"off|[1  1]|[0  0  0  0]|0.7|0"
	  MaskTabNameString	  ",,,,,,,"
	  System {
	    Name		    "Dynamic_Load"
	    Location		    [451, 377, 1302, 870]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [65, 82, 95, 98]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "PQ"
	      Position		      [120, 222, 150, 238]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      " filter1"
	      Position		      [490, 13, 535, 47]
	      ShowName		      off
	      Denominator	      "[1e-3 1]"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Break \nAlg. Loop I1"
	      Ports		      [1, 1]
	      Position		      [345, 401, 410, 439]
	      Orientation	      "left"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Break \nAlg. Loop I1"
		Location		[451, 377, 896, 621]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  Position		  [365, 78, 395, 92]
		  Orientation		  "left"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  ComplexToRealImag
		  Name			  "Complex to\nReal-Imag"
		  Ports			  [1, 2]
		  Position		  [310, 68, 340, 97]
		  Orientation		  "left"
		  ShowName		  off
		  Output		  "Real and imag"
		}
		Block {
		  BlockType		  RealImagToComplex
		  Name			  "Real-Imag to\nComplex"
		  Ports			  [2, 1]
		  Position		  [80, 53, 110, 82]
		  Orientation		  "left"
		  ShowName		  off
		  Input			  "Real and imag"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "imag"
		  Ports			  [1, 1]
		  Position		  [195, 110, 255, 150]
		  Orientation		  "left"
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "Transfer Function with Initial Outp"
"uts"
		  MaskDescription	  "Vector expressions for numerator, a"
"nd denominator. Coefficients are in descending powers of s."
		  MaskHelp		  "Specify the initial output for the "
"transfer function.  An optimization routine attempts to determine the appropr"
"iate initial states so that the specified initial output is achieved.  For mo"
"re details, see the m-file getxo.m"
		  MaskPromptString	  "Numerator:|Denominator:|Initial out"
"put:|Initial input:"
		  MaskStyleString	  "edit,edit,edit,edit"
		  MaskTunableValueString  "on,on,on,on"
		  MaskCallbackString	  "|||"
		  MaskEnableString	  "on,on,on,on"
		  MaskVisibilityString	  "on,on,on,on"
		  MaskToolTipString	  "on,on,on,on"
		  MaskVarAliasString	  ",,,"
		  MaskVariables		  "N=@1;D=@2;Y0=@3;U0=@4;"
		  MaskInitialization	  "[A,B,C,Dd]=tf2ss(N,D);if (isempty(Y"
"0));[m,n]=size(A);X0=zeros(1,m); end; if (isempty(U0));[m,p]=size(B);U0=zeros"
"(1,p);end;X0=getxo(A,B,C,Dd,U0,Y0,0);\n"
		  MaskDisplay		  "dpoly(N,D,'s')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "[1]|[100e-6  1]|imag(I1_init)|imag("
"I1_init)"
		  MaskTabNameString	  ",,,"
		  System {
		    Name		    "imag"
		    Location		    [664, 99, 884, 187]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    StateSpace
		    Name		    "State Space"
		    Position		    [80, 27, 140, 63]
		    A			    "A"
		    B			    "B"
		    C			    "C"
		    D			    "Dd"
		    X0			    "X0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [165, 38, 195, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "State Space"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "State Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "real"
		  Ports			  [1, 1]
		  Position		  [190, 20, 250, 60]
		  Orientation		  "left"
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "Transfer Function with Initial Outp"
"uts"
		  MaskDescription	  "Vector expressions for numerator, a"
"nd denominator. Coefficients are in descending powers of s."
		  MaskHelp		  "Specify the initial output for the "
"transfer function.  An optimization routine attempts to determine the appropr"
"iate initial states so that the specified initial output is achieved.  For mo"
"re details, see the m-file getxo.m"
		  MaskPromptString	  "Numerator:|Denominator:|Initial out"
"put:|Initial input:"
		  MaskStyleString	  "edit,edit,edit,edit"
		  MaskTunableValueString  "on,on,on,on"
		  MaskCallbackString	  "|||"
		  MaskEnableString	  "on,on,on,on"
		  MaskVisibilityString	  "on,on,on,on"
		  MaskToolTipString	  "on,on,on,on"
		  MaskVarAliasString	  ",,,"
		  MaskVariables		  "N=@1;D=@2;Y0=@3;U0=@4;"
		  MaskInitialization	  "[A,B,C,Dd]=tf2ss(N,D);if (isempty(Y"
"0));[m,n]=size(A);X0=zeros(1,m); end; if (isempty(U0));[m,p]=size(B);U0=zeros"
"(1,p);end;X0=getxo(A,B,C,Dd,U0,Y0,0);\n"
		  MaskDisplay		  "dpoly(N,D,'s')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "[1]|[100e-6  1]|real(I1_init)|real("
"I1_init)"
		  MaskTabNameString	  ",,,"
		  System {
		    Name		    "real"
		    Location		    [664, 99, 884, 187]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    StateSpace
		    Name		    "State Space"
		    Position		    [80, 27, 140, 63]
		    A			    "A"
		    B			    "B"
		    C			    "C"
		    D			    "Dd"
		    X0			    "X0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [165, 38, 195, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "State Space"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "State Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  Position		  [25, 63, 55, 77]
		  Orientation		  "left"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "imag"
		  SrcPort		  1
		  Points		  [-50, 0; 0, -55]
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag"
		  SrcPort		  2
		  Points		  [0, 40]
		  DstBlock		  "imag"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "real"
		  SrcPort		  1
		  Points		  [-55, 0; 0, 20]
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag"
		  SrcPort		  1
		  Points		  [-25, 0; 0, -35]
		  DstBlock		  "real"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Real-Imag to\nComplex"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "Complex to\nReal-Imag"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      ComplexToRealImag
	      Name		      "Complex to\nReal-Imag1"
	      Ports		      [1, 2]
	      Position		      [615, 35, 650, 70]
	      ShowName		      off
	      Output		      "Real and imag"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux3"
	      Ports		      [1, 2]
	      Position		      [185, 211, 190, 244]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "I1 "
	      Ports		      [2, 2]
	      Position		      [350, 74, 435, 136]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"I1 "
		Location		[214, 537, 852, 949]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vab Vbc cmplx"
		  Position		  [25, 113, 55, 127]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "S=P+jQ"
		  Position		  [40, 283, 70, 297]
		  NamePlacement		  "alternate"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "(a^2)/3"
		  Position		  [135, 115, 165, 145]
		  Gain			  "1/3*exp(-j*2*pi/3)"
		}
		Block {
		  BlockType		  ComplexToMagnitudeAngle
		  Name			  "Complex to\nMagnitude-Angle"
		  Ports			  [1, 1]
		  Position		  [355, 90, 385, 120]
		  ShowName		  off
		  Output		  "Magnitude"
		}
		Block {
		  BlockType		  Math
		  Name			  "Conj1"
		  Ports			  [1, 1]
		  Position		  [440, 265, 470, 295]
		  ShowName		  off
		  Operator		  "conj"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [85, 101, 90, 139]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [145, 40, 175, 70]
		  ShowName		  off
		  Gain			  "1/3"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [370, 262, 405, 298]
		  ShowName		  off
		  Inputs		  "/*"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [255, 95, 275, 115]
		  ShowName		  off
		  Inputs		  "+-"
		  Port {
		    PortNumber		    1
		    Name		    "V1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "pu>V"
		  Position		  [295, 200, 325, 230]
		  Orientation		  "down"
		  Gain			  "Vnom*sqrt(3)/sqrt(2)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "|V1|"
		  Position		  [445, 98, 475, 112]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "I1"
		  Position		  [505, 273, 535, 287]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "(a^2)/3"
		  SrcPort		  1
		  Points		  [20, 0; 0, -20]
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "(a^2)/3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [10, 0; 0, 45]
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vab Vbc cmplx"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [20, 0; 0, -55]
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  Name			  "V1"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "Complex to\nMagnitude-Angle"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "pu>V"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Complex to\nMagnitude-Angle"
		  SrcPort		  1
		  DstBlock		  "|V1|"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "S=P+jQ"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Conj1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Conj1"
		  SrcPort		  1
		  DstBlock		  "I1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "pu>V"
		  SrcPort		  1
		  Points		  [0, 35]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Annotation {
		  Name			  "V2= 1/3(Vab -a*Vbc)"
		  Position		  [85, 249]
		  FontSize		  12
		}
		Annotation {
		  Name			  "V1= 1/3(Vab -a^2*Vbc)"
		  Position		  [90, 219]
		  FontSize		  12
		}
		Annotation {
		  Name			  "I1= (S/V1)' "
		  Position		  [395, 335]
		  FontSize		  12
		  FontWeight		  "bold"
		}
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [3, 1]
	      Position		      [680, 22, 685, 68]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "PQ_ext"
	      Position		      [150, 254, 215, 276]
	      ShowName		      off
	      Value		      "PQext"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Phase currents"
	      Ports		      [1, 1]
	      Position		      [215, 390, 295, 450]
	      Orientation	      "left"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Phase currents"
		Location		[66, 98, 703, 390]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "I1"
		  Position		  [35, 123, 65, 137]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [315, 121, 320, 159]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "ia ib"
		    PropagatedSignals	    ", "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "a^2"
		  Position		  [180, 175, 220, 215]
		  Gain			  "exp(-j*2*pi/3)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Ia Ib cmplx"
		  Position		  [440, 133, 470, 147]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  Name			  "ia ib"
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "Ia Ib cmplx"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "I1"
		  SrcPort		  1
		  Points		  [0, 0; 60, 0]
		  Branch {
		    Points		    [0, 65]
		    DstBlock		    "a^2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "a^2"
		  SrcPort		  1
		  Points		  [65, 0; 0, -45]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Annotation {
		  Name			  "Ib= a^2*I1 "
		  Position		  [380, 214]
		}
		Annotation {
		  Name			  "Ia= I1 "
		  Position		  [370, 184]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Power"
	      Ports		      [1, 1]
	      Position		      [490, 67, 550, 113]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Power"
		Location		[20, 37, 1178, 560]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "V1"
		  Position		  [35, 57, 65, 73]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Math
		  Name			  "Math\nFunction"
		  Ports			  [1, 1]
		  Position		  [235, 245, 265, 275]
		  ShowName		  off
		  Operator		  "square"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [225, 101, 230, 139]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [225, 166, 230, 204]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Gain
		  Name			  "P0/ (Vo^np)"
		  Position		  [635, 120, 665, 150]
		  Gain			  "P0/(Mag_V0^np)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Q0/(Vo^nq)"
		  Position		  [635, 185, 665, 215]
		  Gain			  "Q0/(Mag_V0^nq)"
		}
		Block {
		  BlockType		  RealImagToComplex
		  Name			  "Real-Imag to\nComplex"
		  Ports			  [2, 1]
		  Position		  [840, 158, 870, 187]
		  ShowName		  off
		  Input			  "Real and imag"
		  Port {
		    PortNumber		    1
		    Name		    "S_dyn=  P + j Q"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch3"
		  Position		  [505, 115, 535, 155]
		  ShowName		  off
		  Threshold		  "Vmin"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch4"
		  Position		  [510, 180, 540, 220]
		  ShowName		  off
		  Threshold		  "Vmin"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "TF_P"
		  Ports			  [1, 1]
		  Position		  [725, 112, 775, 158]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "Transfer function"
		  MaskDescription	  "This block implements a continuous "
"transfer function:\n\n         1+T1s\nH(s)= ------\n         1+T2s\n\nStates "
"are initialized according to  initial input and output value so that simulati"
"on starts in steady state."
		  MaskPromptString	  "Time constant T1 (s):|Time constant"
" T2 (s):|Initial input and output :"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVarAliasString	  ",,"
		  MaskVariables		  "T1=@1;T2=@2;V_Init=@3;"
		  MaskInitialization	  "numc=[T1 1];\ndenc=[T2 1];\n[Ac,Bc,"
"Cc,Dc]=tf2ss(numc,denc);\n\n% Compute Initial states\nI=eye(size(Ac));\nx0c=i"
"nv(-Ac)*Bc*V_Init;\n\n"
		  MaskDisplay		  "disp('1+T1s\\n---\\n1+T2s')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "Tp1|Tp2|P0"
		  MaskTabNameString	  ",,"
		  System {
		    Name		    "TF_P"
		    Location		    [685, 239, 905, 325]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    StateSpace
		    Name		    "State-Space"
		    Position		    [80, 28, 140, 62]
		    A			    "Ac"
		    B			    "Bc"
		    C			    "Cc"
		    D			    "Dc"
		    X0			    "x0c"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [165, 38, 195, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "State-Space"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "TF_Q"
		  Ports			  [1, 1]
		  Position		  [725, 177, 775, 223]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "Transfer function"
		  MaskDescription	  "This block implements a continuous "
"transfer function:\n\n         1+T1s\nH(s)= ------\n         1+T2s\n\nStates "
"are initialized according to  initial input and output value so that simulati"
"on starts in steady state."
		  MaskPromptString	  "Time constant T1 (s):|Time constant"
" T2 (s):|Initial input and output :"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVarAliasString	  ",,"
		  MaskVariables		  "T1=@1;T2=@2;V_Init=@3;"
		  MaskInitialization	  "numc=[T1 1];\ndenc=[T2 1];\n[Ac,Bc,"
"Cc,Dc]=tf2ss(numc,denc);\n\n% Compute Initial states\nI=eye(size(Ac));\nx0c=i"
"nv(-Ac)*Bc*V_Init;\n\n"
		  MaskDisplay		  "disp('1+T1s\\n---\\n1+T2s')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "Tq1|Tq2|Q0"
		  MaskTabNameString	  ",,"
		  System {
		    Name		    "TF_Q"
		    Location		    [685, 239, 905, 325]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    StateSpace
		    Name		    "State-Space"
		    Position		    [80, 28, 140, 62]
		    A			    "Ac"
		    B			    "Bc"
		    C			    "Cc"
		    D			    "Dc"
		    X0			    "x0c"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [165, 38, 195, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "State-Space"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "State-Space"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Fcn
		  Name			  "V^nq"
		  Position		  [250, 174, 330, 196]
		  Expr			  "u[1]^u[2]"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "V^nq ,"
		  Position		  [250, 109, 330, 131]
		  Expr			  "u[1]^u[2]"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Vmin^(np-2)"
		  Position		  [350, 245, 380, 275]
		  Gain			  "Vmin^(np-2)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Vmin^(nq-2)"
		  Position		  [350, 300, 380, 330]
		  Gain			  "Vmin^(nq-2)"
		}
		Block {
		  BlockType		  Constant
		  Name			  "np"
		  Position		  [80, 120, 125, 140]
		  Value			  "np"
		}
		Block {
		  BlockType		  Constant
		  Name			  "nq"
		  Position		  [85, 185, 130, 205]
		  Value			  "nq"
		}
		Block {
		  BlockType		  Outport
		  Name			  "P+jQ"
		  Position		  [960, 168, 990, 182]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Switch4"
		  SrcPort		  1
		  DstBlock		  "Q0/(Vo^nq)"
		  DstPort		  1
		}
		Line {
		  Name			  "S_dyn=  P + j Q"
		  Labels		  [0, 0]
		  SrcBlock		  "Real-Imag to\nComplex"
		  SrcPort		  1
		  DstBlock		  "P+jQ"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "P0/ (Vo^np)"
		  SrcPort		  1
		  DstBlock		  "TF_P"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Q0/(Vo^nq)"
		  SrcPort		  1
		  DstBlock		  "TF_Q"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch3"
		  SrcPort		  1
		  DstBlock		  "P0/ (Vo^np)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "np"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "V^nq ,"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "nq"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "V^nq"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "V1"
		  SrcPort		  1
		  Points		  [0, 0; 115, 0]
		  Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 85]
		    DstBlock		    "Math\nFunction"
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    Points		    [245, 0; 0, 70]
		    Branch {
		    DstBlock		    "Switch3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Switch4"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "V^nq"
		  SrcPort		  1
		  DstBlock		  "Switch4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Math\nFunction"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    DstBlock		    "Vmin^(np-2)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 55]
		    DstBlock		    "Vmin^(nq-2)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Vmin^(np-2)"
		  SrcPort		  1
		  Points		  [90, 0; 0, -110]
		  DstBlock		  "Switch3"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "V^nq ,"
		  SrcPort		  1
		  DstBlock		  "Switch3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vmin^(nq-2)"
		  SrcPort		  1
		  Points		  [110, 0]
		  DstBlock		  "Switch4"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "TF_P"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "TF_Q"
		  SrcPort		  1
		  Points		  [45, 0]
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  2
		}
		Annotation {
		  Name			  "V>Vmin :\n\n   P=Po*(V/Vo)^np\n   Q"
"=Qo*(V/Vo)^np\n"
		  Position		  [123, 404]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "V<Vmin\nConstant impedance load :\n"
"\n P=Po*kp*V^2\nQ=Qo*kq*V^2\n "
		  Position		  [333, 404]
		  FontSize		  12
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "kp=Vmin^(np-2)/Vo^np\nkq=Vmin^(nq-2"
")/Vo^nq"
		  Position		  [332, 449]
		}
	      }
	    }
	    Block {
	      BlockType		      RealImagToComplex
	      Name		      "Real-Imag to\nComplex"
	      Ports		      [2, 1]
	      Position		      [220, 213, 250, 242]
	      ShowName		      off
	      Input		      "Real and imag"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch1"
	      Position		      [290, 245, 320, 285]
	      ShowName		      off
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "V> pu"
	      Position		      [230, 75, 260, 105]
	      Gain		      "1/Vbase"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [55, 412, 85, 428]
	      Orientation	      "left"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [725, 38, 755, 52]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Line {
	      SrcBlock		      "Phase currents"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Power"
	      SrcPort		      1
	      Points		      [10, 0; 0, 235; -330, 0; 0, -45]
	      DstBlock		      "Switch1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Break \nAlg. Loop I1"
	      SrcPort		      1
	      DstBlock		      "Phase currents"
	      DstPort		      1
	    }
	    Line {
	      Labels		      [1, 0]
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "V> pu"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "I1 "
	      SrcPort		      1
	      Points		      [-5, 0; 25, 0]
	      Branch {
		Points			[0, -60]
		DstBlock		" filter1"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Power"
		DstPort			1
	      }
	    }
	    Line {
	      Labels		      [1, 0]
	      SrcBlock		      "V> pu"
	      SrcPort		      1
	      DstBlock		      "I1 "
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "I1 "
	      SrcPort		      2
	      Points		      [15, 0; 0, 300]
	      DstBlock		      "Break \nAlg. Loop I1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      " filter1"
	      SrcPort		      1
	      DstBlock		      "Mux1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Complex to\nReal-Imag1"
	      SrcPort		      1
	      DstBlock		      "Mux1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Complex to\nReal-Imag1"
	      SrcPort		      2
	      DstBlock		      "Mux1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "PQ_ext"
	      SrcPort		      1
	      DstBlock		      "Switch1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Switch1"
	      SrcPort		      1
	      Points		      [0, 0; 10, 0]
	      Branch {
		DstBlock		"I1 "
		DstPort			2
	      }
	      Branch {
		Points			[265, 0]
		DstBlock		"Complex to\nReal-Imag1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Real-Imag to\nComplex"
	      SrcPort		      1
	      Points		      [5, 0; 0, 20]
	      DstBlock		      "Switch1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux3"
	      SrcPort		      1
	      DstBlock		      "Real-Imag to\nComplex"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Demux3"
	      SrcPort		      2
	      DstBlock		      "Real-Imag to\nComplex"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "PQ"
	      SrcPort		      1
	      DstBlock		      "Demux3"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Impedance Measurement"
	  Ports			  [1, 1]
	  Position		  [490, 17, 530, 83]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Impedance Measurement model"
	  MaskDescription	  "Simulink model for the Impedance Measuremen"
"t block. The model  injects a null current in the circuit."
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Impedance Measurement"
	    Location		    [33, 658, 300, 760]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [20, 40, 40, 60]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [125, 35, 155, 65]
	      Value		      "complex(0,0)"
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [75, 40, 95, 60]
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [235, 40, 255, 60]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "asynchronous_machine"
	  Ports			  [2, 2]
	  Position		  [255, 19, 300, 86]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Asynchronous Machine Model"
	  MaskDescription	  "Implements a three-phase asynchronous machi"
"ne (wound rotor or squirrel cage) modelled in the dq rotor reference frame. S"
"tator and rotor windings are connected in wye to an internal neutral point. P"
"ress help for inputs and outputs description.\n"
	  MaskHelp		  "First 3 inputs: Stator terminals = phases a"
", b and c; 4th input: Simulink signal = Mechanical torque applied to the shaf"
"t (p.u., >0 for motor mode, <0 for generator mode); First 3 outputs: Rotor te"
"rminals = phases a, b and c; 4th output: Simulink measurement output = vector"
" (20x1) containing the following (all currents flowing into the machine): [1-"
"3] : Rotor line currents ira, irb and irc; [4-5] : Rotor currents iqr and idr"
"; [6-7] : Rotor fluxes phiqr and  phidr; [8-9] : Rotor voltages vqr and vdr; "
"[10-12] : Stator line currents isa, isb, isc; [13-14] : Stator currents iqs a"
"nd ids; [15-16] : Stator fluxes phiqs and  phids; [17-18] : Stator voltages v"
"qs and vds; [19] : Rotor speed wm; [20 ]: Electromagnetic torque Te. Units of"
" output measurement depend on checkbox in block's dialog box."
	  MaskPromptString	  "Rotor type:|Reference frame:|Nom. power,L-L"
" volt. and freq. [ Pn(VA),Vn(Vrms),fn(Hz) ]:|Stator [ Rs,Lls (p.u.) ]:|Rotor "
"[ Rr',Llr' (p.u.) ]:|Magnetizing inductance Lm (p.u.):|Inertia constant,frict"
"ion factor and pairs of poles [ H(s)  F(p.u.)  p() ]:|Initial conditions [ s("
")  th(deg)   isa,isb,isc(p.u.)   pha,phb,phc(deg) ]:|I/O units (check for S.I"
"., otherwise p.u.)"
	  MaskStyleString	  "popup(Wound|Squirrel-cage),popup(Rotor|Stat"
"ionary|Synchronous),edit,edit,edit,edit,edit,edit,checkbox"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "||||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,"
	  MaskVariables		  "rotType=@1;ctrl=@2;nom=@3;sta=@4;rot=@5;Lm="
"@6;mec=@7;ini=@8;iounits=@9;"
	  MaskInitialization	  "[Rs,Lls,Rr,Llr,H,F,p,Laq,Lad,web,Vb,Vb2,ib,"
"ib2,phib2,Nb2,Tb2,phisqo,phisdo,phirqo,phirdo,wmo,tho] = powericonV2('Asynchr"
"onous Machine Model',nom, sta, rot, Lm, mec,ini,iounits);one_third=1/3; sqrt3"
"_3=sqrt(3)/3;sqrt3=sqrt(3);\nswitch rotType\n    case 1, selWidth=6; elements"
"1=3:6; elements2=1:4;\n    case 2, selWidth=4; elements1=1:4; elements2=3:4;"
"\nend"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "Squirrel-cage|Rotor|[1678500 2400 60]|[0.00"
"845078125 0.0658562609861519]|[0.0064109375 0.0658562609861519]|3.79984797902"
"399|[0.676001751311075 0 2]|[1 0 0 0 0 0 0 0]|on"
	  MaskTabNameString	  ",,,,,,,,"
	  System {
	    Name		    "asynchronous_machine"
	    Location		    [120, 87, 1110, 669]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [20, 148, 50, 162]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "Tm"
	      Position		      [25, 267, 60, 283]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1_Vb"
	      Position		      [80, 136, 110, 174]
	      ShowName		      off
	      Gain		      "1/Vb"
	    }
	    Block {
	      BlockType		      ComplexToMagnitudeAngle
	      Name		      "Complex to\nMagnitude-Angle"
	      Ports		      [1, 1]
	      Position		      [680, 142, 705, 168]
	      ShowName		      off
	      Output		      "Magnitude"
	      Port {
		PortNumber		1
		Name			"irabc"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      ComplexToMagnitudeAngle
	      Name		      "Complex to\nMagnitude-Angle1"
	      Ports		      [1, 1]
	      Position		      [690, 262, 715, 288]
	      ShowName		      off
	      Output		      "Magnitude"
	      Port {
		PortNumber		1
		Name			"isabc"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Gain"
	      Position		      [860, 259, 885, 291]
	      Gain		      "[ib2*ones(5,1);phib2;phib2;Vb2;Vb2;ib2*"
"ones(5,1);phib2;phib2;Vb2;Vb2;Nb2;Tb2;1]"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Mechanical"
	      Ports		      [3, 1]
	      Position		      [100, 259, 230, 341]
	      DropShadow	      on
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		1
		Name			"wr, Te, thetam"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"Mechanical"
		Location		[109, 276, 961, 575]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Tm"
		  Position		  [15, 28, 45, 42]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phiqds1,iqds1"
		  Position		  [40, 123, 70, 137]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phiqds2,iqds2"
		  Position		  [35, 218, 65, 232]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1\\p"
		  Position		  [670, 130, 710, 160]
		  ShowName		  off
		  Gain			  "1/p"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_2H"
		  Position		  [470, 28, 505, 62]
		  Gain			  "1/(2*H)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Tb2"
		  Position		  [165, 14, 205, 56]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/Tb2"
		  Port {
		    PortNumber		    1
		    Name		    "Tm"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "F"
		  Position		  [500, 73, 525, 97]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "F"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [525, 35, 545, 55]
		  ShowName		  off
		  InitialCondition	  "wmo"
		  Port {
		    PortNumber		    1
		    Name		    "w (pu)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  Ports			  [1, 1]
		  Position		  [625, 35, 645, 55]
		  ShowName		  off
		  InitialCondition	  "tho"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  Ports			  [3, 1]
		  Position		  [735, 72, 740, 158]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [1, 1]
		  Position		  [195, 104, 220, 126]
		  ShowName		  off
		  Inputs		  "1"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [1, 1]
		  Position		  [195, 134, 220, 156]
		  ShowName		  off
		  Inputs		  "1"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product3"
		  Ports			  [1, 1]
		  Position		  [200, 199, 225, 221]
		  ShowName		  off
		  Inputs		  "1"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product4"
		  Ports			  [1, 1]
		  Position		  [200, 229, 225, 251]
		  ShowName		  off
		  Inputs		  "1"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  Ports			  [1, 1]
		  Position		  [125, 103, 170, 127]
		  ShowName		  off
		  Elements		  "[1 4]"
		  InputPortWidth	  "4"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector1"
		  Ports			  [1, 1]
		  Position		  [125, 133, 170, 157]
		  ShowName		  off
		  Elements		  "[2 3]"
		  InputPortWidth	  "4"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector2"
		  Ports			  [1, 1]
		  Position		  [130, 198, 175, 222]
		  ShowName		  off
		  Elements		  "[1 4]"
		  InputPortWidth	  "4"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector3"
		  Ports			  [1, 1]
		  Position		  [130, 228, 175, 252]
		  ShowName		  off
		  Elements		  "[2 3]"
		  InputPortWidth	  "4"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [430, 28, 450, 62]
		  ShowName		  off
		  Inputs		  "-+-"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [240, 105, 260, 125]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|-+"
		  Port {
		    PortNumber		    1
		    Name		    "Pos.seq.Torque"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [2, 1]
		  Position		  [245, 200, 265, 220]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|-+"
		  Port {
		    PortNumber		    1
		    Name		    "Neg. seq. Torque"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [350, 105, 370, 125]
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web"
		  Position		  [580, 24, 610, 66]
		  ShowName		  off
		  Gain			  "web"
		}
		Block {
		  BlockType		  Outport
		  Name			  "wr,Te,thr"
		  Position		  [800, 108, 830, 122]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Selector1"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phiqds1,iqds1"
		  SrcPort		  1
		  Points		  [25, 0; 5, 0]
		  Branch {
		    Points		    [0, 15]
		    DstBlock		    "Selector1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -15]
		    DstBlock		    "Selector"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "wr,Te,thr"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tm"
		  SrcPort		  1
		  DstBlock		  "1_Tb2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "1_2H"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_2H"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  Name			  "w (pu)"
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, 40]
		    Branch {
		    DstBlock		    "F"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "web"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "F"
		  SrcPort		  1
		  Points		  [-80, 0]
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  Name			  "Tm"
		  Labels		  [-1, 1]
		  SrcBlock		  "1_Tb2"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "web"
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1\\p"
		  SrcPort		  1
		  DstBlock		  "Mux4"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "1\\p"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Selector2"
		  SrcPort		  1
		  DstBlock		  "Product3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Selector3"
		  SrcPort		  1
		  DstBlock		  "Product4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phiqds2,iqds2"
		  SrcPort		  1
		  Points		  [35, 0; 5, 0]
		  Branch {
		    Points		    [0, -15]
		    DstBlock		    "Selector2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 15]
		    DstBlock		    "Selector3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product4"
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product3"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  Name			  "Pos.seq.Torque"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, -70]
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Mux4"
		    DstPort		    2
		  }
		}
		Line {
		  Name			  "Neg. seq. Torque"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [90, 0]
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux3"
	      Ports		      [9, 1]
	      Position		      [770, 141, 775, 409]
	      ShowName		      off
	      Inputs		      "[3,2,2,2,3,2,2,2,3]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Negative Sequence\nModel"
	      Ports		      [2, 3]
	      Position		      [395, 401, 495, 489]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Negative Sequence\nModel"
		Location		[8, 43, 960, 524]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vqds2"
		  Position		  [15, 23, 45, 37]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "s2"
		  Position		  [15, 198, 45, 212]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "-pi/2 \nphase shift"
		  Position		  [660, 378, 695, 412]
		  Gain			  "exp(-j*pi/2)"
		  Port {
		    PortNumber		    1
		    Name		    "Phi2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  ComplexToRealImag
		  Name			  "Complex to\nReal-Imag"
		  Ports			  [1, 2]
		  Position		  [740, 378, 770, 407]
		  ShowName		  off
		  Output		  "Real and imag"
		  Port {
		    PortNumber		    1
		    Name		    "Phids2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  Port {
		    PortNumber		    2
		    Name		    "Phiqs2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [135, 306, 140, 344]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [550, 34, 555, 81]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Equivalent R2 L2"
		  Ports			  [1, 3]
		  Position		  [80, 168, 160, 242]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Equivalent R2 L2"
		    Location		    [63, 265, 759, 484]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "s2"
		    Position		    [15, 53, 45, 67]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    ComplexToRealImag
		    Name		    "Complex to\nReal-Imag"
		    Ports		    [1, 2]
		    Position		    [480, 73, 510, 102]
		    ShowName		    off
		    Output		    "Real and imag"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    Position		    [105, 114, 145, 136]
		    ShowName		    off
		    Value		    "j*Lm"
		    Port {
		    PortNumber		    1
		    Name		    "Zm"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant5"
		    Position		    [335, 129, 375, 151]
		    ShowName		    off
		    Value		    "Rs+j*Lls"
		    Port {
		    PortNumber		    1
		    Name		    "Zs"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [575, 137, 605, 168]
		    ShowName		    off
		    Inputs		    "*/"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [220, 52, 250, 83]
		    ShowName		    off
		    Inputs		    "**"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "Zr*Zm"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [320, 62, 350, 93]
		    ShowName		    off
		    Inputs		    "*/"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "Zr//Zm"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product4"
		    Ports		    [2, 1]
		    Position		    [325, 167, 355, 198]
		    ShowName		    off
		    Inputs		    "/*"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [225, 101, 245, 134]
		    ShowName		    off
		    Port {
		    PortNumber		    1
		    Name		    "Zr+Zm"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [415, 71, 435, 104]
		    ShowName		    off
		    Port {
		    PortNumber		    1
		    Name		    "Z2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Zr"
		    Ports		    [1, 1]
		    Position		    [100, 46, 145, 74]
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    Port {
		    PortNumber		    1
		    Name		    "Zr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    System {
		    Name		    "Zr"
		    Location		    [566, 255, 836, 395]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "s"
		    Position		    [60, 48, 90, 62]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    Position		    [15, 26, 50, 54]
		    ShowName		    off
		    Value		    "Rr"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant4"
		    Position		    [100, 86, 135, 114]
		    ShowName		    off
		    Value		    "j*Llr"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [115, 32, 145, 63]
		    ShowName		    off
		    Inputs		    "*/"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [170, 40, 190, 75]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Zr"
		    Position		    [215, 53, 245, 67]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    Points		    [0, 0]
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "s"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "Zr"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "L2_pu"
		    Position		    [560, 88, 590, 102]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "R2/L2_pu"
		    Position		    [630, 148, 660, 162]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Zm/(Zr+Zm)"
		    Position		    [460, 178, 490, 192]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Product4"
		    SrcPort		    1
		    DstBlock		    "Zm/(Zr+Zm)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "R2/L2_pu"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Complex to\nReal-Imag"
		    SrcPort		    1
		    Points		    [5, 0; 0, 65]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Complex to\nReal-Imag"
		    SrcPort		    2
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "L2_pu"
		    DstPort		    1
		    }
		    }
		    Line {
		    Name		    "Z2"
		    Labels		    [0, 0]
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "Complex to\nReal-Imag"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "s2"
		    SrcPort		    1
		    DstBlock		    "Zr"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Zr+Zm"
		    Labels		    [0, 0]
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Product4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    }
		    Line {
		    Name		    "Zs"
		    Labels		    [0, 0]
		    SrcBlock		    "Constant5"
		    SrcPort		    1
		    Points		    [15, 0; 0, -45]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    Name		    "Zr//Zm"
		    Labels		    [0, 0]
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Zm"
		    Labels		    [0, 0]
		    SrcBlock		    "Constant4"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "Product4"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    }
		    Line {
		    Name		    "Zr"
		    Labels		    [0, 0]
		    SrcBlock		    "Zr"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    Points		    [0, 50]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    }
		    Line {
		    Name		    "Zr*Zm"
		    Labels		    [0, 0]
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [760, 168, 790, 202]
		  ShowName		  off
		  Gain			  "-1"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  Position		  [620, 245, 660, 275]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "Rs"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  Position		  [415, 222, 480, 258]
		  Orientation		  "left"
		  ShowName		  off
		  Gain			  "[1 -1]"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain4"
		  Position		  [405, 44, 450, 76]
		  ShowName		  off
		  Gain			  "web"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [465, 45, 495, 75]
		  InitialCondition	  "[0 0]"
		  Port {
		    PortNumber		    1
		    Name		    "Iqds2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [3, 1]
		  Position		  [845, 370, 850, 440]
		  ShowName		  off
		  Inputs		  "[1 1 2]"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [225, 180, 250, 215]
		  ShowName		  off
		  Inputs		  "**"
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "Iqd2*R2/L2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [220, 21, 245, 59]
		  ShowName		  off
		  Inputs		  "*/"
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "Vqd2/L2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product3"
		  Ports			  [2, 1]
		  Position		  [715, 165, 740, 200]
		  ShowName		  off
		  Inputs		  "**"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  RealImagToComplex
		  Name			  "Real-Imag to\nComplex"
		  Ports			  [2, 1]
		  Position		  [175, 308, 205, 337]
		  ShowName		  off
		  Input			  "Real and imag"
		}
		Block {
		  BlockType		  RealImagToComplex
		  Name			  "Real-Imag to\nComplex1"
		  Ports			  [2, 1]
		  Position		  [595, 43, 625, 72]
		  ShowName		  off
		  Input			  "Real and imag"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector1"
		  Ports			  [1, 1]
		  Position		  [330, 221, 370, 259]
		  Orientation		  "left"
		  ShowName		  off
		  Elements		  "[2 1]"
		  InputPortWidth	  "2"
		  Port {
		    PortNumber		    1
		    Name		    "[-id2 iq2]"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [360, 33, 385, 87]
		  ShowName		  off
		  Inputs		  "+-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [619, 340, 646, 360]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Inputs		  "+-"
		  Port {
		    PortNumber		    1
		    Name		    "Vm2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "I2s"
		  Position		  [800, 53, 830, 67]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "I2r"
		  Position		  [810, 178, 840, 192]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Phiqds2_Iqds2"
		  Position		  [880, 398, 910, 412]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Real-Imag to\nComplex1"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "I2s"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 115]
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Gain2"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [15, 0; 0, -20]
		  DstBlock		  "Real-Imag to\nComplex1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [0, 20]
		  DstBlock		  "Real-Imag to\nComplex1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "I2r"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product3"
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Equivalent R2 L2"
		  SrcPort		  3
		  Points		  [20, 0; 0, 60; 510, 0; 0, -100]
		  DstBlock		  "Product3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Equivalent R2 L2"
		  SrcPort		  1
		  Points		  [15, 0; 0, -130]
		  DstBlock		  "Product2"
		  DstPort		  2
		}
		Line {
		  Name			  "Iqd2*R2/L2"
		  Labels		  [-1, 1]
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [25, 0; 0, -140]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Equivalent R2 L2"
		  SrcPort		  2
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "s2"
		  SrcPort		  1
		  DstBlock		  "Equivalent R2 L2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain4"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Gain4"
		  DstPort		  1
		}
		Line {
		  Name			  "Vqd2/L2"
		  Labels		  [-1, 1]
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  Name			  "Iqds2"
		  Labels		  [0, 0]
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "Demux1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 100]
		    Branch {
		    Labels		    [1, 1]
		    Points		    [-305, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    DstBlock		    "Gain3"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [-1, 1]
		    Points		    [0, 190]
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    }
		  }
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  DstBlock		  "Selector1"
		  DstPort		  1
		}
		Line {
		  Name			  "[-id2 iq2]"
		  Labels		  [3, 0]
		  SrcBlock		  "Selector1"
		  SrcPort		  1
		  Points		  [-20, 0; 0, -160]
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Vqds2"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Product2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 295]
		    DstBlock		    "Demux"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [5, 0; 0, 15]
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [10, 0; 0, -20]
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  Name			  "Vm2"
		  Labels		  [-1, 0]
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [0, 30]
		  DstBlock		  "-pi/2 \nphase shift"
		  DstPort		  1
		}
		Line {
		  Name			  "Phi2"
		  Labels		  [0, 0]
		  SrcBlock		  "-pi/2 \nphase shift"
		  SrcPort		  1
		  DstBlock		  "Complex to\nReal-Imag"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Real-Imag to\nComplex"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  Name			  "Phiqs2"
		  Labels		  [-1, 1]
		  SrcBlock		  "Complex to\nReal-Imag"
		  SrcPort		  2
		  Points		  [10, 0; 0, -20]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Phiqds2_Iqds2"
		  DstPort		  1
		}
		Line {
		  Name			  "Phids2"
		  Labels		  [-1, 1]
		  SrcBlock		  "Complex to\nReal-Imag"
		  SrcPort		  1
		  Points		  [0, 20]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Annotation {
		  Name			  "Implementation of\nV=RI+L.dI/dt  ->"
" dI/dt=-R/L*I  - V\n\nIn dq components:\ndid/dt= w*(-r/l*id  +iq +vd/l)\ndiq/"
"dt= w*(-r/l*iq -id + vq/l)\nwhere r, l, i ,v are in pu"
		  Position		  [265, 404]
		  HorizontalAlignment	  "left"
		  ForegroundColor	  "red"
		  FontSize		  12
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Positive Sequence\nModel"
	      Ports		      [3, 5]
	      Position		      [395, 45, 490, 155]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		1
		Name			"iqdr1"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		2
		Name			"phiqdr1"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		3
		Name			"phiqds1"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		4
		Name			"iqds1"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"Positive Sequence\nModel"
		Location		[262, 105, 709, 515]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vqdr1"
		  Position		  [15, 33, 45, 47]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "w-wr"
		  Position		  [60, 58, 90, 72]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vqds1"
		  Position		  [15, 278, 45, 292]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant7"
		  Position		  [75, 301, 100, 319]
		  ShowName		  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Mutual fluxes"
		  Ports			  [2, 1]
		  Position		  [115, 126, 250, 199]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  FontSize		  11
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Mutual fluxes"
		    Location		    [309, 428, 685, 618]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "phiqr,phidr"
		    Position		    [25, 63, 55, 77]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "phiqs,phids"
		    Position		    [25, 123, 55, 137]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1\\Llr"
		    Position		    [80, 51, 115, 89]
		    ShowName		    off
		    Gain		    "1/Llr"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1\\Llr1"
		    Position		    [225, 36, 260, 74]
		    ShowName		    off
		    Gain		    "Laq"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1\\Llr2"
		    Position		    [225, 121, 260, 159]
		    ShowName		    off
		    Gain		    "Lad"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1\\Lls"
		    Position		    [80, 111, 115, 149]
		    ShowName		    off
		    Gain		    "1/Lls"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux1"
		    Ports		    [1, 2]
		    Position		    [145, 44, 150, 91]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux2"
		    Ports		    [1, 2]
		    Position		    [145, 104, 150, 151]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [285, 14, 290, 181]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [170, 45, 190, 65]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [185, 130, 205, 150]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimq,phimd"
		    Position		    [315, 93, 345, 107]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "1\\Llr2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "phiqs,phids"
		    SrcPort		    1
		    DstBlock		    "1\\Lls"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "phiqr,phidr"
		    SrcPort		    1
		    DstBlock		    "1\\Llr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1\\Llr"
		    SrcPort		    1
		    DstBlock		    "Demux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "1\\Llr1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1\\Lls"
		    SrcPort		    1
		    DstBlock		    "Demux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux2"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Demux2"
		    SrcPort		    2
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    2
		    Points		    [40, 0]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1\\Llr1"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1\\Llr2"
		    SrcPort		    1
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "phimq,phimd"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Rotor"
		  Ports			  [3, 2]
		  Position		  [115, 27, 250, 103]
		  ShowName		  off
		  FontSize		  11
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('Rotor')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Rotor"
		    Location		    [301, 103, 1008, 518]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "vqr,vdr"
		    Position		    [20, 28, 50, 42]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w-wr"
		    Position		    [20, 78, 50, 92]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "phimq,phimd"
		    Position		    [20, 178, 50, 192]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1\\Llr"
		    Position		    [195, 159, 235, 191]
		    ShowName		    off
		    Gain		    "1/Llr"
		    Port {
		    PortNumber		    1
		    Name		    "iqr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1\\Llr1"
		    Position		    [265, 134, 300, 166]
		    ShowName		    off
		    Gain		    "Rr"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1\\Llr2"
		    Position		    [150, 259, 190, 291]
		    ShowName		    off
		    Gain		    "1/Llr"
		    Port {
		    PortNumber		    1
		    Name		    "idr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1\\Llr3"
		    Position		    [215, 259, 255, 291]
		    ShowName		    off
		    Gain		    "Rr"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [75, 16, 80, 54]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux1"
		    Ports		    [1, 2]
		    Position		    [90, 166, 95, 204]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [310, 163, 315, 207]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [480, 243, 485, 287]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [255, 63, 275, 92]
		    ShowName		    off
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [145, 93, 165, 122]
		    Orientation		    "left"
		    ShowName		    off
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [3, 1]
		    Position		    [310, 260, 340, 290]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++-||"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [3, 1]
		    Position		    [300, 65, 330, 95]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "+--"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum3"
		    Ports		    [2, 1]
		    Position		    [145, 160, 175, 190]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "+-|"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    Ports		    [2, 1]
		    Position		    [90, 260, 120, 290]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "-+|"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "phidr"
		    Ports		    [1, 1]
		    Position		    [420, 260, 450, 290]
		    InitialCondition	    "phirdo"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "phiqr"
		    Ports		    [1, 1]
		    Position		    [420, 65, 450, 95]
		    InitialCondition	    "phirqo"
		    Port {
		    PortNumber		    1
		    Name		    "phiqr"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "web"
		    Position		    [355, 64, 395, 96]
		    ShowName		    off
		    Gain		    "web"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "web1"
		    Position		    [360, 259, 400, 291]
		    ShowName		    off
		    Gain		    "web"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "iqr,idr"
		    Position		    [515, 178, 545, 192]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phiqr,phidr"
		    Position		    [515, 258, 545, 272]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "phimq,phimd"
		    SrcPort		    1
		    DstBlock		    "Demux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    1
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    Line {
		    Labels		    [0, 0]
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    Points		    [230, 0]
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum3"
		    SrcPort		    1
		    DstBlock		    "1\\Llr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1\\Llr1"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Sum2"
		    DstPort		    3
		    }
		    Line {
		    Name		    "iqr"
		    SrcBlock		    "1\\Llr"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, -25]
		    DstBlock		    "1\\Llr1"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [-1, 1]
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "iqr,idr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    2
		    Points		    [5, 0]
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    DstBlock		    "1\\Llr2"
		    DstPort		    1
		    }
		    Line {
		    Name		    "idr"
		    SrcBlock		    "1\\Llr2"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Labels		    [-1, 0]
		    Points		    [0, -80]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "1\\Llr3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "1\\Llr3"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    Points		    [30, 0; 0, 209]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [-15, 0; 0, 130; 200, 0]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vqr,vdr"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "phidr"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 40; -390, 0; 0, -40]
		    Branch {
		    Points		    [0, -205]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "web"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "web"
		    SrcPort		    1
		    DstBlock		    "phiqr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "w-wr"
		    SrcPort		    1
		    Points		    [130, 0]
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "web1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "web1"
		    SrcPort		    1
		    DstBlock		    "phidr"
		    DstPort		    1
		    }
		    Line {
		    Name		    "phiqr"
		    SrcBlock		    "phiqr"
		    SrcPort		    1
		    Points		    [5, 0; 0, 50]
		    Branch {
		    Points		    [-275, 0]
		    Branch {
		    Points		    [-25, 0]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    }
		    Branch {
		    Points		    [0, 125]
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    DstBlock		    "phiqr,phidr"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Stator"
		  Ports			  [3, 3]
		  Position		  [120, 247, 255, 323]
		  ShowName		  off
		  FontSize		  11
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('Stator')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Stator"
		    Location		    [176, 172, 994, 684]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "phimq,phimd"
		    Position		    [25, 58, 55, 72]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "vqs,vds"
		    Position		    [25, 188, 55, 202]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "w"
		    Position		    [25, 103, 55, 117]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1\\Llr"
		    Position		    [235, 39, 275, 71]
		    ShowName		    off
		    Gain		    "1/Lls"
		    Port {
		    PortNumber		    1
		    Name		    "iqs"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1\\Llr1"
		    Position		    [305, 39, 340, 71]
		    ShowName		    off
		    Gain		    "Rs"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1\\Llr2"
		    Position		    [185, 249, 225, 281]
		    ShowName		    off
		    Gain		    "1/Lls"
		    Port {
		    PortNumber		    1
		    Name		    "ids"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "1\\Llr3"
		    Position		    [260, 249, 300, 281]
		    ShowName		    off
		    Gain		    "Rs"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [85, 176, 90, 214]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    Port {
		    PortNumber		    1
		    Name		    "vqs"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    Port {
		    PortNumber		    2
		    Name		    "vds"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux1"
		    Ports		    [1, 2]
		    Position		    [85, 46, 90, 84]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [535, 198, 540, 222]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux3"
		    Ports		    [2, 1]
		    Position		    [535, 248, 540, 272]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux4"
		    Ports		    [2, 1]
		    Position		    [575, 288, 580, 312]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [305, 103, 325, 132]
		    ShowName		    off
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [205, 208, 225, 237]
		    ShowName		    off
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [3, 1]
		    Position		    [345, 250, 375, 280]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++-||"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [3, 1]
		    Position		    [345, 105, 375, 135]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "--+"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum3"
		    Ports		    [2, 1]
		    Position		    [95, 250, 125, 280]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "-+"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    Ports		    [2, 1]
		    Position		    [180, 40, 210, 70]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "+-|"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "phids"
		    Ports		    [1, 1]
		    Position		    [450, 250, 480, 280]
		    InitialCondition	    "phisdo"
		    Port {
		    PortNumber		    1
		    Name		    "phids"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "phiqs"
		    Ports		    [1, 1]
		    Position		    [450, 105, 480, 135]
		    InitialCondition	    "phisqo"
		    Port {
		    PortNumber		    1
		    Name		    "phiqs"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "web"
		    Position		    [395, 104, 435, 136]
		    ShowName		    off
		    Gain		    "web"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "web1"
		    Position		    [395, 249, 435, 281]
		    ShowName		    off
		    Gain		    "web"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phiqs,phids"
		    Position		    [600, 253, 630, 267]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "iqs,ids"
		    Position		    [600, 203, 630, 217]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phis,is"
		    Position		    [600, 293, 630, 307]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "w"
		    SrcPort		    1
		    Points		    [75, 0]
		    Branch {
		    Points		    [0, 105]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    1
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "phimq,phimd"
		    SrcPort		    1
		    DstBlock		    "Demux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum3"
		    SrcPort		    1
		    DstBlock		    "1\\Llr2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux1"
		    SrcPort		    2
		    Points		    [15, 0]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "vqs,vds"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    Name		    "phiqs"
		    SrcBlock		    "phiqs"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    Labels		    [2, 0]
		    Points		    [0, -100; -315, 0]
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [3, 0]
		    Points		    [-35, 0; 0, 210]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    }
		    Branch {
		    Points		    [0, 135]
		    DstBlock		    "Mux3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "web"
		    SrcPort		    1
		    DstBlock		    "phiqs"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "web"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1\\Llr1"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    Name		    "iqs"
		    Labels		    [0, 0]
		    SrcBlock		    "1\\Llr"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "1\\Llr1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 150]
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    DstBlock		    "1\\Llr"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux4"
		    SrcPort		    1
		    DstBlock		    "phis,is"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux3"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Mux4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "phiqs,phids"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [130, 0]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    Name		    "vds"
		    Labels		    [-1, 1]
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    Points		    [30, 0; 0, 39]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    Name		    "phids"
		    SrcBlock		    "phids"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    2
		    }
		    Branch {
		    Labels		    [2, 0]
		    Points		    [0, 40; -390, 0]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    Branch {
		    Labels		    [3, 1]
		    Points		    [0, -90; -210, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "web1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "web1"
		    SrcPort		    1
		    DstBlock		    "phids"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "1\\Llr3"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    3
		    }
		    Line {
		    Name		    "ids"
		    Labels		    [0, 0]
		    SrcBlock		    "1\\Llr2"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "1\\Llr3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 95]
		    DstBlock		    "Mux4"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "iqs,ids"
		    DstPort		    1
		    }
		    }
		    Line {
		    Name		    "vqs"
		    Labels		    [-1, 1]
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    Points		    [265, 0]
		    DstBlock		    "Sum2"
		    DstPort		    3
		    }
		    Annotation {
		    Name		    "(phids - phimd)/Lls=ids"
		    Position		    [495, 357]
		    }
		    Annotation {
		    Name		    "Vds -Rsids +w*phiqs = web*d/dt(ph"
"ids)"
		    Position		    [527, 382]
		    }
		    Annotation {
		    Name		    "(phiqs - phimq)/Lls=iqs"
		    Position		    [125, 362]
		    }
		    Annotation {
		    Name		    "Vqs -Rsiqs -w*phids = web*d/dt(ph"
"iqs)"
		    Position		    [157, 387]
		    }
		    Annotation {
		    Name		    "phiqs= -(Vds -Rs* ids)/w "
		    Position		    [507, 417]
		    ForegroundColor	    "red"
		    FontSize		    12
		    }
		    Annotation {
		    Name		    "phids= (Vqs -Rs* iqs)/w "
		    Position		    [137, 422]
		    ForegroundColor	    "red"
		    FontSize		    12
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Iqdr1"
		  Position		  [315, 38, 345, 52]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "phiqdr1"
		  Position		  [320, 138, 350, 152]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "phiqds1"
		  Position		  [315, 207, 345, 223]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Iqds1"
		  Position		  [315, 278, 345, 292]
		  Port			  "4"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Phiqds1_Isqds1"
		  Position		  [280, 303, 310, 317]
		  Port			  "5"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Stator"
		  SrcPort		  3
		  DstBlock		  "Phiqds1_Isqds1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Stator"
		  SrcPort		  2
		  DstBlock		  "Iqds1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w-wr"
		  SrcPort		  1
		  DstBlock		  "Rotor"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Rotor"
		  SrcPort		  1
		  DstBlock		  "Iqdr1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vqds1"
		  SrcPort		  1
		  DstBlock		  "Stator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Vqdr1"
		  SrcPort		  1
		  DstBlock		  "Rotor"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant7"
		  SrcPort		  1
		  DstBlock		  "Stator"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Rotor"
		  SrcPort		  2
		  Points		  [45, 0; 0, 60]
		  Branch {
		    DstBlock		    "phiqdr1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mutual fluxes"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Stator"
		  SrcPort		  1
		  Points		  [10, 0; 0, -45]
		  Branch {
		    DstBlock		    "phiqds1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -35]
		    DstBlock		    "Mutual fluxes"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Mutual fluxes"
		  SrcPort		  1
		  Points		  [0, 0; -20, 0]
		  Branch {
		    Points		    [0, -75]
		    DstBlock		    "Rotor"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 95]
		    DstBlock		    "Stator"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector"
	      Ports		      [1, 1]
	      Position		      [260, 285, 290, 315]
	      ShowName		      off
	      InputPortWidth	      "3"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector1"
	      Ports		      [1, 1]
	      Position		      [825, 64, 855, 96]
	      ShowName		      off
	      Elements		      "[1 2]"
	      InputPortWidth	      "3"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      Ports		      [2, 1]
	      Position		      [310, 85, 340, 115]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|+-"
	      Port {
		PortNumber		1
		Name			"s1=ws-wr"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      Ports		      [2, 1]
	      Position		      [310, 455, 340, 485]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "++|"
	      Port {
		PortNumber		1
		Name			"s2=ws+wr"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vqdr"
	      Position		      [345, 55, 375, 75]
	      Value		      "[0 0]"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vqdr1"
	      Position		      [690, 236, 720, 254]
	      ShowName		      off
	      Value		      "[0 0]"
	      Port {
		PortNumber		1
		Name			"Vqdr1"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "abc2dq"
	      Ports		      [1, 2]
	      Position		      [165, 119, 255, 186]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		1
		Name			"vqds1"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"abc2dq"
		Location		[153, 312, 849, 701]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vab Vbc cmplx"
		  Position		  [25, 113, 55, 127]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "(a^2)/3"
		  Position		  [180, 115, 210, 145]
		  Gain			  "1/3*exp(-j*2*pi/3)"
		}
		Block {
		  BlockType		  ComplexToRealImag
		  Name			  "Complex to\nReal-Imag"
		  Ports			  [1, 2]
		  Position		  [415, 88, 445, 117]
		  ShowName		  off
		  Output		  "Real and imag"
		}
		Block {
		  BlockType		  ComplexToRealImag
		  Name			  "Complex to\nReal-Imag3"
		  Ports			  [1, 2]
		  Position		  [415, 188, 445, 217]
		  ShowName		  off
		  Output		  "Real and imag"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [85, 101, 90, 139]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [185, 40, 215, 70]
		  ShowName		  off
		  Gain			  "1/3"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [185, 185, 215, 215]
		  ShowName		  off
		  Gain			  "1/3"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [2, 1]
		  Position		  [520, 86, 525, 124]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [2, 1]
		  Position		  [520, 186, 525, 224]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [340, 95, 360, 115]
		  ShowName		  off
		  Inputs		  "+-"
		  Port {
		    PortNumber		    1
		    Name		    "V1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  Ports			  [2, 1]
		  Position		  [345, 195, 365, 215]
		  ShowName		  off
		  Inputs		  "+-"
		  Port {
		    PortNumber		    1
		    Name		    "V2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "a/3"
		  Position		  [185, 245, 215, 275]
		  Gain			  "1/3*exp(j*2*pi/3)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vqds1"
		  Position		  [565, 98, 595, 112]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vqds2"
		  Position		  [565, 198, 595, 212]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "Vqds2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag3"
		  SrcPort		  1
		  Points		  [25, 0; 0, 20]
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag3"
		  SrcPort		  2
		  Points		  [55, 0]
		  DstBlock		  "Mux3"
		  DstPort		  1
		}
		Line {
		  Name			  "V2"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  DstBlock		  "Complex to\nReal-Imag3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "(a^2)/3"
		  SrcPort		  1
		  Points		  [90, 0; 0, -20]
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "(a^2)/3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 130]
		    DstBlock		    "a/3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [85, 0; 0, 45]
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vab Vbc cmplx"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "a/3"
		  SrcPort		  1
		  Points		  [90, 0; 0, -50]
		  DstBlock		  "Sum4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [30, 0; 0, -55]
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 90]
		    DstBlock		    "Gain1"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "V1"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Complex to\nReal-Imag"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag"
		  SrcPort		  1
		  Points		  [25, 0; 0, 20]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag"
		  SrcPort		  2
		  Points		  [55, 0]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Vqds1"
		  DstPort		  1
		}
		Annotation {
		  Name			  "V2= 1/3(Vab -a*Vbc)"
		  Position		  [115, 329]
		}
		Annotation {
		  Name			  "V1= 1/3(Vab -a^2*Vbc)"
		  Position		  [120, 304]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "dq2abc"
	      Ports		      [4, 2]
	      Position		      [655, 23, 745, 97]
	      FontSize		      11
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"dq2abc"
		Location		[158, 197, 585, 468]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "iqdr1"
		  Position		  [35, 53, 65, 67]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "iqds1"
		  Position		  [35, 143, 65, 157]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Ir2"
		  Position		  [80, 83, 110, 97]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Is2"
		  Position		  [80, 173, 110, 187]
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Phasors Ia Ib rotor"
		  Ports			  [2, 1]
		  Position		  [145, 46, 240, 104]
		  BackgroundColor	  "magenta"
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Phasors Ia Ib rotor"
		    Location		    [33, 74, 789, 452]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Iqdr1"
		    Position		    [45, 38, 75, 52]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "I2r"
		    Position		    [40, 138, 70, 152]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    Port {
		    PortNumber		    1
		    Name		    "I2 "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [140, 26, 145, 64]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [475, 46, 480, 84]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "ia ib"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [580, 121, 585, 159]
		    ShowName		    off
		    Inputs		    "[2 1]"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    RealImagToComplex
		    Name		    "Real-Imag to\nComplex"
		    Ports		    [2, 1]
		    Position		    [205, 30, 230, 65]
		    ShowName		    off
		    Input		    "Real and imag"
		    Port {
		    PortNumber		    1
		    Name		    "I1 "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [1, 1]
		    Position		    [480, 120, 500, 135]
		    Orientation		    "down"
		    ShowName		    off
		    Inputs		    "1"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [415, 265, 435, 285]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum3"
		    Ports		    [2, 1]
		    Position		    [390, 45, 410, 65]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "a"
		    Position		    [340, 295, 380, 335]
		    Gain		    "exp(j*2*pi/3)"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "a^2"
		    Position		    [335, 220, 375, 260]
		    Gain		    "exp(-j*2*pi/3)"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "inv"
		    Position		    [515, 133, 540, 167]
		    ShowName		    off
		    Gain		    "-1"
		    Port {
		    PortNumber		    1
		    Name		    "ic"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Irabc cmplx"
		    Position		    [675, 133, 705, 147]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    Name		    "I1 "
		    Labels		    [0, 0]
		    SrcBlock		    "Real-Imag to\nComplex"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    Points		    [0, 190]
		    DstBlock		    "a^2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "a^2"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "a"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum3"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -200]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Iqdr1"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    Name		    "ia ib"
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [3, 0]
		    Points		    [55, 0; 0, 65]
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [0, 10]
		    DstBlock		    "inv"
		    DstPort		    1
		    }
		    Line {
		    Name		    "ic"
		    Labels		    [0, 0]
		    SrcBlock		    "inv"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "Irabc cmplx"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    Points		    [25, 0; 0, 20]
		    DstBlock		    "Real-Imag to\nComplex"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    Points		    [15, 0; 0, -15]
		    DstBlock		    "Real-Imag to\nComplex"
		    DstPort		    1
		    }
		    Line {
		    Name		    "I2 "
		    Labels		    [1, 0]
		    SrcBlock		    "I2r"
		    SrcPort		    1
		    Points		    [180, 0]
		    Branch {
		    Points		    [120, 0]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 170]
		    DstBlock		    "a"
		    DstPort		    1
		    }
		    }
		    Annotation {
		    Name		    "Ia= I1 + I2"
		    Position		    [615, 224]
		    }
		    Annotation {
		    Name		    "Ib= a^2*I1 + a*I2"
		    Position		    [630, 249]
		    }
		    Annotation {
		    Name		    "I1 "
		    Position		    [358, 45]
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Phasors Ia Ib stator"
		  Ports			  [2, 1]
		  Position		  [150, 136, 245, 194]
		  BackgroundColor	  "magenta"
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Phasors Ia Ib stator"
		    Location		    [183, 82, 934, 463]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Iqds1"
		    Position		    [45, 38, 75, 52]
		    NamePlacement	    "alternate"
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "I2s"
		    Position		    [40, 138, 70, 152]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    Port {
		    PortNumber		    1
		    Name		    "I2 "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [140, 26, 145, 64]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    Ports		    [2, 1]
		    Position		    [475, 46, 480, 84]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "ia ib"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    Ports		    [2, 1]
		    Position		    [580, 121, 585, 159]
		    ShowName		    off
		    Inputs		    "[2 1]"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    RealImagToComplex
		    Name		    "Real-Imag to\nComplex"
		    Ports		    [2, 1]
		    Position		    [205, 30, 230, 65]
		    ShowName		    off
		    Input		    "Real and imag"
		    Port {
		    PortNumber		    1
		    Name		    "I1 "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [1, 1]
		    Position		    [480, 120, 500, 135]
		    Orientation		    "down"
		    ShowName		    off
		    Inputs		    "1"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [415, 265, 435, 285]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum3"
		    Ports		    [2, 1]
		    Position		    [390, 45, 410, 65]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "a"
		    Position		    [340, 295, 380, 335]
		    Gain		    "exp(j*2*pi/3)"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "a^2"
		    Position		    [335, 220, 375, 260]
		    Gain		    "exp(-j*2*pi/3)"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "inv"
		    Position		    [515, 133, 540, 167]
		    ShowName		    off
		    Gain		    "-1"
		    Port {
		    PortNumber		    1
		    Name		    "ic"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Isabc cmplx"
		    Position		    [675, 133, 705, 147]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Sum3"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    Name		    "I1 "
		    Labels		    [0, 0]
		    SrcBlock		    "Real-Imag to\nComplex"
		    SrcPort		    1
		    Points		    [55, 0]
		    Branch {
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 190]
		    DstBlock		    "a^2"
		    DstPort		    1
		    }
		    }
		    Line {
		    Name		    "I2 "
		    Labels		    [0, 0]
		    SrcBlock		    "I2s"
		    SrcPort		    1
		    Points		    [180, 0]
		    Branch {
		    Points		    [0, 170]
		    DstBlock		    "a"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [120, 0]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    Points		    [15, 0; 0, -15]
		    DstBlock		    "Real-Imag to\nComplex"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    Points		    [25, 0; 0, 20]
		    DstBlock		    "Real-Imag to\nComplex"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "Isabc cmplx"
		    DstPort		    1
		    }
		    Line {
		    Name		    "ic"
		    Labels		    [0, 0]
		    SrcBlock		    "inv"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [0, 10]
		    DstBlock		    "inv"
		    DstPort		    1
		    }
		    Line {
		    Name		    "ia ib"
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [3, 0]
		    Points		    [55, 0; 0, 65]
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Iqds1"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [10, 0; 0, -200]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "a"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "a^2"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Annotation {
		    Name		    "I1 "
		    Position		    [358, 45]
		    }
		    Annotation {
		    Name		    "Ib= a^2*I1 + a*I2"
		    Position		    [630, 249]
		    }
		    Annotation {
		    Name		    "Ia= I1 + I2"
		    Position		    [615, 224]
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "irabc"
		  Position		  [340, 68, 370, 82]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "isabc"
		  Position		  [340, 163, 370, 177]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Is2"
		  SrcPort		  1
		  DstBlock		  "Phasors Ia Ib stator"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Ir2"
		  SrcPort		  1
		  DstBlock		  "Phasors Ia Ib rotor"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Phasors Ia Ib rotor"
		  SrcPort		  1
		  DstBlock		  "irabc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Phasors Ia Ib stator"
		  SrcPort		  1
		  Points		  [0, 5]
		  DstBlock		  "isabc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "iqdr1"
		  SrcPort		  1
		  DstBlock		  "Phasors Ia Ib rotor"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "iqds1"
		  SrcPort		  1
		  DstBlock		  "Phasors Ia Ib stator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "ib"
	      Position		      [875, 64, 900, 96]
	      ShowName		      off
	      Gain		      "ib"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "ws1"
	      Position		      [265, 90, 290, 110]
	      NamePlacement	      "alternate"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "ws2"
	      Position		      [260, 460, 285, 480]
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [925, 73, 955, 87]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [930, 268, 960, 282]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	    }
	    Line {
	      SrcBlock		      "Negative Sequence\nModel"
	      SrcPort		      2
	      Points		      [105, 0; 0, -375]
	      DstBlock		      "dq2abc"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Negative Sequence\nModel"
	      SrcPort		      1
	      Points		      [125, 0; 0, -325]
	      DstBlock		      "dq2abc"
	      DstPort		      4
	    }
	    Line {
	      Name		      "phiqds1"
	      Labels		      [-1, 1]
	      SrcBlock		      "Positive Sequence\nModel"
	      SrcPort		      3
	      Points		      [30, 0; 0, 235]
	      DstBlock		      "Mux3"
	      DstPort		      7
	    }
	    Line {
	      Name		      "phiqdr1"
	      Labels		      [-1, 1]
	      SrcBlock		      "Positive Sequence\nModel"
	      SrcPort		      2
	      Points		      [40, 0; 0, 135]
	      DstBlock		      "Mux3"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "abc2dq"
	      SrcPort		      2
	      Points		      [105, 0; 0, 255]
	      DstBlock		      "Negative Sequence\nModel"
	      DstPort		      1
	    }
	    Line {
	      Name		      "s2=ws+wr"
	      Labels		      [-1, 1]
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "Negative Sequence\nModel"
	      DstPort		      2
	    }
	    Line {
	      Labels		      [0, 0]
	      SrcBlock		      "ib"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux3"
	      SrcPort		      1
	      Points		      [85, 0]
	      DstBlock		      "Gain"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Gain"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "dq2abc"
	      SrcPort		      2
	      Points		      [0, 0; 5, 0]
	      Branch {
		Points			[0, 30; -105, 0; 0, 165]
		DstBlock		"Complex to\nMagnitude-Angle1"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Selector1"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "dq2abc"
	      SrcPort		      1
	      Points		      [25, 0; 0, 75; -110, 0]
	      DstBlock		      "Complex to\nMagnitude-Angle"
	      DstPort		      1
	    }
	    Line {
	      Name		      "iqdr1"
	      SrcBlock		      "Positive Sequence\nModel"
	      SrcPort		      1
	      Points		      [5, 0; 60, 0]
	      Branch {
		Labels			[-1, 1]
		Points			[0, 125]
		DstBlock		"Mux3"
		DstPort			2
	      }
	      Branch {
		Points			[0, -30]
		DstBlock		"dq2abc"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "vqds1"
	      SrcBlock		      "abc2dq"
	      SrcPort		      1
	      Points		      [0, 0; 120, 0]
	      Branch {
		DstBlock		"Positive Sequence\nModel"
		DstPort			3
	      }
	      Branch {
		Labels			[-1, 1]
		Points			[0, 230]
		DstBlock		"Mux3"
		DstPort			8
	      }
	    }
	    Line {
	      Name		      "iqds1"
	      SrcBlock		      "Positive Sequence\nModel"
	      SrcPort		      4
	      Points		      [-5, 0; 95, 0]
	      Branch {
		Points			[0, -70]
		DstBlock		"dq2abc"
		DstPort			2
	      }
	      Branch {
		Labels			[-1, 1]
		Points			[0, 185]
		DstBlock		"Mux3"
		DstPort			6
	      }
	    }
	    Line {
	      SrcBlock		      "Vqdr"
	      SrcPort		      1
	      DstBlock		      "Positive Sequence\nModel"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Positive Sequence\nModel"
	      SrcPort		      5
	      Points		      [20, 0; 0, 105; -440, 0; 0, 55]
	      DstBlock		      "Mechanical"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "1_Vb"
	      SrcPort		      1
	      DstBlock		      "abc2dq"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "1_Vb"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Selector1"
	      SrcPort		      1
	      DstBlock		      "ib"
	      DstPort		      1
	    }
	    Line {
	      Name		      "irabc"
	      Labels		      [1, 0]
	      SrcBlock		      "Complex to\nMagnitude-Angle"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      1
	    }
	    Line {
	      Name		      "isabc"
	      Labels		      [0, 1]
	      SrcBlock		      "Complex to\nMagnitude-Angle1"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Tm"
	      SrcPort		      1
	      DstBlock		      "Mechanical"
	      DstPort		      1
	    }
	    Line {
	      Name		      "wr, Te, thetam"
	      SrcBlock		      "Mechanical"
	      SrcPort		      1
	      Points		      [0, 0; 5, 0]
	      Branch {
		DstBlock		"Selector"
		DstPort			1
	      }
	      Branch {
		Labels			[-1, 1]
		Points			[0, 80; 430, 0; 0, 15]
		DstBlock		"Mux3"
		DstPort			9
	      }
	    }
	    Line {
	      SrcBlock		      "ws1"
	      SrcPort		      1
	      DstBlock		      "Sum1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "s1=ws-wr"
	      Labels		      [1, 1]
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "Positive Sequence\nModel"
	      DstPort		      2
	    }
	    Line {
	      Name		      "Vqdr1"
	      Labels		      [1, 0]
	      SrcBlock		      "Vqdr1"
	      SrcPort		      1
	      DstBlock		      "Mux3"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "ws2"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Selector"
	      SrcPort		      1
	      Points		      [0, 0; 30, 0]
	      Branch {
		DstBlock		"Sum2"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Sum1"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Negative Sequence\nModel"
	      SrcPort		      3
	      Points		      [15, 0; 0, 45; -440, 0; 0, -195]
	      DstBlock		      "Mechanical"
	      DstPort		      3
	    }
	    Annotation {
	      Name		      "Note: Model valid only for  squirrel ca"
"ge machine  (Vrotor=0)"
	      Position		      [410, 544]
	      ForegroundColor	      "red"
	      FontName		      "Arial"
	      FontSize		      12
	    }
	    Annotation {
	      Name		      "Ia Ib stator\ncomplex"
	      Position		      [930, 119]
	    }
	    Annotation {
	      Name		      "Vab Vbc stator\ncomplex"
	      Position		      [50, 194]
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "breaker"
	  Ports			  [2, 2]
	  Position		  [25, 111, 70, 184]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Switch logic model"
	  MaskDescription	  "Simulink model for the Ideal Switch block d"
"uring a continuous simulation. The switching logic of the ideal switch is han"
"dled by the sfun_psbcontc.c function. "
	  MaskPromptString	  "istate|Number of switches|Breaker Resistanc"
"es|Ts:"
	  MaskStyleString	  "edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on"
	  MaskCallbackString	  "|||"
	  MaskEnableString	  "on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on"
	  MaskToolTipString	  "on,on,on,on"
	  MaskVarAliasString	  ",,,"
	  MaskVariables		  "istate=@1;Nsw=@2;Rsw=@3;Ts=@4;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0|1|1|0"
	  MaskTabNameString	  ",,,"
	  System {
	    Name		    "breaker"
	    Location		    [302, 518, 901, 765]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v "
	      Position		      [45, 20, 65, 40]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"Vak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [145, 20, 165, 40]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [50, 72, 140, 98]
	      Value		      "complex(zeros(Nsw,1),zeros(Nsw,1))"
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [100, 20, 120, 40]
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [200, 75, 220, 95]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Status"
	      Position		      [200, 20, 220, 40]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "Status"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Vak"
	      Labels		      [0, 0]
	      SrcBlock		      "v "
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "distributed_param_line"
	  Ports			  [1, 1]
	  Position		  [490, 112, 535, 178]
	  BackgroundColor	  "cyan"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Distributed Parameter Line Model"
	  MaskDescription	  "Simulink model for the Distributed Paramete"
"r Line block. The  last five parameters are automatically calculated  by SimP"
"owerSystems at the begining of the simulation."
	  MaskPromptString	  "Number of phases|Frequency used for R L C s"
"pecification (Hz) |R [3*3 matrix] or [R0 R1] (ohms/km) |L [3*3matrix ] or [L0"
" L1] (H/km)|C [3*3matrix] or [C0 C1] (F/km) |Line length (km)|V1_init:|V2_ini"
"t|I1_init:|I2_init:|time delay init"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,edit,edit,edi"
"t,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "||||||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,,,"
	  MaskVariables		  "nphase=@1;f=@2;ri=@3;li=@4;ci=@5;long=@6;V1"
"_init=@7;V2_init=@8;I1_init=@9;I2_init=@10;time_init=@11;"
	  MaskInitialization	  "[Zm,R,v,Ti]=powericonV2('Distributed Parame"
"ter Line Model',nphase,f,ri,li,ci);to=long./v;Rt4=R*long/4;h=(Zm-Rt4)./(Zm+Rt"
"4);\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "3|60|[0.01273 0.3864]|[0.9337e-3  4.1264e-3"
"]|[12.74e-9 7.751e-9]|100|[0 0 0 0; 0.0001244 0 0 0; 0.0002488 0 0 0; 0.00037"
"33 0 0 0; 0.0004977 0 0 0; 0.0006221 0 0 0]|[0 0 0 0; 0.0001244 0 0 0; 0.0002"
"488 0 0 0; 0.0003733 0 0 0; 0.0004977 0 0 0; 0.0006221 0 0 0]|[0 0 0 0; 0.000"
"1244 0 0 0; 0.0002488 0 0 0; 0.0003733 0 0 0; 0.0004977 0 0 0; 0.0006221 0 0 "
"0]|[0 0 0 0; 0.0001244 0 0 0; 0.0002488 0 0 0; 0.0003733 0 0 0; 0.0004977 0 0"
" 0; 0.0006221 0 0 0]|0"
	  MaskTabNameString	  ",,,,,,,,,,"
	  System {
	    Name		    "distributed_param_line"
	    Location		    [445, 591, 739, 691]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [30, 35, 50, 55]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [130, 35, 160, 65]
	      Value		      "complex(zeros(1,2*nphase),zeros(1,2*nph"
"ase))"
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      Position		      [70, 35, 90, 55]
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [260, 40, 280, 60]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "ideal_switch"
	  Ports			  [2, 3]
	  Position		  [25, 16, 70, 84]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Switch logic model"
	  MaskDescription	  "Simulink model for the Ideal Switch block d"
"uring a continuous simulation. The switching logic of the ideal switch is han"
"dled by the sfun_psbcontc.c function. "
	  MaskPromptString	  "Number of switches|Switch resistances|Ts"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVarAliasString	  ",,"
	  MaskVariables		  "Nsw=@1;Rsw=@2;Ts=@3;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1|1|0"
	  MaskTabNameString	  ",,"
	  System {
	    Name		    "ideal_switch"
	    Location		    [355, 450, 827, 713]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [20, 135, 40, 155]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"Vak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [20, 185, 40, 205]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1/Rsw"
	      Position		      [100, 29, 135, 61]
	      ShowName		      off
	      Gain		      "1./Rsw"
	      Port {
		PortNumber		1
		Name			"Iak"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1/Rsw1"
	      Position		      [100, 58, 130, 92]
	      ShowName		      off
	      Gain		      "0"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      Position		      [340, 16, 375, 44]
	      Value		      "complex(zeros(Nsw,1),zeros(Nsw,1))"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [280, 116, 285, 154]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	      Port {
		PortNumber		1
		Name			"measurement signals"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [195, 37, 225, 83]
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [415, 20, 435, 40]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Status"
	      Position		      [415, 185, 435, 205]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [415, 125, 435, 145]
	      Port		      "3"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "1/Rsw1"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      Points		      [35, 0]
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Iak"
	      Labels		      [0, 1]
	      SrcBlock		      "1/Rsw"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Vak"
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [0, 0; 20, 0]
	      Branch {
		Labels			[-1, 0]
		DstBlock		"Mux"
		DstPort			2
	      }
	      Branch {
		Points			[0, -70]
		Branch {
		  Points		  [0, -30]
		  DstBlock		  "1/Rsw"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "1/Rsw1"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      Name		      "measurement signals"
	      Labels		      [0, 0]
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "g"
	      SrcPort		      1
	      Points		      [0, 0; 125, 0]
	      Branch {
		DstBlock		"Status"
		DstPort			1
	      }
	      Branch {
		Points			[0, -135]
		DstBlock		"Switch"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "simplified_sync_mach"
	  Ports			  [3, 2]
	  Position		  [125, 119, 175, 191]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Simplified Synchronous Machine Model"
	  MaskDescription	  "Implements a 3-phase simplified synchronous"
" machine. Machine is modelled as an internal voltage behind a R-L impedance. "
"Stator windings are connected in wye to an internal neutral point. \n\n1st in"
"put: Simulink signal:  mechanical power supplied to\n         the machine (p."
"u., >0 for generator mode,\n         <0 for motor mode)\n2nd input: Simulink "
"signal: internal voltage (p.u.)\n\nFirst 3 outputs: Machine terminals = phase"
"s a, b and c\n4th output: Simulink measurement output = vector (12x1) contain"
"ing :\n   1-3 : Line currents flowing out of machine ia, ib, ic\n   4-6 : Ter"
"minal voltages va, vb, vc\n   7-9 : Internal voltages ea, eb, ec\n   10   : E"
"lectrical angle theta\n   11   : Rotor speed n\n   12   : Electrical power Pe"
"\n\nUnits of mesurement output depend on checkbox in block's dialog box."
	  MaskPromptString	  "Connection type:|Nom. power, L-L volt., and"
" freq. [ Pn(VA) Vn(Vrms) fn(Hz) ]:|Inertia, damping factor and pairs of poles"
"[ H(s)  Kd() p() ]:|Internal impedance [ R,X (p.u.) ]:|Init. cond. [ dw(%)  t"
"h(deg)  ia,ib,ic(p.u.)  pha,phb,phc(deg) ]:|I/O units (check for S.I., otherw"
"ise p.u.):"
	  MaskStyleString	  "popup(3-wire Y|4-wire Y),edit,edit,edit,edi"
"t,checkbox"
	  MaskTunableValueString  "on,on,on,on,on,on"
	  MaskCallbackString	  "|||||"
	  MaskEnableString	  "on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,"
	  MaskVariables		  "v6=@1;v1=@2;v2=@3;v3=@4;v4=@5;v5=@6;"
	  MaskInitialization	  "[Pb,Nb,Vb,Vb2,Vb3,ib,ib2,web,H,Kd,p,pi23,R,"
"L,io,dwo,tho]=powericonV2('Simplified Synchronous Machine Model',v1,v2,v3,v4,"
"v5);\nif v6==1,sel=1:2; else sel=1:3; end\nId1o=v4(3)*cos(v4(6)*pi/180);\nIq1"
"o=v4(3)*sin(v4(6)*pi/180);\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "3-wire Y|[200e6 13800 60]|[3.6 0 2]|[0.02 0"
".2]|[0 18.9108 0.754635 0.754635 0.754635 16.6258 -103.374 136.626]|off"
	  MaskTabNameString	  ",,,,,"
	  System {
	    Name		    "simplified_sync_mach"
	    Location		    [105, 159, 1026, 726]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [15, 176, 35, 194]
	      BackgroundColor	      "yellow"
	      NamePlacement	      "alternate"
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "pm"
	      Position		      [15, 76, 35, 94]
	      BackgroundColor	      "yellow"
	      NamePlacement	      "alternate"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "e"
	      Position		      [15, 246, 35, 264]
	      BackgroundColor	      "yellow"
	      NamePlacement	      "alternate"
	      Port		      "3"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"Internal volltage \nmagnitudes"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1_Vb"
	      Position		      [55, 166, 90, 204]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Gain		      "1/Vb"
	    }
	    Block {
	      BlockType		      ComplexToMagnitudeAngle
	      Name		      "Complex to\nMagnitude-Angle"
	      Ports		      [1, 1]
	      Position		      [675, 445, 705, 475]
	      ShowName		      off
	      Output		      "Magnitude"
	    }
	    Block {
	      BlockType		      ComplexToMagnitudeAngle
	      Name		      "Complex to\nMagnitude-Angle1"
	      Ports		      [1, 1]
	      Position		      [520, 135, 550, 165]
	      ShowName		      off
	      Output		      "Magnitude"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant4"
	      Position		      [555, 323, 595, 347]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Value		      "web"
	    }
	    Block {
	      BlockType		      StateSpace
	      Name		      "Filter_T=1ms"
	      Position		      [595, 133, 655, 167]
	      A			      "-1e3*eye(3)"
	      B			      "1e3*eye(3)"
	      C			      "eye(3)"
	      D			      "zeros(3)"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Idq1 Idq2 Pe "
	      Ports		      [3, 3]
	      Position		      [145, 172, 235, 248]
	      BackgroundColor	      "magenta"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		1
		Name			"Pe"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"Idq1 Idq2 Pe "
		Location		[6, 112, 1018, 592]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vab Vbc cmplx"
		  Position		  [25, 113, 55, 127]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "e"
		  Position		  [340, 193, 370, 207]
		  NamePlacement		  "alternate"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "delta"
		  Position		  [340, 248, 370, 262]
		  NamePlacement		  "alternate"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "(a^2)/3"
		  Position		  [185, 115, 215, 145]
		  Gain			  "1/3*exp(-j*2*pi/3)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "-1"
		  Position		  [500, 382, 540, 418]
		  ShowName		  off
		  Gain			  "-1"
		  Port {
		    PortNumber		    1
		    Name		    "-V2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/Z1"
		  Position		  [650, 96, 705, 134]
		  Gain			  "1/(R+j*L)"
		}
		Block {
		  BlockType		  ComplexToRealImag
		  Name			  "Complex to\nReal-Imag"
		  Ports			  [1, 1]
		  Position		  [875, 195, 905, 225]
		  ShowName		  off
		  Output		  "Real"
		}
		Block {
		  BlockType		  ComplexToRealImag
		  Name			  "Complex to\nReal-Imag1"
		  Ports			  [1, 2]
		  Position		  [585, 193, 615, 222]
		  ShowName		  off
		  Output		  "Real and imag"
		}
		Block {
		  BlockType		  ComplexToRealImag
		  Name			  "Complex to\nReal-Imag2"
		  Ports			  [1, 2]
		  Position		  [605, 288, 635, 317]
		  ShowName		  off
		  Output		  "Real and imag"
		}
		Block {
		  BlockType		  ComplexToRealImag
		  Name			  "Complex to\nReal-Imag3"
		  Ports			  [1, 2]
		  Position		  [605, 383, 635, 412]
		  ShowName		  off
		  Output		  "Real and imag"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [85, 101, 90, 139]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [185, 40, 215, 70]
		  ShowName		  off
		  Gain			  "1/3"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [185, 185, 215, 215]
		  ShowName		  off
		  Gain			  "1/3"
		}
		Block {
		  BlockType		  MagnitudeAngleToComplex
		  Name			  "Magnitude-Angle\nto Complex1"
		  Ports			  [2, 1]
		  Position		  [425, 192, 455, 223]
		  ShowName		  off
		  Input			  "Magnitude and angle"
		  Port {
		    PortNumber		    1
		    Name		    "E"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [655, 286, 660, 319]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [650, 381, 655, 414]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [815, 192, 845, 223]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  RealImagToComplex
		  Name			  "Real-Imag to\nComplex"
		  Ports			  [2, 1]
		  Position		  [730, 218, 760, 247]
		  ShowName		  off
		  Input			  "Real and imag"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [515, 96, 535, 129]
		  ShowName		  off
		  Inputs		  "-+"
		  Port {
		    PortNumber		    1
		    Name		    "U1=E1-V1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [290, 95, 310, 115]
		  ShowName		  off
		  Inputs		  "+-"
		  Port {
		    PortNumber		    1
		    Name		    "V1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  Ports			  [2, 1]
		  Position		  [285, 195, 305, 215]
		  ShowName		  off
		  Inputs		  "+-"
		  Port {
		    PortNumber		    1
		    Name		    "V2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Vdq1->Idq1"
		  Ports			  [1, 1]
		  Position		  [690, 273, 750, 337]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Vdq1->Idq1"
		    Location		    [570, 350, 965, 612]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    Position		    [175, 149, 215, 181]
		    Orientation		    "left"
		    ShowName		    off
		    Gain		    "R/L"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain2"
		    Position		    [80, 29, 120, 61]
		    ShowName		    off
		    Gain		    "1/L"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain3"
		    Position		    [225, 202, 290, 238]
		    Orientation		    "left"
		    ShowName		    off
		    Gain		    "[-1 1]"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [250, 50, 280, 80]
		    InitialCondition	    "[Id1o  Iq1o]"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector1"
		    Ports		    [1, 1]
		    Position		    [135, 201, 175, 239]
		    Orientation		    "left"
		    ShowName		    off
		    Elements		    "[2 1]"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [3, 1]
		    Position		    [165, 38, 190, 92]
		    ShowName		    off
		    Inputs		    "+-+"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "web"
		    Position		    [205, 49, 230, 81]
		    Gain		    "web"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [340, 58, 370, 72]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "web"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain2"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [0, 0; 35, 0]
		    Branch {
		    Points		    [0, 100]
		    Branch {
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Gain3"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    Points		    [-35, 0; 0, -100]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Gain3"
		    SrcPort		    1
		    DstBlock		    "Selector1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Selector1"
		    SrcPort		    1
		    Points		    [-20, 0; 0, -135]
		    DstBlock		    "Sum"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Gain2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "web"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Vdq2->Idq2"
		  Ports			  [1, 1]
		  Position		  [690, 368, 750, 432]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Vdq2->Idq2"
		    Location		    [521, 345, 942, 608]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 38, 55, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    Position		    [175, 149, 215, 181]
		    Orientation		    "left"
		    ShowName		    off
		    Gain		    "R/L"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain2"
		    Position		    [80, 29, 120, 61]
		    ShowName		    off
		    Gain		    "1/L"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain3"
		    Position		    [225, 202, 290, 238]
		    Orientation		    "left"
		    ShowName		    off
		    Gain		    "[-1 1]"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [275, 50, 305, 80]
		    InitialCondition	    "[0 0]"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector1"
		    Ports		    [1, 1]
		    Position		    [135, 201, 175, 239]
		    Orientation		    "left"
		    ShowName		    off
		    Elements		    "[2 1]"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [3, 1]
		    Position		    [165, 38, 190, 92]
		    ShowName		    off
		    Inputs		    "+-+"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "web"
		    Position		    [215, 49, 255, 81]
		    Gain		    "web"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [360, 58, 390, 72]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Gain2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Selector1"
		    SrcPort		    1
		    Points		    [-20, 0; 0, -135]
		    DstBlock		    "Sum"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Gain3"
		    SrcPort		    1
		    DstBlock		    "Selector1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    Points		    [-35, 0; 0, -100]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 100; 0, 0]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Gain3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Gain2"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "web"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "web"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "a/3"
		  Position		  [185, 245, 215, 275]
		  Gain			  "1/3*exp(j*2*pi/3)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "conj"
		  Position		  [650, 223, 685, 257]
		  ShowName		  off
		  Gain			  "-1"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Pe"
		  Position		  [940, 203, 970, 217]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Idq1"
		  Position		  [805, 298, 835, 312]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Idq2"
		  Position		  [805, 393, 835, 407]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "conj"
		  SrcPort		  1
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag1"
		  SrcPort		  2
		  Points		  [15, 0]
		  DstBlock		  "conj"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag1"
		  SrcPort		  1
		  Points		  [95, 0]
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Real-Imag to\nComplex"
		  SrcPort		  1
		  Points		  [25, 0; 0, -20]
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  Name			  "E"
		  SrcBlock		  "Magnitude-Angle\nto Complex1"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Complex to\nReal-Imag1"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [2, 0]
		    Points		    [0, -90]
		    DstBlock		    "Sum1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag"
		  SrcPort		  1
		  DstBlock		  "Pe"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Complex to\nReal-Imag"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1/Z1"
		  SrcPort		  1
		  Points		  [5, 0; 0, 85]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  Name			  "U1=E1-V1"
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Labels		    [-1, 0]
		    DstBlock		    "1/Z1"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [2, 0]
		    Points		    [0, 190]
		    DstBlock		    "Complex to\nReal-Imag2"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "V1"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "delta"
		  SrcPort		  1
		  Points		  [30, 0; 0, -40]
		  DstBlock		  "Magnitude-Angle\nto Complex1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "e"
		  SrcPort		  1
		  DstBlock		  "Magnitude-Angle\nto Complex1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 90]
		    DstBlock		    "Gain1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [30, 0; 0, -55]
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "a/3"
		  SrcPort		  1
		  Points		  [35, 0; 0, -50]
		  DstBlock		  "Sum4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vab Vbc cmplx"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [45, 0; 0, 45]
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [30, 0]
		  Branch {
		    Points		    [0, 130]
		    DstBlock		    "a/3"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "(a^2)/3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "(a^2)/3"
		  SrcPort		  1
		  Points		  [40, 0; 0, -20]
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  Name			  "V2"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  Points		  [0, 195]
		  DstBlock		  "-1"
		  DstPort		  1
		}
		Line {
		  Name			  "-V2"
		  Labels		  [0, 0]
		  SrcBlock		  "-1"
		  SrcPort		  1
		  DstBlock		  "Complex to\nReal-Imag3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag2"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag2"
		  SrcPort		  2
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag3"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag3"
		  SrcPort		  2
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "Vdq1->Idq1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "Vdq2->Idq2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vdq1->Idq1"
		  SrcPort		  1
		  DstBlock		  "Idq1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vdq2->Idq2"
		  SrcPort		  1
		  DstBlock		  "Idq2"
		  DstPort		  1
		}
		Annotation {
		  Name			  "I2= -V2/Z"
		  Position		  [89, 426]
		}
		Annotation {
		  Name			  "I1= (E-V1)/Z"
		  Position		  [94, 401]
		}
		Annotation {
		  Name			  "V1= 1/3(Vab -a^2*Vbc)"
		  Position		  [115, 339]
		}
		Annotation {
		  Name			  "V2= 1/3(Vab -a*Vbc)"
		  Position		  [110, 364]
		}
	      }
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator"
	      Ports		      [1, 1]
	      Position		      [490, 320, 520, 350]
	      Orientation	      "left"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "LL2LN"
	      Ports		      [1, 1]
	      Position		      [340, 132, 415, 168]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		1
		Name			"Line-to-neutral voltages"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"LL2LN"
		Location		[338, 402, 815, 643]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vab_bc"
		  Position		  [25, 43, 55, 57]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1/3"
		  Position		  [90, 35, 130, 65]
		  ShowName		  off
		  Gain			  "1/3"
		}
		Block {
		  BlockType		  Gain
		  Name			  "2"
		  Position		  [205, 25, 245, 55]
		  ShowName		  off
		  Gain			  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [145, 31, 150, 69]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [3, 1]
		  Position		  [360, 24, 365, 166]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [270, 30, 290, 70]
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "Van"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [2, 1]
		  Position		  [270, 75, 290, 115]
		  ShowName		  off
		  Inputs		  "+-"
		  Port {
		    PortNumber		    1
		    Name		    "Vbn"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  Ports			  [2, 1]
		  Position		  [319, 115, 341, 130]
		  Orientation		  "down"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Inputs		  "--"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vabc_n"
		  Position		  [390, 88, 420, 102]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 25]
		    DstBlock		    "Sum2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, 65]
		    DstBlock		    "Sum2"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "1/3"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "Vabc_n"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vab_bc"
		  SrcPort		  1
		  DstBlock		  "1/3"
		  DstPort		  1
		}
		Line {
		  Name			  "Van"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    DstBlock		    "Sum6"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "Vbn"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [20, 0; 10, 0]
		  Branch {
		    DstBlock		    "Sum6"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  Points		  [0, 5]
		  DstBlock		  "Mux2"
		  DstPort		  3
		}
		Annotation {
		  Name			  "Vcn= -Van -  Vbn"
		  Position		  [89, 206]
		}
		Annotation {
		  Name			  "Vbn=(Vbc - Vab)/3"
		  Position		  [89, 186]
		}
		Annotation {
		  Name			  "Van=(2*Vab+Vbc))/3"
		  Position		  [94, 166]
		}
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [3, 1]
	      Position		      [720, 91, 725, 149]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Phasors Ia Ib"
	      Ports		      [2, 2]
	      Position		      [380, 445, 450, 505]
	      BackgroundColor	      "magenta"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Phasors Ia Ib"
		Location		[58, 324, 783, 689]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Idq1"
		  Position		  [30, 58, 60, 72]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Idq2"
		  Position		  [25, 198, 55, 212]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [90, 45, 95, 80]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [90, 187, 95, 218]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [470, 61, 475, 99]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "ia ib"
		    PropagatedSignals	    ", "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [575, 136, 580, 174]
		  ShowName		  off
		  Inputs		  "[2 1]"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  RealImagToComplex
		  Name			  "Real-Imag to\nComplex"
		  Ports			  [2, 1]
		  Position		  [185, 48, 215, 77]
		  ShowName		  off
		  Input			  "Real and imag"
		  Port {
		    PortNumber		    1
		    Name		    " I1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  RealImagToComplex
		  Name			  "Real-Imag to\nComplex2"
		  Ports			  [2, 1]
		  Position		  [185, 188, 215, 217]
		  ShowName		  off
		  Input			  "Real and imag"
		  Port {
		    PortNumber		    1
		    Name		    "I2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [1, 1]
		  Position		  [475, 130, 495, 145]
		  Orientation		  "down"
		  ShowName		  off
		  Inputs		  "1"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [410, 280, 430, 300]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [385, 60, 405, 80]
		  ShowName		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "a"
		  Position		  [330, 295, 370, 335]
		  Gain			  "exp(j*2*pi/3)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "a^2"
		  Position		  [330, 235, 370, 275]
		  Gain			  "exp(-j*2*pi/3)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "inv"
		  Position		  [510, 148, 535, 182]
		  ShowName		  off
		  Gain			  "-1"
		  Port {
		    PortNumber		    1
		    Name		    "ic"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Iabc cmplx"
		  Position		  [625, 148, 655, 162]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Iab cmplx"
		  Position		  [630, 73, 660, 87]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  Name			  "I2"
		  Labels		  [0, 1]
		  SrcBlock		  "Real-Imag to\nComplex2"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    Points		    [0, 110]
		    DstBlock		    "a"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [-1, 0]
		    Points		    [100, 0; 0, -130]
		    DstBlock		    "Sum3"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Idq2"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  DstBlock		  "Real-Imag to\nComplex2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  DstBlock		  "Real-Imag to\nComplex2"
		  DstPort		  1
		}
		Line {
		  Name			  " I1"
		  Labels		  [0, 1]
		  SrcBlock		  "Real-Imag to\nComplex"
		  SrcPort		  1
		  Points		  [70, 0]
		  Branch {
		    Labels		    [-1, 1]
		    DstBlock		    "Sum3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 190]
		    DstBlock		    "a^2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "Iabc cmplx"
		  DstPort		  1
		}
		Line {
		  Name			  "ic"
		  Labels		  [0, 0]
		  SrcBlock		  "inv"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [0, 15]
		  DstBlock		  "inv"
		  DstPort		  1
		}
		Line {
		  Name			  "ia ib"
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [55, 0; 0, 0]
		    Branch {
		    Labels		    [2, 0]
		    Points		    [0, 65]
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Iab cmplx"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Idq1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [10, 0; 0, -200]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "a"
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "a^2"
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Annotation {
		  Name			  "Ib= a^2*I1 + a*I2"
		  Position		  [570, 269]
		}
		Annotation {
		  Name			  "Ia= I1 + I2"
		  Position		  [555, 244]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Subsystem"
	      Ports		      [6, 1]
	      Position		      [780, 205, 815, 310]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Subsystem"
		Location		[210, 384, 428, 714]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "i"
		  Position		  [20, 30, 40, 50]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "v"
		  Position		  [20, 75, 40, 95]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "e"
		  Position		  [20, 120, 40, 140]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "theta"
		  Position		  [20, 165, 40, 185]
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "wm"
		  Position		  [20, 210, 40, 230]
		  Port			  "5"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Pe"
		  Position		  [20, 255, 40, 275]
		  Port			  "6"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [125, 140, 160, 170]
		  Gain			  "[ ib2*ones(3,1); Vb3*ones(6,1); 1; "
"Nb; Pb ]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [6, 1]
		  Position		  [70, 18, 105, 287]
		  ShowName		  off
		  Inputs		  "[ 3 3 3 1 1 1 ]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "*"
		  Position		  [180, 145, 200, 165]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "*"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Pe"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  6
		}
		Line {
		  SrcBlock		  "wm"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "theta"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "e"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "v"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "i"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum6"
	      Ports		      [2, 1]
	      Position		      [385, 314, 405, 341]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Inputs		      "+-"
	      Port {
		PortNumber		1
		Name			"theta"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "ib1"
	      Position		      [745, 476, 775, 504]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Gain		      "ib"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "mechanics"
	      Ports		      [2, 2]
	      Position		      [340, 182, 415, 233]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('mec')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      Port {
		PortNumber		1
		Name			"delta"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		2
		Name			"w"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"mechanics"
		Location		[297, 389, 964, 566]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Pm"
		  Position		  [25, 80, 45, 100]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Pe"
		  Position		  [25, 45, 45, 65]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_(2*H)"
		  Position		  [335, 60, 360, 90]
		  NamePlacement		  "alternate"
		  Gain			  "1/(2*H)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Pb"
		  Position		  [65, 74, 100, 106]
		  ShowName		  off
		  Gain			  "1/Pb"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [325, 97, 365, 123]
		  Orientation		  "left"
		  ShowName		  off
		  Gain			  "Kd"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [390, 65, 410, 85]
		  ShowName		  off
		  InitialCondition	  "dwo"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  Ports			  [1, 1]
		  Position		  [530, 55, 550, 75]
		  ShowName		  off
		  InitialCondition	  "tho"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [160, 59, 195, 81]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [430, 37, 450, 88]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [295, 65, 315, 85]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [2, 1]
		  Position		  [115, 38, 135, 107]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "div"
		  Position		  [215, 61, 265, 79]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Expr			  "u[2]/u[1]"
		  MaskDisplay		  "disp('division')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Constant
		  Name			  "nom. speed"
		  Position		  [390, 40, 410, 60]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web"
		  Position		  [470, 48, 510, 82]
		  ShowName		  off
		  Gain			  "web"
		}
		Block {
		  BlockType		  Outport
		  Name			  "theta_e"
		  Position		  [575, 55, 595, 75]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "wm"
		  Position		  [575, 100, 595, 120]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Pm"
		  SrcPort		  1
		  DstBlock		  "1_Pb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_Pb"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "web"
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  DstBlock		  "theta_e"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "div"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Pe"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, -55; -310, 0]
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 45]
		    DstBlock		    "wm"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "web"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "1_(2*H)"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "div"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [-40, 0]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "1_(2*H)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "nom. speed"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [835, 482, 850, 498]
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [840, 252, 855, 268]
	      BackgroundColor	      "red"
	      NamePlacement	      "alternate"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      Points		      [10, 0; 0, 130]
	      DstBlock		      "Subsystem"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Complex to\nMagnitude-Angle1"
	      SrcPort		      1
	      DstBlock		      "Filter_T=1ms"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Line-to-neutral voltages"
	      Labels		      [0, 0]
	      SrcBlock		      "LL2LN"
	      SrcPort		      1
	      DstBlock		      "Complex to\nMagnitude-Angle1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Complex to\nMagnitude-Angle"
	      SrcPort		      1
	      Points		      [20, 0; 0, -240]
	      DstBlock		      "Subsystem"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Phasors Ia Ib"
	      SrcPort		      1
	      DstBlock		      "Complex to\nMagnitude-Angle"
	      DstPort		      1
	    }
	    Line {
	      Name		      "delta"
	      Labels		      [3, 1]
	      SrcBlock		      "mechanics"
	      SrcPort		      1
	      Points		      [55, 0; 0, 125]
	      DstBlock		      "Sum6"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Pe"
	      SrcBlock		      "Idq1 Idq2 Pe "
	      SrcPort		      1
	      Points		      [30, 0; 0, 35]
	      Branch {
		Points			[0, 75]
		DstBlock		"Subsystem"
		DstPort			6
	      }
	      Branch {
		DstBlock		"mechanics"
		DstPort			2
	      }
	    }
	    Line {
	      Name		      "theta"
	      SrcBlock		      "Sum6"
	      SrcPort		      1
	      Points		      [-255, 0; 0, -65]
	      Branch {
		Labels			[1, 0]
		DstBlock		"Subsystem"
		DstPort			4
	      }
	      Branch {
		Points			[0, -30]
		DstBlock		"Idq1 Idq2 Pe "
		DstPort			3
	      }
	    }
	    Line {
	      Name		      "w"
	      SrcBlock		      "mechanics"
	      SrcPort		      2
	      Points		      [225, 0; 0, 60]
	      DstBlock		      "Subsystem"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "Integrator"
	      SrcPort		      1
	      DstBlock		      "Sum6"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant4"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ib1"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Phasors Ia Ib"
	      SrcPort		      2
	      DstBlock		      "ib1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Internal volltage \nmagnitudes"
	      Labels		      [1, 1]
	      SrcBlock		      "e"
	      SrcPort		      1
	      Points		      [55, 0; 0, -45]
	      Branch {
		Points			[0, -90; 595, 0]
		Branch {
		  Points		  [0, 20]
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
		Branch {
		  Labels		  [1, 0]
		  Points		  [0, -20]
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
	      }
	      Branch {
		DstBlock		"Idq1 Idq2 Pe "
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "1_Vb"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Points			[0, -35]
		DstBlock		"LL2LN"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Idq1 Idq2 Pe "
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "1_Vb"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Subsystem"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "pm"
	      SrcPort		      1
	      Points		      [245, 0; 0, 110]
	      DstBlock		      "mechanics"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Idq1 Idq2 Pe "
	      SrcPort		      2
	      Points		      [20, 0; 0, 250]
	      DstBlock		      "Phasors Ia Ib"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Idq1 Idq2 Pe "
	      SrcPort		      3
	      Points		      [10, 0; 0, 255]
	      DstBlock		      "Phasors Ia Ib"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Filter_T=1ms"
	      SrcPort		      1
	      Points		      [25, 0; 0, 85]
	      DstBlock		      "Subsystem"
	      DstPort		      2
	    }
	    Annotation {
	      Name		      "ia ib complex"
	      Position		      [842, 464]
	    }
	    Annotation {
	      Name		      "Vab Vbc\ncomplex"
	      Position		      [30, 150]
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "synchronous_machine"
	  Ports			  [3, 2]
	  Position		  [130, 14, 180, 86]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Synchronous Machine Model"
	  MaskPromptString	  "Nom. power, L-L volt., freq. and [field cur"
".] [ Pn(VA) Vn(Vrms) fn(Hz) [ifn(A)] ]:|Stator [ Rs  Ll  Lmd  Lmq ] (pu):|Fie"
"ld [ Rf  Llfd ] (pu):|Dampers [ Rkd  Llkd  Rkq1  Llkq1  Rkq2  Llkq2 ] (pu):|C"
"oeff. of inertia, friction factor and pairs of poles [ H(s)  F(pu)  p() ]:|In"
"it. cond. [ dw(%)  th(deg)  ia,ib,ic(pu)  pha,phb,phc(deg)  Vf(pu) ]:|Simulat"
"e saturation|Saturation parameters [ ifd1,ifd2,... (p.u.) ; vt1,vt2,... (p.u."
") ]:|I/O units (check for S.I., otherwise p.u.):|Excitation voltage:"
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit,checkbox,edit"
",checkbox,popup(Field (d axis)|Damper 1 (q axis - used for testing only))"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "|||||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,,,,,"
	  MaskVariables		  "v1=@1;v2=@2;v3=@3;v4=@4;v5=@5;v6=@6;v9=@7;v"
"7=&8;v10=@9;excAxis=@10;"
	  MaskInitialization	  "if (~isempty(exist(v7)) & v9) sat=str2num(v"
"7);else sat=[]; end;\n[Rs,Ll,Lad,Laq,Rf,Llfd,Rkd,Rkq1,Rkq2,Llkd,Llkq1,Llkq2,H"
",F,p,dwo,tho,phido,phikdo,phifdo,phiqo,phikq1o,phikq2o,phib,Pb,Vb,Vb2,ib,ib2,"
"Nb,N,N2,phis,a]=powericonV2('Synchronous Machine Model',v1,v2,v3,v4,v5,v6,sat"
",0,v10,excAxis);\na5=a(1); a4=a(2); a3=a(3); a2=a(4); a1=a(5); a0=a(6); Lmd=v"
"2(3); Lmq=v2(4);\nweb=v1(3)*2*pi; one_third=1/3; sqrt3=sqrt(3);\n\n% Computat"
"ion of negative sequence impedance\n%  L\"d= Ll +1/(1/Lmd +1/Llfd + 1/Llkd)\n"
" Lsecd=v2(2)+1/(1/v2(3)+1/v3(2)+1/v4(2));\n%  L\"q= Ll +1/(1/Lmq +1/Llkq1 + 1"
"/Llkq2)\nLsecq=v2(2)+1/(1/v2(4)+1/v4(4)+1/v4(6));\n%L2=2(L\"d*L\"q/(L\"d+L\"q"
") (Kundur p881)\nL2_pu=2*(Lsecd*Lsecq/(Lsecd+Lsecq));\n\n% initial values of "
"Id Iq:  Idqo= mag(Ia) <( phi(Ia-)-thetao))\nIdqo=v6(3)*exp(j*(v6(6)-v6(2))*pi"
"/180);\nIdo=real(Idqo); Iqo=imag(Idqo);\n\nif strcmp('on',v10)\n   Gain1 = 3/"
"2;\nelse\n   Gain1 = 1;\nend\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "[3125000 2400 60]|[0.0036 0.031159262385890"
"7 1.52884073761411 1.02884073761411]|[0.000252115160438864 0.321093931414665]"
"|[0.0186554012805331 0.323797404426229 0.0635966848600831 0.169928530080505 0"
" Inf]|[1.07 0 2]|[0 -114.435 0.362123 0.362123 0.362123 -95.3524 144.648 24.6"
"476 1.52654]|off|0|off|Field (d axis)"
	  MaskTabNameString	  ",,,,,,,,,"
	  System {
	    Name		    "synchronous_machine"
	    Location		    [104, 413, 1116, 1063]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [25, 40, 45, 60]
	      BackgroundColor	      "yellow"
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "pm"
	      Position		      [425, 415, 445, 435]
	      BackgroundColor	      "yellow"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "vf"
	      Position		      [105, 285, 125, 305]
	      BackgroundColor	      "yellow"
	      Port		      "3"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "1_Vb"
	      Position		      [75, 31, 115, 69]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Gain		      "1/Vb"
	    }
	    Block {
	      BlockType		      ComplexToMagnitudeAngle
	      Name		      "Complex to\nMagnitude-Angle"
	      Ports		      [1, 1]
	      Position		      [920, 86, 950, 114]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Output		      "Magnitude"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant4"
	      Position		      [510, 463, 550, 487]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Value		      "web"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Delta angle"
	      Ports		      [2, 1]
	      Position		      [325, 525, 380, 565]
	      BackgroundColor	      "orange"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Delta angle"
		Location		[662, 472, 1039, 657]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vq"
		  Position		  [15, 73, 45, 87]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vd"
		  Position		  [75, 93, 105, 107]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Cartesian to\nPolar"
		  Ports			  [2, 2]
		  Position		  [130, 72, 165, 108]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "Cart2Polar"
		  MaskDescription	  "Transformation from cartesian to po"
"lar coordinates.\n[x, y] -> [r, theta]\n\nr = sqrt(x^2 + y^2);\ntheta = atan("
"y/x);"
		  MaskHelp		  "Unmask this block for more help."
		  MaskDisplay		  "plot(0,0,100,100,[24,20,15,20,20],["
"85,95,85,95,20],[80,20,95,85,95,85],[70,20,20,15,20,24],[56,56,55,52,50,46],["
"20,26,31,35,38,42])"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Cartesian to\nPolar"
		    Location		    [136, 183, 495, 389]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "x"
		    Position		    [20, 70, 40, 90]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "y"
		    Position		    [20, 129, 40, 151]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    Ports		    [2, 1]
		    Position		    [75, 96, 105, 129]
		    Inputs		    "2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "x->r"
		    Position		    [155, 72, 260, 98]
		    Expr		    "hypot(u[1],u[2])"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "x->theta"
		    Position		    [160, 129, 265, 151]
		    Expr		    "atan2(u[2],u[1])"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "r"
		    Position		    [295, 75, 315, 95]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "theta"
		    Position		    [295, 130, 315, 150]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "x->theta"
		    SrcPort		    1
		    DstBlock		    "theta"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "y"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "x"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "x->r"
		    SrcPort		    1
		    DstBlock		    "r"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    Points		    [15, 0; 0, 0]
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "x->r"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "x->theta"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Radians\nto Degrees"
		  Ports			  [1, 1]
		  Position		  [200, 91, 230, 109]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskType		  "RadiansToDegrees"
		  MaskDescription	  "Conversion from Radians to Degrees."
"\n\nD=180/pi*R"
		  MaskHelp		  "This block converts from Radians to"
" Degrees."
		  MaskDisplay		  "disp('R2D')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  Port {
		    PortNumber		    1
		    Name		    "delta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		  System {
		    Name		    "Radians\nto Degrees"
		    Location		    [337, 532, 542, 629]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Radians\nin"
		    Position		    [15, 25, 35, 45]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [60, 17, 110, 53]
		    ShowName		    off
		    Gain		    "180/pi"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Degrees\nout"
		    Position		    [135, 25, 155, 45]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Radians\nin"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Degrees\nout"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator2"
		  Position		  [205, 74, 225, 86]
		  ShowName		  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "delta"
		  Position		  [295, 93, 325, 107]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Vd"
		  SrcPort		  1
		  DstBlock		  "Cartesian to\nPolar"
		  DstPort		  2
		}
		Line {
		  Name			  "delta"
		  Labels		  [0, 0]
		  SrcBlock		  "Radians\nto Degrees"
		  SrcPort		  1
		  DstBlock		  "delta"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vq"
		  SrcPort		  1
		  DstBlock		  "Cartesian to\nPolar"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Cartesian to\nPolar"
		  SrcPort		  1
		  DstBlock		  "Terminator2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Cartesian to\nPolar"
		  SrcPort		  2
		  DstBlock		  "Radians\nto Degrees"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      StateSpace
	      Name		      "Filter_Iabc_T=1ms"
	      Position		      [835, 83, 895, 117]
	      Orientation	      "left"
	      A			      "-1e3*eye(3)"
	      B			      "1e3*eye(3)"
	      C			      "eye(3)"
	      D			      "zeros(3)"
	      Port {
		PortNumber		1
		Name			"iabc"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      StateSpace
	      Name		      "Filter_vqd_T=1ms"
	      Position		      [595, 53, 655, 87]
	      A			      "-1e3*eye(2)"
	      B			      "1e3*eye(2)"
	      C			      "eye(2)"
	      D			      "zeros(2)"
	      X0		      "[phido -phiqo]"
	      Port {
		PortNumber		1
		Name			"vq,vd"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator"
	      Ports		      [1, 1]
	      Position		      [570, 460, 600, 490]
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator2"
	      Ports		      [1, 1]
	      Position		      [685, 400, 705, 420]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      InitialCondition	      "tho"
	      Port {
		PortNumber		1
		Name			"d_theta (rad)"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      Ports		      [9, 1]
	      Position		      [780, 114, 785, 266]
	      ShowName		      off
	      Inputs		      "[ 3 8 2 4 1 1 1 1 1]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux2"
	      Ports		      [2, 1]
	      Position		      [285, 50, 290, 85]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	      Port {
		PortNumber		1
		Name			"vq,vd"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "PQ"
	      Ports		      [3, 2]
	      Position		      [555, 566, 595, 624]
	      BackgroundColor	      "orange"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"PQ"
		Location		[13, 76, 958, 559]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vq"
		  Position		  [140, 48, 170, 62]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vd"
		  Position		  [140, 88, 170, 102]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  PortDimensions	  "1"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Iq"
		  Position		  [110, 158, 140, 172]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  PortDimensions	  "2"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  Ports			  [1, 2]
		  Position		  [165, 146, 170, 184]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "[1,1]"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [465, 70, 495, 100]
		  Gain			  "Gain1"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [465, 225, 495, 255]
		  NamePlacement		  "alternate"
		  Gain			  "Gain1"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [295, 48, 325, 77]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product3"
		  Ports			  [2, 1]
		  Position		  [295, 88, 325, 117]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product4"
		  Ports			  [2, 1]
		  Position		  [295, 203, 325, 232]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product5"
		  Ports			  [2, 1]
		  Position		  [295, 243, 325, 272]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [360, 46, 390, 124]
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "Peo"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [360, 201, 390, 279]
		  ShowName		  off
		  Inputs		  "+-"
		  Port {
		    PortNumber		    1
		    Name		    "Qeo"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Peo"
		  Position		  [565, 78, 595, 92]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Qeo"
		  Position		  [555, 233, 585, 247]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [80, 0; 0, 0]
		  Branch {
		    Points		    [0, 110]
		    DstBlock		    "Product5"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -85]
		    DstBlock		    "Product2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Iq"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Qeo"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "Peo"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product3"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product4"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product5"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  Name			  "Peo"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  Name			  "Qeo"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vd"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    Points		    [0, 0]
		    DstBlock		    "Product3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 155]
		    DstBlock		    "Product5"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Vq"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    DstBlock		    "Product2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 155]
		    DstBlock		    "Product4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [60, 0]
		  Branch {
		    Points		    [35, 0; 0, -65]
		    DstBlock		    "Product3"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Product4"
		    DstPort		    2
		  }
		}
		Annotation {
		  Name			  "P = Vd*Id + Vq*Iq"
		  Position		  [222, 298]
		  FontName		  "Arial"
		  FontSize		  14
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "Q = Vq*Id-Vd*Iq"
		  Position		  [217, 323]
		  FontName		  "Arial"
		  FontSize		  14
		  FontWeight		  "bold"
		}
		Annotation {
		  Name			  "PQ Measurement:"
		  Position		  [87, 298]
		  FontName		  "Arial"
		  FontSize		  14
		  FontWeight		  "bold"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Phasors Ia Ib"
	      Ports		      [3, 2]
	      Position		      [860, 217, 935, 273]
	      BackgroundColor	      "magenta"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Phasors Ia Ib"
		Location		[58, 324, 970, 724]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Idq1"
		  Position		  [25, 48, 55, 62]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "d_theta"
		  Position		  [95, 123, 125, 137]
		  NamePlacement		  "alternate"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "I2_cmplx"
		  Position		  [20, 193, 50, 207]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		  Port {
		    PortNumber		    1
		    Name		    "I2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [85, 36, 90, 74]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  Position		  [185, 115, 215, 145]
		  ShowName		  off
		  Gain			  "j"
		}
		Block {
		  BlockType		  Math
		  Name			  "Math\nFunction"
		  Ports			  [1, 1]
		  Position		  [240, 115, 270, 145]
		  ShowName		  off
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [620, 61, 625, 99]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "ia ib"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [725, 136, 730, 174]
		  ShowName		  off
		  Inputs		  "[2 1]"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [345, 46, 375, 79]
		  ShowName		  off
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "I1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  RealImagToComplex
		  Name			  "Real-Imag to\nComplex"
		  Ports			  [2, 1]
		  Position		  [180, 38, 210, 67]
		  ShowName		  off
		  Input			  "Real and imag"
		  Port {
		    PortNumber		    1
		    Name		    "I1 machine"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [1, 1]
		  Position		  [625, 130, 645, 145]
		  Orientation		  "down"
		  ShowName		  off
		  Inputs		  "1"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [560, 280, 580, 300]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [535, 60, 555, 80]
		  ShowName		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "a"
		  Position		  [485, 310, 525, 350]
		  Gain			  "exp(j*2*pi/3)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "a^2"
		  Position		  [480, 235, 520, 275]
		  Gain			  "exp(-j*2*pi/3)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "inv"
		  Position		  [660, 148, 685, 182]
		  ShowName		  off
		  Gain			  "-1"
		  Port {
		    PortNumber		    1
		    Name		    "ic"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Ia Ib cmplx"
		  Position		  [745, 73, 775, 87]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Iabc cmplx"
		  Position		  [830, 148, 860, 162]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "d_theta"
		  SrcPort		  1
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  Name			  "I1 machine"
		  Labels		  [0, 0]
		  SrcBlock		  "Real-Imag to\nComplex"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Math\nFunction"
		  SrcPort		  1
		  Points		  [30, 0; 0, -60]
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  DstBlock		  "Math\nFunction"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "Iabc cmplx"
		  DstPort		  1
		}
		Line {
		  Name			  "ic"
		  Labels		  [0, 0]
		  SrcBlock		  "inv"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [0, 15]
		  DstBlock		  "inv"
		  DstPort		  1
		}
		Line {
		  Name			  "ia ib"
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    Points		    [55, 0]
		    Branch {
		    Labels		    [2, 0]
		    Points		    [0, 65]
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Ia Ib cmplx"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [70, 0]
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Real-Imag to\nComplex"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Idq1"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  Name			  "I1"
		  Labels		  [0, 0]
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [0, 0; 55, 0]
		  Branch {
		    Labels		    [1, 0]
		    DstBlock		    "Sum3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 190]
		    DstBlock		    "a^2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [10, 0; 0, -200]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "a"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "a^2"
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  Name			  "I2"
		  Labels		  [0, 0]
		  SrcBlock		  "I2_cmplx"
		  SrcPort		  1
		  Points		  [345, 0]
		  Branch {
		    Labels		    [3, 1]
		    Points		    [65, 0; 0, -125]
		    DstBlock		    "Sum3"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 130]
		    DstBlock		    "a"
		    DstPort		    1
		  }
		}
		Annotation {
		  Name			  "add angle d_theta"
		  Position		  [223, 171]
		}
		Annotation {
		  Name			  "Ib= a^2*I1 + a*I2"
		  Position		  [775, 264]
		}
		Annotation {
		  Name			  "Ia= I1 + I2"
		  Position		  [760, 239]
		}
	      }
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector"
	      Ports		      [1, 1]
	      Position		      [730, 19, 760, 51]
	      ShowName		      off
	      Elements		      "[2 1]"
	      InputPortWidth	      "2"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Subsystem"
	      Ports		      [1, 2]
	      Position		      [160, 276, 195, 314]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Subsystem"
		Location		[219, 457, 548, 681]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vf"
		  Position		  [20, 28, 50, 42]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  Position		  [75, 46, 120, 64]
		  ShowName		  off
		  Value			  "excAxis"
		}
		Block {
		  BlockType		  Ground
		  Name			  "Ground2"
		  Position		  [150, 67, 165, 83]
		  ShowName		  off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [195, 24, 215, 86]
		  NamePlacement		  "alternate"
		  Threshold		  "1.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  Position		  [195, 124, 215, 186]
		  Threshold		  "1.5"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vkq1"
		  Position		  [245, 48, 275, 62]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vfd"
		  Position		  [245, 148, 275, 162]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Vkq1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "Vfd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 100]
		    DstBlock		    "Switch1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Vf"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 140]
		    DstBlock		    "Switch1"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Ground2"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Switch1"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum6"
	      Ports		      [2, 1]
	      Position		      [665, 454, 685, 481]
	      ShowName		      off
	      Inputs		      "+-"
	      Port {
		PortNumber		1
		Name			"d_theta"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Vd1 Vq1, I2\n"
	      Ports		      [2, 3]
	      Position		      [135, 33, 220, 87]
	      BackgroundColor	      "magenta"
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		2
		Name			"Vq"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"Vd1 Vq1, I2\n"
		Location		[32, 88, 882, 489]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vab Vbc cmplx"
		  Position		  [25, 113, 55, 127]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "d_theta"
		  Position		  [440, 148, 470, 162]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "(a^2)/3"
		  Position		  [180, 115, 210, 145]
		  Gain			  "1/3*exp(-j*2*pi/3)"
		}
		Block {
		  BlockType		  ComplexToRealImag
		  Name			  "Complex to\nReal-Imag1"
		  Ports			  [1, 2]
		  Position		  [695, 98, 725, 127]
		  ShowName		  off
		  Output		  "Real and imag"
		}
		Block {
		  BlockType		  ComplexToRealImag
		  Name			  "Complex to\nReal-Imag2"
		  Ports			  [1, 2]
		  Position		  [520, 268, 550, 297]
		  ShowName		  off
		  Output		  "Real and imag"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  Ports			  [1, 2]
		  Position		  [85, 101, 90, 139]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "2"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  Position		  [185, 40, 215, 70]
		  ShowName		  off
		  Gain			  "1/3"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  Position		  [185, 185, 215, 215]
		  ShowName		  off
		  Gain			  "1/3"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  Position		  [500, 140, 530, 170]
		  ShowName		  off
		  Gain			  "-j"
		}
		Block {
		  BlockType		  Math
		  Name			  "Math\nFunction"
		  Ports			  [1, 1]
		  Position		  [555, 140, 585, 170]
		  ShowName		  off
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [2, 1]
		  Position		  [565, 266, 570, 299]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [625, 96, 655, 129]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [340, 95, 360, 115]
		  ShowName		  off
		  Inputs		  "+-"
		  Port {
		    PortNumber		    1
		    Name		    "V1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  Ports			  [2, 1]
		  Position		  [345, 195, 365, 215]
		  ShowName		  off
		  Inputs		  "+-"
		  Port {
		    PortNumber		    1
		    Name		    "V2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Vdq2->Idq2"
		  Ports			  [1, 1]
		  Position		  [605, 254, 685, 316]
		  DropShadow		  on
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Vdq2->Idq2"
		    Location		    [119, 149, 887, 557]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "V2_dq"
		    Position		    [15, 38, 45, 52]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "-1/L2_pu"
		    Position		    [80, 26, 125, 64]
		    Gain		    "-1/L2_pu"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    Ports		    [1, 2]
		    Position		    [460, 47, 465, 78]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "2"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain3"
		    Position		    [220, 227, 285, 263]
		    Orientation		    "left"
		    ShowName		    off
		    Gain		    "[-1 1]"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain4"
		    Position		    [210, 49, 255, 81]
		    ShowName		    off
		    Gain		    "web"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [270, 50, 300, 80]
		    InitialCondition	    "[0 0]"
		    Port {
		    PortNumber		    1
		    Name		    "I2_dq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "R2_pu/L2_pu\n(X2/R2=30)"
		    Position		    [175, 149, 215, 181]
		    Orientation		    "left"
		    Gain		    "1/30"
		    }
		    Block {
		    BlockType		    RealImagToComplex
		    Name		    "Real-Imag to\nComplex"
		    Ports		    [2, 1]
		    Position		    [490, 48, 520, 77]
		    ShowName		    off
		    Input		    "Real and imag"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector1"
		    Ports		    [1, 1]
		    Position		    [135, 226, 175, 264]
		    Orientation		    "left"
		    ShowName		    off
		    Elements		    "[2 1]"
		    InputPortWidth	    "2"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [3, 1]
		    Position		    [165, 38, 190, 92]
		    ShowName		    off
		    Inputs		    "+-+"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "I2_cmplx"
		    Position		    [585, 58, 615, 72]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "V2_dq"
		    SrcPort		    1
		    DstBlock		    "-1/L2_pu"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Selector1"
		    SrcPort		    1
		    Points		    [-20, 0; 0, -160]
		    DstBlock		    "Sum"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Gain3"
		    SrcPort		    1
		    DstBlock		    "Selector1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "R2_pu/L2_pu\n(X2/R2=30)"
		    SrcPort		    1
		    Points		    [-35, 0; 0, -100]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    Name		    "I2_dq"
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 100]
		    Branch {
		    Points		    [0, 80]
		    DstBlock		    "Gain3"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [1, 1]
		    DstBlock		    "R2_pu/L2_pu\n(X2/R2=30)"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "-1/L2_pu"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Gain4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain4"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "Real-Imag to\nComplex"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Real-Imag to\nComplex"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Real-Imag to\nComplex"
		    SrcPort		    1
		    DstBlock		    "I2_cmplx"
		    DstPort		    1
		    }
		    Annotation {
		    Name		    "Implementation of\nV=RI+L.dI/dt  "
"-> dI/dt=-R/L*I  - V\n\nIn dq components:\ndid/dt= w*(-r/l*id  +iq +vd/l)\ndi"
"q/dt= w*(-r/l*iq -id + vq/l)\nwhere r, l, i ,v are in pu"
		    Position		    [125, 344]
		    HorizontalAlignment	    "left"
		    FontSize		    12
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "a/3"
		  Position		  [185, 245, 215, 275]
		  Gain			  "1/3*exp(j*2*pi/3)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vd"
		  Position		  [760, 98, 790, 112]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Vq"
		  Position		  [760, 138, 790, 152]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "I2_cmplx"
		  Position		  [795, 278, 825, 292]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		}
		Line {
		  SrcBlock		  "Math\nFunction"
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Complex to\nReal-Imag1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  DstBlock		  "Math\nFunction"
		  DstPort		  1
		}
		Line {
		  Name			  "V2"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  Points		  [35, 0; 0, 80]
		  DstBlock		  "Complex to\nReal-Imag2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "(a^2)/3"
		  SrcPort		  1
		  Points		  [90, 0; 0, -20]
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "(a^2)/3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 130]
		    DstBlock		    "a/3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag1"
		  SrcPort		  1
		  DstBlock		  "Vd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag1"
		  SrcPort		  2
		  Points		  [5, 0; 0, 25]
		  DstBlock		  "Vq"
		  DstPort		  1
		}
		Line {
		  Name			  "V1"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "d_theta"
		  SrcPort		  1
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [85, 0; 0, 45]
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vab Vbc cmplx"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "a/3"
		  SrcPort		  1
		  Points		  [90, 0; 0, -50]
		  DstBlock		  "Sum4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [30, 0; 0, -55]
		    DstBlock		    "Gain"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 90]
		    DstBlock		    "Gain1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag2"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Complex to\nReal-Imag2"
		  SrcPort		  2
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "Vdq2->Idq2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vdq2->Idq2"
		  SrcPort		  1
		  DstBlock		  "I2_cmplx"
		  DstPort		  1
		}
		Annotation {
		  Name			  "Subtract angle d_theta"
		  Position		  [668, 161]
		}
		Annotation {
		  Name			  "I2=-V2/(R2+ j*X2)\nwhere X2=2(X''d*"
"X''q/(X\"d+X\"q) ; R2=X2/30 \n"
		  Position		  [627, 358]
		  ForegroundColor	  "red"
		  FontSize		  12
		}
		Annotation {
		  Name			  "V2= 1/3(Vab -a*Vbc)"
		  Position		  [115, 329]
		}
		Annotation {
		  Name			  "V1= 1/3(Vab -a^2*Vbc)"
		  Position		  [120, 304]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "currents and mutual fluxes"
	      Ports		      [6, 4]
	      Position		      [475, 100, 545, 220]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		2
		Name			"iq,id,ifd,ikq1,ikq2,ikd,phimq,phimd"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		3
		Name			"iq,id"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"currents and mutual fluxes"
		Location		[399, 79, 966, 755]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "phiq"
		  Position		  [20, 35, 40, 55]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phikq2"
		  Position		  [20, 125, 40, 145]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phid"
		  Position		  [20, 485, 40, 505]
		  BackgroundColor	  "yellow"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phifd"
		  Position		  [20, 530, 40, 550]
		  BackgroundColor	  "yellow"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phikq1"
		  Position		  [20, 80, 40, 100]
		  BackgroundColor	  "yellow"
		  Port			  "5"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phikd"
		  Position		  [20, 575, 40, 595]
		  BackgroundColor	  "yellow"
		  Port			  "6"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "-1_Ll"
		  Position		  [240, 147, 265, 173]
		  Gain			  "-1/Ll"
		  Port {
		    PortNumber		    1
		    Name		    "iq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "-1_Ll "
		  Position		  [240, 322, 265, 348]
		  Gain			  "-1/Ll"
		  Port {
		    PortNumber		    1
		    Name		    "id"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Llfd"
		  Position		  [240, 372, 265, 398]
		  Gain			  "1/Llfd"
		  Port {
		    PortNumber		    1
		    Name		    "ifd"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Llkd"
		  Position		  [240, 422, 265, 448]
		  Gain			  "1/Llkd"
		  Port {
		    PortNumber		    1
		    Name		    "ikd"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Llkq1"
		  Position		  [240, 187, 265, 213]
		  Gain			  "1/Llkq1"
		  Port {
		    PortNumber		    1
		    Name		    "ikq1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Llkq2"
		  Position		  [240, 232, 265, 258]
		  Gain			  "1/Llkq2"
		  Port {
		    PortNumber		    1
		    Name		    "ikq2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "Lad_Ll"
		  Position		  [90, 482, 115, 508]
		  Gain			  "Lad/Ll"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Lad_Llfd"
		  Position		  [90, 527, 115, 553]
		  Gain			  "Lad/Llfd"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Lad_Llkd"
		  Position		  [90, 572, 115, 598]
		  Gain			  "Lad/Llkd"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Laq_Ll"
		  Position		  [90, 32, 115, 58]
		  NamePlacement		  "alternate"
		  Gain			  "Laq/Ll"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Laq_Llkq1"
		  Position		  [90, 77, 115, 103]
		  Gain			  "Laq/Llkq1"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Laq_Llkq2"
		  Position		  [90, 122, 115, 148]
		  Gain			  "Laq/Llkq2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [310, 153, 315, 182]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  Ports			  [7, 1]
		  Position		  [345, 313, 350, 457]
		  ShowName		  off
		  Inputs		  "[2 1 1 1 1 1 1]"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Saturation"
		  Ports			  [2, 2]
		  Position		  [380, 230, 475, 310]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Saturation"
		    Location		    [222, 239, 743, 673]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "phimq_in"
		    Position		    [40, 188, 70, 202]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "phimd_in"
		    Position		    [40, 158, 70, 172]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion"
		    Position		    [240, 45, 280, 65]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion1"
		    Position		    [155, 275, 195, 295]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion2"
		    Position		    [75, 25, 90, 55]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion3"
		    Position		    [75, 55, 90, 85]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion4"
		    Position		    [90, 307, 135, 333]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    Position		    [300, 272, 325, 298]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Gain		    "2"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    Position		    [165, 307, 190, 333]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Gain		    "3"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator"
		    Ports		    [1, 1]
		    Position		    [120, 31, 155, 49]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator1"
		    Ports		    [1, 1]
		    Position		    [120, 61, 155, 79]
		    ShowName		    off
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator2"
		    Ports		    [2, 1]
		    Position		    [185, 24, 220, 86]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "Logical\nOperator3"
		    Ports		    [2, 1]
		    Position		    [115, 100, 155, 125]
		    Orientation		    "down"
		    NamePlacement	    "alternate"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    MultiPortSwitch
		    Name		    "Multiport\nSwitch"
		    Ports		    [4, 1]
		    Position		    [405, 312, 435, 358]
		    Inputs		    "3"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [3, 1]
		    Position		    [355, 275, 375, 295]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "+++"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [405, 160, 435, 190]
		    Threshold		    "0.5"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vs4"
		    Position		    [15, 28, 40, 52]
		    BackgroundColor	    "green"
		    ShowName		    off
		    Value		    "phis==1e6"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vs5"
		    Position		    [15, 58, 45, 82]
		    BackgroundColor	    "green"
		    ShowName		    off
		    Value		    "isinf(Llkq2)"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "d axis saturation"
		    Ports		    [1, 1, 1]
		    Position		    [245, 342, 325, 388]
		    TreatAsAtomicUnit	    on
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    Port {
		    PortNumber		    1
		    Name		    "phimds"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    System {
		    Name		    "d axis saturation"
		    Location		    [105, 302, 750, 478]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "phimd"
		    Position		    [15, 35, 35, 55]
		    BackgroundColor	    "yellow"
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [15, 90, 35, 110]
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Lad\\Lmd"
		    Position		    [435, 32, 460, 58]
		    NamePlacement	    "alternate"
		    Gain		    "Lad/Lmd"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [115, 74, 135, 96]
		    ShowName		    off
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum21"
		    Ports		    [2, 1]
		    Position		    [480, 35, 500, 55]
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|-+"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [530, 22, 565, 148]
		    ShowName		    off
		    Threshold		    "0.5"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vs"
		    Position		    [60, 80, 90, 100]
		    BackgroundColor	    "green"
		    ShowName		    off
		    Value		    "phis"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "polynomial approximation of exp"
		    Position		    [170, 34, 365, 56]
		    NamePlacement	    "alternate"
		    Expr		    "((((a5*u+a4)*u+a3)*u+a2)*u+a1)*u+"
"a0"
		    Port {
		    PortNumber		    1
		    Name		    "f(phimd)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimd\nsat."
		    Position		    [595, 75, 615, 95]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Vs"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum21"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    Name		    "f(phimd)"
		    FontSize		    10
		    Labels		    [0, 0]
		    SrcBlock		    "polynomial approximation of exp"
		    SrcPort		    1
		    DstBlock		    "Lad\\Lmd"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Lad\\Lmd"
		    SrcPort		    1
		    DstBlock		    "Sum21"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "phimd\nsat."
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "phimd"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 80]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [50, 0]
		    Branch {
		    Points		    [45, 0]
		    Branch {
		    DstBlock		    "polynomial approximation of exp"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Sum21"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "dq axis saturation"
		    Ports		    [2, 2, 1]
		    Position		    [245, 148, 325, 212]
		    TreatAsAtomicUnit	    on
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    System {
		    Name		    "dq axis saturation"
		    Location		    [144, 505, 867, 754]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "phimd"
		    Position		    [15, 45, 35, 65]
		    BackgroundColor	    "yellow"
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "phimq"
		    Position		    [15, 110, 35, 130]
		    BackgroundColor	    "yellow"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [60, 170, 80, 190]
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Lad\\Lmd"
		    Position		    [480, 35, 510, 65]
		    Gain		    "Lad/Lmd"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Laq\\Lmq"
		    Position		    [480, 120, 510, 150]
		    NamePlacement	    "alternate"
		    Gain		    "Laq/Lmq"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [80, 47, 110, 78]
		    ShowName		    off
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    Ports		    [2, 1]
		    Position		    [80, 97, 110, 128]
		    ShowName		    off
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    Ports		    [2, 1]
		    Position		    [395, 32, 425, 63]
		    ShowName		    off
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "f(phimd)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    Ports		    [2, 1]
		    Position		    [395, 117, 425, 148]
		    ShowName		    off
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "f(phimq)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		    }
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [220, 178, 240, 222]
		    NamePlacement	    "alternate"
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [125, 80, 145, 100]
		    ShowName		    off
		    IconShape		    "round"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [550, 13, 570, 62]
		    ShowName		    off
		    Inputs		    "+-"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    Ports		    [2, 1]
		    Position		    [550, 123, 570, 172]
		    ShowName		    off
		    Inputs		    "-+"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    Position		    [600, 32, 635, 88]
		    Threshold		    "0.5"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    Position		    [600, 142, 635, 198]
		    Threshold		    "0.5"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vs"
		    Position		    [150, 200, 190, 220]
		    BackgroundColor	    "green"
		    ShowName		    off
		    Value		    "phis^2"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "polynomial approximation of exp"
		    Position		    [165, 78, 350, 102]
		    NamePlacement	    "alternate"
		    Expr		    "((((a5*u+a4)*u+a3)*u+a2)*u+a1)*u+"
"a0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimq\nsat."
		    Position		    [665, 160, 685, 180]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimd\nsat."
		    Position		    [665, 50, 685, 70]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    OutputWhenDisabled	    "reset"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "phimd\nsat."
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "phimq\nsat."
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vs"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    Points		    [335, 0; 0, -30]
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -110]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "polynomial approximation of exp"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Laq\\Lmq"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Lad\\Lmd"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    Name		    "f(phimq)"
		    Labels		    [0, 0]
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "Laq\\Lmq"
		    DstPort		    1
		    }
		    Line {
		    Name		    "f(phimd)"
		    Labels		    [0, 0]
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "Lad\\Lmd"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "polynomial approximation of exp"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "phimq"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 20; 305, 0]
		    Branch {
		    Points		    [0, 20; 160, 0]
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "phimd"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, -15; 305, 0]
		    Branch {
		    Points		    [0, -15; 160, 0]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimq_out"
		    Position		    [460, 168, 490, 182]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phimd_out"
		    Position		    [465, 328, 495, 342]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion4"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion3"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Logical\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Vs5"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion1"
		    SrcPort		    1
		    Points		    [85, 0]
		    Branch {
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "d axis saturation"
		    DstPort		    enable
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator3"
		    SrcPort		    1
		    Points		    [0, 155]
		    DstBlock		    "Data Type \nConversion1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion"
		    SrcPort		    1
		    Points		    [0, 65]
		    Branch {
		    Points		    [80, 0; 0, 55]
		    Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "dq axis saturation"
		    DstPort		    enable
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator2"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "phimq_out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Multiport\nSwitch"
		    SrcPort		    1
		    DstBlock		    "phimd_out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator"
		    SrcPort		    1
		    Points		    [5, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Logical\nOperator3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Logical\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    Points		    [170, 0]
		    DstBlock		    "Sum"
		    DstPort		    3
		    }
		    Line {
		    Name		    "phimds"
		    Labels		    [0, 0]
		    SrcBlock		    "d axis saturation"
		    SrcPort		    1
		    Points		    [5, 0; 0, -25]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "dq axis saturation"
		    SrcPort		    2
		    Points		    [5, 0; 0, 135]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [5, 0; 0, 35]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "phimq_in"
		    SrcPort		    1
		    Points		    [155, 0]
		    Branch {
		    Points		    [0, 40; 145, 0; 0, -50]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "dq axis saturation"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "dq axis saturation"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "phimd_in"
		    SrcPort		    1
		    Points		    [145, 0]
		    Branch {
		    Points		    [0, 200]
		    Branch {
		    Points		    [0, 45; 145, 0; 0, -60]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    4
		    }
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "d axis saturation"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "dq axis saturation"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion2"
		    SrcPort		    1
		    DstBlock		    "Logical\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vs4"
		    SrcPort		    1
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "Data Type \nConversion2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 80; -35, 0; 0, 200]
		    DstBlock		    "Data Type \nConversion4"
		    DstPort		    1
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum17"
		  Ports			  [2, 1]
		  Position		  [200, 143, 220, 172]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum18"
		  Ports			  [2, 1]
		  Position		  [200, 183, 220, 212]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum19"
		  Ports			  [2, 1]
		  Position		  [200, 418, 220, 447]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum20"
		  Ports			  [2, 1]
		  Position		  [200, 318, 220, 347]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum21"
		  Ports			  [2, 1]
		  Position		  [200, 368, 220, 397]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum22"
		  Ports			  [2, 1]
		  Position		  [200, 228, 220, 257]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "sum"
		  Ports			  [3, 1]
		  Position		  [140, 24, 160, 156]
		  ShowName		  off
		  Inputs		  "+++"
		  Port {
		    PortNumber		    1
		    Name		    "phimq"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "sum1"
		  Ports			  [3, 1]
		  Position		  [140, 474, 160, 606]
		  ShowName		  off
		  Inputs		  "+++"
		  Port {
		    PortNumber		    1
		    Name		    "phimd"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "phimq"
		  Position		  [505, 240, 525, 260]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "iq,id,ifd,\nikq1,ikq2,ikd,\nphimq,p"
"himd"
		  Position		  [505, 375, 525, 395]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "iq,id"
		  Position		  [505, 160, 525, 180]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phimd"
		  Position		  [505, 280, 525, 300]
		  BackgroundColor	  "red"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  2
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 40; -105, 0; 0, 160; -50, 0]
		    Branch {
		    DstBlock		    "Mux3"
		    DstPort		    7
		    }
		    Branch {
		    Points		    [-150, 0; 0, -65]
		    Branch {
		    DstBlock		    "Sum19"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -50]
		    Branch {
		    DstBlock		    "Sum21"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Sum20"
		    DstPort		    1
		    }
		    }
		    }
		  }
		  Branch {
		    DstBlock		    "phimd"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    "[0, -35; -110, 0; 0, -90; -195, 0"
"; 0, 25]"
		    Branch {
		    DstBlock		    "Sum17"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [-15, 0; 0, 235; 145, 0; 0, -45]
		    DstBlock		    "Mux3"
		    DstPort		    6
		    }
		    Branch {
		    DstBlock		    "Sum22"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Sum18"
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    DstBlock		    "phimq"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "phimd"
		  Labels		  [0, 0]
		  SrcBlock		  "sum1"
		  SrcPort		  1
		  Points		  [200, 0]
		  DstBlock		  "Saturation"
		  DstPort		  2
		}
		Line {
		  Name			  "phimq"
		  Labels		  [0, 0]
		  SrcBlock		  "sum"
		  SrcPort		  1
		  Points		  [200, 0]
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "iq,id,ifd,\nikq1,ikq2,ikd,\nphimq,p"
"himd"
		  DstPort		  1
		}
		Line {
		  Name			  "ikq2"
		  Labels		  [0, 0]
		  SrcBlock		  "1_Llkq2"
		  SrcPort		  1
		  Points		  [35, 0; 0, 140]
		  DstBlock		  "Mux3"
		  DstPort		  4
		}
		Line {
		  Name			  "ikq1"
		  Labels		  [0, 0]
		  SrcBlock		  "1_Llkq1"
		  SrcPort		  1
		  Points		  [45, 0; 0, 165]
		  DstBlock		  "Mux3"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum20"
		  SrcPort		  1
		  DstBlock		  "-1_Ll "
		  DstPort		  1
		}
		Line {
		  Name			  "id"
		  Labels		  [0, 0]
		  SrcBlock		  "-1_Ll "
		  SrcPort		  1
		  Points		  [25, 0]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum21"
		  SrcPort		  1
		  DstBlock		  "1_Llfd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum19"
		  SrcPort		  1
		  DstBlock		  "1_Llkd"
		  DstPort		  1
		}
		Line {
		  Name			  "ifd"
		  Labels		  [0, 0]
		  SrcBlock		  "1_Llfd"
		  SrcPort		  1
		  Points		  [25, 0; 0, -40]
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  Name			  "ikd"
		  Labels		  [0, 0]
		  SrcBlock		  "1_Llkd"
		  SrcPort		  1
		  Points		  [25, 0; 0, -30]
		  DstBlock		  "Mux3"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "Sum18"
		  SrcPort		  1
		  DstBlock		  "1_Llkq1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum17"
		  SrcPort		  1
		  DstBlock		  "-1_Ll"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum22"
		  SrcPort		  1
		  DstBlock		  "1_Llkq2"
		  DstPort		  1
		}
		Line {
		  Name			  "iq"
		  Labels		  [0, 0]
		  SrcBlock		  "-1_Ll"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "iq,id"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 155]
		    DstBlock		    "Mux3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Lad_Llkd"
		  SrcPort		  1
		  DstBlock		  "sum1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Lad_Llfd"
		  SrcPort		  1
		  DstBlock		  "sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Lad_Ll"
		  SrcPort		  1
		  DstBlock		  "sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phifd"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Lad_Llfd"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -150]
		    DstBlock		    "Sum21"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "phid"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, -155]
		    DstBlock		    "Sum20"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Lad_Ll"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "phikd"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "Lad_Llkd"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -145]
		    DstBlock		    "Sum19"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "phiq"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    DstBlock		    "Laq_Ll"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 120]
		    DstBlock		    "Sum17"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Laq_Ll"
		  SrcPort		  1
		  DstBlock		  "sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Laq_Llkq2"
		  SrcPort		  1
		  DstBlock		  "sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Laq_Llkq1"
		  SrcPort		  1
		  DstBlock		  "sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phikq2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Laq_Llkq2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 115]
		    DstBlock		    "Sum22"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "phikq1"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Laq_Llkq1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 115]
		    DstBlock		    "Sum18"
		    DstPort		    2
		  }
		}
		Annotation {
		  Name			  "This subsystem computes the mutual "
"fluxes phimd\nand phimq and all direct and quadrature axis         \ncurrents"
" in the model.                                          "
		  Position		  [302, 577]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "ib"
	      Position		      [1020, 200, 1045, 230]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Gain		      "ib"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "mec"
	      Ports		      [4, 4]
	      Position		      [495, 372, 555, 433]
	      NamePlacement	      "alternate"
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		1
		Name			"d_theta,n,Pe,dw"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		2
		Name			"theta=wt"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		4
		Name			"Te"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"mec"
		Location		[49, 419, 741, 734]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "iq,id "
		  Position		  [15, 215, 35, 235]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phid"
		  Position		  [15, 145, 35, 165]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phiq"
		  Position		  [15, 180, 35, 200]
		  BackgroundColor	  "yellow"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Pm"
		  Position		  [15, 60, 35, 80]
		  BackgroundColor	  "yellow"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_(2H)"
		  Position		  [265, 65, 290, 95]
		  NamePlacement		  "alternate"
		  Gain			  "1/(2*H)"
		}
		Block {
		  BlockType		  Gain
		  Name			  "1_Pb"
		  Position		  [70, 56, 100, 84]
		  ShowName		  off
		  Gain			  "1/Pb"
		}
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  Position		  [360, 120, 380, 140]
		  Decimation		  "10"
		}
		Block {
		  BlockType		  Gain
		  Name			  "F"
		  Position		  [270, 93, 300, 127]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "F"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [1, 1]
		  Position		  [315, 70, 335, 90]
		  ShowName		  off
		  InitialCondition	  "dwo"
		  Port {
		    PortNumber		    1
		    Name		    "dw"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator2"
		  Ports			  [1, 1]
		  Position		  [465, 60, 485, 80]
		  ShowName		  off
		  InitialCondition	  "tho"
		  Port {
		    PortNumber		    1
		    Name		    "d_theta (rad)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  Ports			  [3, 1]
		  Position		  [55, 136, 85, 244]
		  ShowName		  off
		  Inputs		  "[ 1 1 2 ]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  Ports			  [2, 1]
		  Position		  [120, 54, 155, 76]
		  ShowName		  off
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  Ports			  [4, 1]
		  Position		  [570, 93, 605, 242]
		  ShowName		  off
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [405, 173, 435, 197]
		  ShowName		  off
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "Pe"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [2, 1]
		  Position		  [365, 43, 385, 92]
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "n"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [220, 60, 240, 100]
		  ShowName		  off
		  Inputs		  "+--"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [510, 60, 530, 100]
		  ShowName		  off
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Te"
		  Position		  [100, 179, 190, 201]
		  Expr			  "u[1]*u[3]-u[2]*u[4]"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "div"
		  Position		  [175, 55, 195, 75]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Expr			  "u[2]/u[1]"
		  MaskDisplay		  "disp('/')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Constant
		  Name			  "nom. speed"
		  Position		  [315, 45, 335, 65]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web1"
		  Position		  [420, 55, 445, 85]
		  NamePlacement		  "alternate"
		  Gain			  "web"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web2"
		  Position		  [440, 115, 465, 145]
		  NamePlacement		  "alternate"
		  Gain			  "web"
		}
		Block {
		  BlockType		  Outport
		  Name			  "misc"
		  Position		  [625, 160, 645, 180]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "thetae"
		  Position		  [625, 70, 645, 90]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "we"
		  Position		  [625, 20, 645, 40]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Te "
		  Position		  [630, 250, 650, 270]
		  BackgroundColor	  "red"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  Name			  "d_theta (rad)"
		  SrcBlock		  "Integrator2"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Labels		    [-1, 1]
		    Points		    [0, 45]
		    DstBlock		    "Mux2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "web2"
		  SrcPort		  1
		  Points		  [5, 0; 0, -40]
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  DstBlock		  "web2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "web1"
		  SrcPort		  1
		  DstBlock		  "Integrator2"
		  DstPort		  1
		}
		Line {
		  Name			  "dw"
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 30]
		    Branch {
		    Points		    [0, 0]
		    Branch {
		    Points		    [55, 0]
		    DstBlock		    "web1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "F"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Labels		    [-1, 1]
		    Points		    [0, 110]
		    DstBlock		    "Mux2"
		    DstPort		    4
		    }
		  }
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		}
		Line {
		  Name			  "Pe"
		  Labels		  [-1, 0]
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "nom. speed"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_(2H)"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "div"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phiq"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phid"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "iq,id "
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Te"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -110]
		    DstBlock		    "Sum2"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 70]
		    DstBlock		    "Te "
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Te"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "div"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Pm"
		  SrcPort		  1
		  DstBlock		  "1_Pb"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1_Pb"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "F"
		  SrcPort		  1
		  Points		  [-60, 0]
		  DstBlock		  "Sum2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "1_(2H)"
		  DstPort		  1
		}
		Line {
		  Name			  "n"
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    Points		    [0, 80]
		    Branch {
		    Labels		    [-1, 0]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, -40]
		    Branch {
		    DstBlock		    "we"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-285, 0]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "misc"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "thetae"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem models the mechanica"
"l part of the machine."
		  Position		  [347, 287]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "output scaling factors"
	      Position		      [865, 155, 890, 185]
	      Gain		      "[ib2*ones(1,5),N2,ib2,ib2,ib2,phib,phib"
",Vb2,Vb2,1,Nb,Pb,1,1,Pb/Nb,1,Gain1,Gain1]"
	      SaturateOnIntegerOverflow	off
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phid"
	      Ports		      [4, 1]
	      Position		      [370, 238, 405, 282]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phid')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phid"
		Location		[617, 543, 1009, 744]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "w"
		  Position		  [50, 15, 70, 35]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phiq"
		  Position		  [15, 40, 35, 60]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "vd"
		  Position		  [50, 65, 70, 85]
		  BackgroundColor	  "yellow"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phimd"
		  Position		  [15, 95, 35, 115]
		  BackgroundColor	  "yellow"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  Ports			  [2, 1]
		  Position		  [95, 14, 125, 61]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rs_Ll"
		  Position		  [130, 97, 155, 123]
		  Gain			  "Rs/Ll"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  Ports			  [3, 1]
		  Position		  [175, 19, 200, 131]
		  ShowName		  off
		  Inputs		  "+++"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum9"
		  Ports			  [2, 1]
		  Position		  [90, 100, 110, 120]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "int"
		  Ports			  [1, 1]
		  Position		  [275, 65, 295, 85]
		  ShowName		  off
		  InitialCondition	  "phido"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web"
		  Position		  [220, 59, 255, 91]
		  ShowName		  off
		  Gain			  "web"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phid"
		  Position		  [330, 65, 350, 85]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "int"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 70; -230, 0]
		    DstBlock		    "Sum9"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "phid"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "web"
		  SrcPort		  1
		  DstBlock		  "int"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "web"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rs_Ll"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum9"
		  SrcPort		  1
		  DstBlock		  "Rs_Ll"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phiq"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "vd"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phimd"
		  SrcPort		  1
		  DstBlock		  "Sum9"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem computes the direct "
"axis flux phid."
		  Position		  [182, 157]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phifd"
	      Ports		      [2, 1]
	      Position		      [375, 294, 410, 336]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phifd')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phifd"
		Location		[678, 76, 1071, 268]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "vfd"
		  Position		  [25, 40, 45, 60]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phimd"
		  Position		  [25, 75, 45, 95]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "N"
		  Position		  [95, 37, 130, 63]
		  ShowName		  off
		  Gain			  "N"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rf_Llfd"
		  Position		  [115, 77, 140, 103]
		  Gain			  "Rf/Llfd"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum10"
		  Ports			  [2, 1]
		  Position		  [80, 80, 100, 100]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  Ports			  [2, 1]
		  Position		  [160, 30, 185, 110]
		  ShowName		  off
		}
		Block {
		  BlockType		  Integrator
		  Name			  "int"
		  Ports			  [1, 1]
		  Position		  [260, 60, 280, 80]
		  ShowName		  off
		  InitialCondition	  "phifdo"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web"
		  Position		  [205, 54, 240, 86]
		  ShowName		  off
		  Gain			  "web"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phifd"
		  Position		  [340, 60, 360, 80]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "N"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vfd"
		  SrcPort		  1
		  DstBlock		  "N"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rf_Llfd"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum10"
		  SrcPort		  1
		  DstBlock		  "Rf_Llfd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phimd"
		  SrcPort		  1
		  DstBlock		  "Sum10"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "web"
		  SrcPort		  1
		  DstBlock		  "int"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "int"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "phifd"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 55; -225, 0]
		    DstBlock		    "Sum10"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "web"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem computes the field f"
"lux phifd."
		  Position		  [202, 137]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phikd"
	      Ports		      [2, 1]
	      Position		      [375, 344, 410, 386]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phikd')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phikd"
		Location		[867, 663, 1245, 836]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "phimd"
		  Position		  [40, 55, 60, 75]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "vkd"
		  Position		  [40, 90, 60, 110]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rkd_Llkd"
		  Position		  [125, 47, 150, 73]
		  Gain			  "Rkd/Llkd"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum11"
		  Ports			  [2, 1]
		  Position		  [85, 50, 105, 70]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  Ports			  [2, 1]
		  Position		  [170, 39, 190, 121]
		  ShowName		  off
		}
		Block {
		  BlockType		  Integrator
		  Name			  "int"
		  Ports			  [1, 1]
		  Position		  [270, 70, 290, 90]
		  ShowName		  off
		  InitialCondition	  "phikdo"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web"
		  Position		  [210, 64, 245, 96]
		  ShowName		  off
		  Gain			  "web"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phikd"
		  Position		  [320, 70, 340, 90]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Rkd_Llkd"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum11"
		  SrcPort		  1
		  DstBlock		  "Rkd_Llkd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phimd"
		  SrcPort		  1
		  DstBlock		  "Sum11"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "vkd"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "web"
		  SrcPort		  1
		  DstBlock		  "int"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "int"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "phikd"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -45; -230, 0]
		    DstBlock		    "Sum11"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  DstBlock		  "web"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem computes the direct "
"axis damper flux phikd."
		  Position		  [187, 147]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phikq1"
	      Ports		      [2, 1]
	      Position		      [375, 168, 410, 212]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phikq1')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phikq1"
		Location		[415, 389, 771, 540]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "phimq"
		  Position		  [20, 40, 40, 60]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "vkq1"
		  Position		  [20, 75, 40, 95]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rkq1_Llkq1"
		  Position		  [110, 32, 135, 58]
		  NamePlacement		  "alternate"
		  Gain			  "Rkq1/Llkq1"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [155, 27, 175, 103]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum7"
		  Ports			  [2, 1]
		  Position		  [70, 35, 90, 55]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "int"
		  Ports			  [1, 1]
		  Position		  [250, 55, 270, 75]
		  ShowName		  off
		  InitialCondition	  "phikq1o"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web"
		  Position		  [195, 49, 230, 81]
		  ShowName		  off
		  Gain			  "web"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phikq1"
		  Position		  [305, 54, 325, 76]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "int"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, -50; -230, 0]
		    DstBlock		    "Sum7"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "phikq1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "web"
		  SrcPort		  1
		  DstBlock		  "int"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vkq1"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "phimq"
		  SrcPort		  1
		  DstBlock		  "Sum7"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "web"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum7"
		  SrcPort		  1
		  DstBlock		  "Rkq1_Llkq1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rkq1_Llkq1"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem computes the quadrat"
"ure axis damper flux phikq."
		  Position		  [177, 122]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phikq2"
	      Ports		      [2, 1]
	      Position		      [375, 110, 410, 145]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phikq2')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phikq2"
		Location		[610, 505, 1061, 687]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "vkq2"
		  Position		  [30, 95, 50, 115]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phimq"
		  Position		  [30, 60, 50, 80]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Enabled\nintegrator"
		  Ports			  [1, 1, 1]
		  Position		  [280, 72, 305, 98]
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskDisplay		  "disp('1/s')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Enabled\nintegrator"
		    Location		    [770, 190, 950, 336]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [25, 28, 55, 42]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    Ports		    []
		    Position		    [100, 80, 120, 100]
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "int"
		    Ports		    [1, 1]
		    Position		    [80, 25, 100, 45]
		    ShowName		    off
		    InitialCondition	    "phikq2o"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [125, 28, 155, 42]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "phikq2o"
		    }
		    Line {
		    SrcBlock		    "int"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "int"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rkq2_Llkq2"
		  Position		  [135, 52, 160, 78]
		  NamePlacement		  "alternate"
		  Gain			  "Rkq2/Llkq2"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  Ports			  [2, 1]
		  Position		  [180, 47, 200, 123]
		  ShowName		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum7"
		  Ports			  [2, 1]
		  Position		  [90, 55, 110, 75]
		  ShowName		  off
		  Inputs		  "-+"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web"
		  Position		  [220, 69, 255, 101]
		  ShowName		  off
		  Gain			  "web"
		}
		Block {
		  BlockType		  Constant
		  Name			  "wref"
		  Position		  [210, 22, 280, 48]
		  BackgroundColor	  "green"
		  Value			  "isfinite(Llkq2)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phikq2"
		  Position		  [360, 74, 380, 96]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "wref"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "Enabled\nintegrator"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Enabled\nintegrator"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    DstBlock		    "phikq2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -75; -260, 0]
		    DstBlock		    "Sum7"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "web"
		  SrcPort		  1
		  DstBlock		  "Enabled\nintegrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum7"
		  SrcPort		  1
		  DstBlock		  "Rkq2_Llkq2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vkq2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Rkq2_Llkq2"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "web"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phimq"
		  SrcPort		  1
		  DstBlock		  "Sum7"
		  DstPort		  2
		}
		Annotation {
		  Name			  "This subsystem computes the quadrat"
"ure axis damper flux phikq2."
		  Position		  [217, 142]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "phiq"
	      Ports		      [4, 1]
	      Position		      [370, 19, 405, 61]
	      ShowName		      off
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      MaskDisplay	      "disp('phiq')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"phiq"
		Location		[546, 481, 927, 688]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "vq"
		  Position		  [15, 25, 35, 45]
		  BackgroundColor	  "yellow"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "w"
		  Position		  [45, 50, 65, 70]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phid"
		  Position		  [15, 75, 35, 95]
		  BackgroundColor	  "yellow"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "phimq"
		  Position		  [45, 95, 65, 115]
		  BackgroundColor	  "yellow"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  Ports			  [2, 1]
		  Position		  [120, 49, 150, 96]
		  ShowName		  off
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Rs_Ll"
		  Position		  [145, 102, 170, 128]
		  Gain			  "Rs/Ll"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  Ports			  [3, 1]
		  Position		  [190, 14, 210, 136]
		  ShowName		  off
		  Inputs		  "+-+"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  Ports			  [2, 1]
		  Position		  [100, 99, 120, 126]
		  ShowName		  off
		  Inputs		  "+-"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "int1"
		  Ports			  [1, 1]
		  Position		  [280, 65, 300, 85]
		  ShowName		  off
		  InitialCondition	  "phiqo"
		}
		Block {
		  BlockType		  Gain
		  Name			  "web"
		  Position		  [225, 59, 260, 91]
		  ShowName		  off
		  Gain			  "web"
		}
		Block {
		  BlockType		  Outport
		  Name			  "phiq"
		  Position		  [345, 67, 360, 83]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "int1"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 75; -225, 0]
		    DstBlock		    "Sum6"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "phiq"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "web"
		  SrcPort		  1
		  DstBlock		  "int1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phimq"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "phid"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "w"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "vq"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  DstBlock		  "Rs_Ll"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rs_Ll"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "web"
		  DstPort		  1
		}
		Annotation {
		  Name			  "This subsystem computes the quadrat"
"ure axis flux phiq."
		  Position		  [182, 162]
		  VerticalAlignment	  "top"
		}
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "theta"
	      Position		      [745, 395, 770, 425]
	      BackgroundColor	      "yellow"
	      Gain		      "180/pi"
	      Port {
		PortNumber		1
		Name			"theta (deg)"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "vkd"
	      Position		      [345, 367, 360, 383]
	    }
	    Block {
	      BlockType		      Ground
	      Name		      "vkq2"
	      Position		      [280, 112, 295, 128]
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "web2"
	      Position		      [645, 395, 670, 425]
	      BackgroundColor	      "yellow"
	      Gain		      "web"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [1070, 205, 1090, 225]
	      BackgroundColor	      "red"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [1010, 160, 1030, 180]
	      BackgroundColor	      "red"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "PQ"
	      SrcPort		      2
	      Points		      [160, 0; 0, -360]
	      DstBlock		      "Mux1"
	      DstPort		      9
	    }
	    Line {
	      SrcBlock		      "PQ"
	      SrcPort		      1
	      Points		      [140, 0; 0, -345]
	      DstBlock		      "Mux1"
	      DstPort		      8
	    }
	    Line {
	      SrcBlock		      "Delta angle"
	      SrcPort		      1
	      Points		      [340, 0; 0, -325]
	      DstBlock		      "Mux1"
	      DstPort		      7
	    }
	    Line {
	      Name		      "theta (deg)"
	      Labels		      [-1, 1]
	      SrcBlock		      "theta"
	      SrcPort		      1
	      Points		      [10, 0; 0, -30; -135, 0; 0, -190]
	      DstBlock		      "Mux1"
	      DstPort		      5
	    }
	    Line {
	      Name		      "d_theta (rad)"
	      SrcBlock		      "Integrator2"
	      SrcPort		      1
	      DstBlock		      "theta"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "web2"
	      SrcPort		      1
	      DstBlock		      "Integrator2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Complex to\nMagnitude-Angle"
	      SrcPort		      1
	      DstBlock		      "Filter_Iabc_T=1ms"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Phasors Ia Ib"
	      SrcPort		      2
	      Points		      [40, 0; 0, -160]
	      DstBlock		      "Complex to\nMagnitude-Angle"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "ib"
	      SrcPort		      1
	      DstBlock		      "i"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Phasors Ia Ib"
	      SrcPort		      1
	      Points		      [0, -15]
	      DstBlock		      "ib"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "mec"
	      SrcPort		      3
	      Points		      [30, 0]
	      Branch {
		DstBlock		"web2"
		DstPort			1
	      }
	      Branch {
		Points			[0, 45; -280, 0; 0, -210]
		Branch {
		  Points		  [0, -210]
		  DstBlock		  "phiq"
		  DstPort		  2
		}
		Branch {
		  DstBlock		  "phid"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "currents and mutual fluxes"
	      SrcPort		      1
	      Points		      [5, 0; 0, -30; -205, 0]
	      Branch {
		Points			[0, -30]
		DstBlock		"phiq"
		DstPort			4
	      }
	      Branch {
		Points			[0, 50]
		Branch {
		  Points		  [0, 45]
		  DstBlock		  "phikq1"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "phikq2"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      SrcBlock		      "currents and mutual fluxes"
	      SrcPort		      4
	      Points		      [5, 0; 0, 20; -210, 0; 0, 50]
	      Branch {
		DstBlock		"phid"
		DstPort			4
	      }
	      Branch {
		Points			[0, 50]
		Branch {
		  DstBlock		  "phifd"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, 30]
		  DstBlock		  "phikd"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      Labels		      [0, 0]
	      SrcBlock		      "phiq"
	      SrcPort		      1
	      Points		      [40, 0; 0, 70]
	      Branch {
		Points			[0, 105; -115, 0; 0, 40]
		Branch {
		  Points		  [0, 155]
		  DstBlock		  "mec"
		  DstPort		  3
		}
		Branch {
		  DstBlock		  "phid"
		  DstPort		  2
		}
	      }
	      Branch {
		DstBlock		"currents and mutual fluxes"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Vd1 Vq1, I2\n"
	      SrcPort		      1
	      Points		      [25, 0; 0, 35]
	      Branch {
		Points			[0, 185]
		Branch {
		  Points		  [0, 295]
		  Branch {
		    DstBlock		    "Delta angle"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 40]
		    DstBlock		    "PQ"
		    DstPort		    2
		  }
		}
		Branch {
		  Points		  [0, 5]
		  DstBlock		  "phid"
		  DstPort		  3
		}
	      }
	      Branch {
		DstBlock		"Mux2"
		DstPort			2
	      }
	    }
	    Line {
	      Name		      "Vq"
	      SrcBlock		      "Vd1 Vq1, I2\n"
	      SrcPort		      2
	      Points		      [30, 0]
	      Branch {
		Points			[0, 475]
		Branch {
		  DstBlock		  "Delta angle"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 40]
		  DstBlock		  "PQ"
		  DstPort		  1
		}
	      }
	      Branch {
		Points			[10, 0]
		Branch {
		  Points		  [0, -35]
		  DstBlock		  "phiq"
		  DstPort		  1
		}
		Branch {
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      Labels		      [0, 0]
	      SrcBlock		      "phid"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		Points			[0, -110]
		Branch {
		  Points		  [0, -85; -95, 0; 0, -20]
		  DstBlock		  "phiq"
		  DstPort		  3
		}
		Branch {
		  DstBlock		  "currents and mutual fluxes"
		  DstPort		  3
		}
	      }
	      Branch {
		Points			[0, 135]
		DstBlock		"mec"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Selector"
	      SrcPort		      1
	      Points		      [40, 0; 0, 190]
	      DstBlock		      "Phasors Ia Ib"
	      DstPort		      1
	    }
	    Line {
	      Name		      "vq,vd"
	      Labels		      [0, 0]
	      SrcBlock		      "Mux2"
	      SrcPort		      1
	      DstBlock		      "Filter_vqd_T=1ms"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Vd1 Vq1, I2\n"
	      SrcPort		      3
	      Points		      [15, 0; 0, 440; 605, 0]
	      DstBlock		      "Phasors Ia Ib"
	      DstPort		      3
	    }
	    Line {
	      Name		      "theta=wt"
	      Labels		      [1, 0]
	      SrcBlock		      "mec"
	      SrcPort		      2
	      Points		      [60, 0; 0, 65]
	      DstBlock		      "Sum6"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Integrator"
	      SrcPort		      1
	      DstBlock		      "Sum6"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Constant4"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "d_theta"
	      Labels		      [0, 0]
	      SrcBlock		      "Sum6"
	      SrcPort		      1
	      Points		      [115, 0]
	      Branch {
		Points			[0, -225]
		DstBlock		"Phasors Ia Ib"
		DstPort			2
	      }
	      Branch {
		Points			[0, 35; -710, 0; 0, -430]
		DstBlock		"Vd1 Vq1, I2\n"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "phikq2"
	      SrcPort		      1
	      DstBlock		      "currents and mutual fluxes"
	      DstPort		      2
	    }
	    Line {
	      Labels		      [0, 0]
	      SrcBlock		      "phikq1"
	      SrcPort		      1
	      DstBlock		      "currents and mutual fluxes"
	      DstPort		      5
	    }
	    Line {
	      SrcBlock		      "phifd"
	      SrcPort		      1
	      Points		      [30, 0; 0, -145]
	      DstBlock		      "currents and mutual fluxes"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "phikd"
	      SrcPort		      1
	      Points		      [40, 0; 0, -155]
	      DstBlock		      "currents and mutual fluxes"
	      DstPort		      6
	    }
	    Line {
	      SrcBlock		      "output scaling factors"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      Points		      [0, -20]
	      DstBlock		      "output scaling factors"
	      DstPort		      1
	    }
	    Line {
	      Name		      "iq,id"
	      SrcBlock		      "currents and mutual fluxes"
	      SrcPort		      3
	      Points		      [20, 0]
	      Branch {
		Points			[0, 65; -95, 0; 0, 140]
		Branch {
		  DstBlock		  "mec"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 235]
		  DstBlock		  "PQ"
		  DstPort		  3
		}
	      }
	      Branch {
		Points			[0, -140]
		DstBlock		"Selector"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "d_theta,n,Pe,dw"
	      Labels		      [-1, 1]
	      SrcBlock		      "mec"
	      SrcPort		      1
	      Points		      [55, 0; 0, -205]
	      DstBlock		      "Mux1"
	      DstPort		      4
	    }
	    Line {
	      SrcBlock		      "pm"
	      SrcPort		      1
	      DstBlock		      "mec"
	      DstPort		      4
	    }
	    Line {
	      Name		      "iq,id,ifd,ikq1,ikq2,ikd,phimq,phimd"
	      Labels		      [-1, 1]
	      SrcBlock		      "currents and mutual fluxes"
	      SrcPort		      2
	      DstBlock		      "Mux1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      DstBlock		      "1_Vb"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "1_Vb"
	      SrcPort		      1
	      DstBlock		      "Vd1 Vq1, I2\n"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Subsystem"
	      SrcPort		      2
	      DstBlock		      "phifd"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Subsystem"
	      SrcPort		      1
	      Points		      [10, 0; 0, -85]
	      DstBlock		      "phikq1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "vkd"
	      SrcPort		      1
	      DstBlock		      "phikd"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "vkq2"
	      SrcPort		      1
	      DstBlock		      "phikq2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vf"
	      SrcPort		      1
	      DstBlock		      "Subsystem"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Te"
	      Labels		      [-1, 1]
	      SrcBlock		      "mec"
	      SrcPort		      4
	      Points		      [30, 0; 0, -220]
	      DstBlock		      "Mux1"
	      DstPort		      6
	    }
	    Line {
	      Name		      "iabc"
	      Labels		      [-1, 1]
	      SrcBlock		      "Filter_Iabc_T=1ms"
	      SrcPort		      1
	      Points		      [-150, 0; 0, 30]
	      DstBlock		      "Mux1"
	      DstPort		      1
	    }
	    Line {
	      Name		      "vq,vd"
	      Labels		      [-1, 1]
	      SrcBlock		      "Filter_vqd_T=1ms"
	      SrcPort		      1
	      Points		      [5, 0; 0, 90]
	      DstBlock		      "Mux1"
	      DstPort		      3
	    }
	    Annotation {
	      Name		      "Vab Vbc cmplex"
	      Position		      [40, 94]
	    }
	    Annotation {
	      Name		      "ia ib complex"
	      Position		      [1026, 256]
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Switch Current Source"
      Ports		      []
      Position		      [186, 12, 226, 57]
      TreatAsAtomicUnit	      off
      MinAlgLoopOccurrences   off
      RTWSystemCode	      "Auto"
      System {
	Name			"Switch Current Source"
	Location		[66, 397, 500, 509]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "IGBT"
	  Ports			  [2, 2]
	  Position		  [370, 15, 405, 70]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "IGBT model"
	  MaskDescription	  "Simulink model for the IGBT blockt. In on-s"
"tate, the IGBT model has an internal resistance (Ron) and an inductance (Lon)"
". Lon cannot be set to zero. In off-state, the IGBT model has an infinite imp"
"edance. Discretization of the IGBTblock is available only through the Univers"
"al Bridge block."
	  MaskPromptString	  "Resistance Ron (Ohms) : |Inductance Lon (H)"
" : |Forward voltage Vf (V) : |Current 10% fall time Tf (s) : |Current tail ti"
"me Tt (s):|Initial current Ic (A) : "
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on"
	  MaskCallbackString	  "|||||"
	  MaskEnableString	  "on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,"
	  MaskVariables		  "Ron=@1;Lon=@2;Vf=@3;Tf=@4;Tt=@5;IC=@6;"
	  MaskInitialization	  "\n\n\n\n\n\n\n\n\n\n\n\n\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  off
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0.01|1e-6|1|10e-6|20e-6|0"
	  MaskTabNameString	  ",,,,,"
	  System {
	    Name		    "IGBT"
	    Location		    [114, 372, 954, 811]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [30, 75, 50, 95]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"IGBT voltage"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [105, 315, 125, 335]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"gate signal"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Conduction Logic"
	      Ports		      [3, 1]
	      Position		      [230, 246, 310, 344]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Conduction Logic"
		Location		[114, 483, 945, 786]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "iak"
		  Position		  [15, 35, 35, 55]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vak"
		  Position		  [15, 85, 35, 105]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "g"
		  Position		  [15, 210, 35, 230]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  " "
		  Position		  [115, 213, 135, 242]
		  Operator		  ">"
		}
		Block {
		  BlockType		  Constant
		  Name			  "    "
		  Position		  [45, 245, 85, 265]
		  Value			  "eps"
		}
		Block {
		  BlockType		  Constant
		  Name			  "      "
		  Position		  [590, 237, 610, 253]
		  Value			  "0"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  Port {
		    PortNumber		    1
		    Name		    "zero current"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  ". "
		  Ports			  [2, 1]
		  Position		  [215, 150, 245, 190]
		}
		Block {
		  BlockType		  Logic
		  Name			  ". 1"
		  Ports			  [2, 1]
		  Position		  [585, 100, 615, 140]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Break Alg. Loop"
		  Ports			  [1, 1]
		  Position		  [265, 152, 310, 188]
		  DropShadow		  on
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskPromptString	  "number of switches"
		  MaskStyleString	  "edit"
		  MaskTunableValueString  "on"
		  MaskEnableString	  "on"
		  MaskVisibilityString	  "on"
		  MaskToolTipString	  "on"
		  MaskVariables		  "Nsw=@1;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "length(Ron)"
		  System {
		    Name		    "Break Alg. Loop"
		    Location		    [169, 449, 821, 578]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [35, 33, 65, 47]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "0 2"
		    Position		    [360, 53, 390, 77]
		    ShowName		    off
		    Value		    "0.001"
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion"
		    Position		    [470, 49, 525, 71]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion1"
		    Position		    [95, 29, 140, 51]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [295, 25, 325, 75]
		    ShowName		    off
		    LimitOutput		    on
		    UpperSaturationLimit    "0.00101"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "R_device"
		    Position		    [240, 30, 270, 70]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Gain		    "1e7"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [415, 42, 445, 73]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Vak-Vf-Ron*Iak"
		    Ports		    [2, 1]
		    Position		    [175, 31, 205, 64]
		    ShowName		    off
		    Inputs		    "+-"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [550, 53, 580, 67]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "0 2"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [0, 0; 10, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50; -180, 0]
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Vak-Vf-Ron*Iak"
		    SrcPort		    1
		    DstBlock		    "R_device"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "R_device"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion1"
		    SrcPort		    1
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion"
		  Position		  [335, 60, 395, 80]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [635, 108, 685, 132]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [510, 50, 560, 70]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion3"
		  Position		  [510, 160, 560, 180]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion4"
		  Position		  [50, 208, 95, 232]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion5"
		  Position		  [150, 219, 180, 241]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion6"
		  Position		  [130, 94, 185, 116]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  Relay
		  Name			  "I>0"
		  Position		  [270, 33, 300, 57]
		  OnSwitchValue		  "1000*eps"
		  OffSwitchValue	  "0"
		}
		Block {
		  BlockType		  Relay
		  Name			  "I>1.5"
		  Position		  [460, 48, 490, 72]
		  OnSwitchValue		  "1.5"
		  OffSwitchValue	  "0"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Test2"
		  Position		  [710, 209, 730, 251]
		  Threshold		  "eps"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Vf"
		  Position		  [50, 99, 75, 121]
		  ShowName		  off
		  Value			  "Vf"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b"
		  Position		  [95, 88, 115, 117]
		  ShowName		  off
		  Operator		  ">"
		}
		Block {
		  BlockType		  Sum
		  Name			  "n1"
		  Ports			  [2, 1]
		  Position		  [420, 34, 445, 81]
		}
		Block {
		  BlockType		  Outport
		  Name			  "status"
		  Position		  [765, 220, 785, 240]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Data Type \nConversion5"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    ". "
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Test2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Vak"
		  SrcPort		  1
		  DstBlock		  "b"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "b"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  " "
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion6"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  ". "
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "g"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Test2"
		  SrcPort		  1
		  DstBlock		  "status"
		  DstPort		  1
		}
		Line {
		  Name			  "zero current"
		  Labels		  [0, 0]
		  SrcBlock		  "      "
		  SrcPort		  1
		  DstBlock		  "Test2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Vf"
		  SrcPort		  1
		  DstBlock		  "b"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "I>0"
		  SrcPort		  1
		  DstBlock		  "n1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "iak"
		  SrcPort		  1
		  DstBlock		  "I>0"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "n1"
		  SrcPort		  1
		  DstBlock		  "I>1.5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion"
		  SrcPort		  1
		  DstBlock		  "n1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  ". 1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "Test2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "I>1.5"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  ". 1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion3"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  ". 1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  ". "
		  SrcPort		  1
		  DstBlock		  "Break Alg. Loop"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Break Alg. Loop"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Data Type \nConversion3"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Data Type \nConversion"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Data Type \nConversion4"
		  SrcPort		  1
		  DstBlock		  " "
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "    "
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  " "
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      InitialCondition
	      Name		      "IC"
	      Position		      [400, 150, 430, 180]
	      Value		      "IC"
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator"
	      Ports		      [3, 1, 0, 0, 1]
	      Position		      [450, 74, 485, 186]
	      ShowName		      off
	      ExternalReset	      "rising"
	      InitialConditionSource  "external"
	      ShowStatePort	      on
	      Port {
		PortNumber		1
		Name			"IGBT current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		2
		Name			"IGBT current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "L_device"
	      Position		      [240, 60, 290, 110]
	      ShowName		      off
	      Gain		      "1./Lon"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [695, 353, 700, 397]
	      Inputs		      "2"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "R_device"
	      Position		      [305, 17, 345, 63]
	      Orientation	      "left"
	      ShowName		      off
	      Gain		      "Ron"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [390, 80, 420, 110]
	      Threshold		      "eps"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Tail"
	      Ports		      [2, 1]
	      Position		      [600, 242, 645, 313]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		1
		Name			"current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"Tail"
		Location		[263, 72, 691, 251]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "iak"
		  Position		  [25, 40, 45, 60]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "switch"
		  Position		  [25, 70, 45, 90]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "1"
		  Position		  [95, 96, 115, 114]
		  ShowName		  off
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [2, 1]
		  Position		  [140, 92, 175, 143]
		  ExternalReset		  "falling"
		  LimitOutput		  on
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Look-Up\n Table"
		  Position		  [210, 101, 240, 139]
		  DialogController	  "Simulink.DDGSource"
		  InputValues		  "[  0   Tf+eps Tf+Tt+2*eps  Tf+Tt+3*"
"eps]"
		  OutputValues		  "[  1   0.1*(Tt>0) 0 0]"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [275, 92, 305, 128]
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [330, 36, 360, 124]
		  Threshold		  "eps"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Iak"
		  Position		  [385, 70, 405, 90]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Iak"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  DstBlock		  "Look-Up\n Table"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "1"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "switch"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Integrator"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Look-Up\n Table"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "iak"
		  SrcPort		  1
		  Points		  [0, 0; 205, 0]
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Vak-VT-RT*Iak2"
	      Ports		      [3, 1]
	      Position		      [170, 70, 200, 100]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "-|+|-"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vf"
	      Position		      [172, 145, 198, 170]
	      Orientation	      "up"
	      ShowName		      off
	      Value		      "Vf"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vf1"
	      Position		      [360, 154, 380, 176]
	      ShowName		      off
	      Value		      "0*IC"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vf2"
	      Position		      [300, 95, 330, 115]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [735, 270, 755, 290]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [740, 365, 760, 385]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Conduction Logic"
	      SrcPort		      1
	      Points		      [30, 0]
	      Branch {
		DstBlock		"Tail"
		DstPort			2
	      }
	      Branch {
		Points			[0, -165]
		Branch {
		  DstBlock		  "Integrator"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, -35]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      Name		      "IGBT current"
	      SrcBlock		      "Integrator"
	      SrcPort		      1
	      Points		      [40, 0]
	      Branch {
		Labels			[2, 1]
		Points			[0, -90]
		DstBlock		"R_device"
		DstPort			1
	      }
	      Branch {
		Labels			[2, 0]
		Points			[0, 130]
		DstBlock		"Tail"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "IC"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      3
	    }
	    Line {
	      Name		      "IGBT current"
	      Labels		      [-1, 1]
	      SrcBlock		      "Integrator"
	      SrcPort		      state
	      Points		      [45, 0; 0, 151; -380, 0; 0, 45]
	      DstBlock		      "Conduction Logic"
	      DstPort		      1
	    }
	    Line {
	      Name		      "gate signal"
	      Labels		      [-1, 1]
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "Conduction Logic"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Vak-VT-RT*Iak2"
	      SrcPort		      1
	      DstBlock		      "L_device"
	      DstPort		      1
	    }
	    Line {
	      Name		      "current"
	      SrcBlock		      "Tail"
	      SrcPort		      1
	      Points		      [0, 0; 10, 0]
	      Branch {
		Labels			[1, 0]
		Points			[0, 85]
		DstBlock		"Mux"
		DstPort			1
	      }
	      Branch {
		Labels			[1, 0]
		DstBlock		"i"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Vf"
	      SrcPort		      1
	      DstBlock		      "Vak-VT-RT*Iak2"
	      DstPort		      3
	    }
	    Line {
	      Name		      "IGBT voltage"
	      FontName		      "MS Sans Serif"
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		Labels			[-1, 1]
		DstBlock		"Vak-VT-RT*Iak2"
		DstPort			2
	      }
	      Branch {
		Points			[0, 210]
		Branch {
		  Labels		  [-1, 1]
		  DstBlock		  "Conduction Logic"
		  DstPort		  2
		}
		Branch {
		  Labels		  [-1, 1]
		  Points		  [0, 90]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      SrcBlock		      "R_device"
	      SrcPort		      1
	      Points		      [-115, 0]
	      DstBlock		      "Vak-VT-RT*Iak2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Vf1"
	      SrcPort		      1
	      DstBlock		      "IC"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "L_device"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Vf2"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "detailed_thyristor"
	  Ports			  [2, 2]
	  Position		  [155, 15, 190, 70]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Thyristor model"
	  MaskDescription	  "Simulates a thyristor in parallel with a se"
"ries Rs-Cs snubber circuit. In on-state thyristor has internal resistance (Ro"
"n) and inductance (Lon - required by model, cannot be set to zero). In off-st"
"ate thyristor impedance is infinite.\n         \nInput one is Vak and input t"
"wo is the gate signal .\nOutput one is Iak and output two is the measurement "
"output vector [Iak Vak].                                                     "
"                                                                   "
	  MaskHelp		  "                                           "
"                                                                             "
"                                                  \n                         "
"     "
	  MaskPromptString	  "Resistance Ron (Ohms) :|Inductance Lon (H) "
": |Forward voltage Vf (V) : |Latching current Il (A) : |Turn-off time Tq (s) "
":|Initial current Ic (A) : "
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on"
	  MaskCallbackString	  "|||||"
	  MaskEnableString	  "on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,"
	  MaskVariables		  "Ron=@1;Lon=@2;Vf=@3;IL=@4;Tq=@5;IC=@6;"
	  MaskInitialization	  "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
	  MaskDisplay		  "                                           "
"                                                                        "
	  MaskIconFrame		  on
	  MaskIconOpaque	  off
	  MaskIconRotate	  "port"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1e-2|10e-6|0.8|0.1|100e-6|0"
	  MaskTabNameString	  ",,,,,"
	  System {
	    Name		    "detailed_thyristor"
	    Location		    [392, 512, 850, 770]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [40, 45, 55, 65]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [35, 120, 50, 140]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Conduction logic"
	      Ports		      [3, 1]
	      Position		      [135, 80, 200, 140]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Conduction logic"
		Location		[177, 372, 927, 717]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Iak_meas."
		  Position		  [40, 45, 60, 65]
		  BackgroundColor	  "magenta"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vak"
		  Position		  [35, 140, 55, 160]
		  BackgroundColor	  "magenta"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "G"
		  Position		  [35, 205, 55, 225]
		  BackgroundColor	  "magenta"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Sum
		  Name			  "    "
		  Ports			  [4, 1]
		  Position		  [515, 45, 560, 245]
		  Inputs		  "+++-"
		}
		Block {
		  BlockType		  Logic
		  Name			  ". "
		  Ports			  [2, 1]
		  Position		  [235, 170, 265, 210]
		}
		Block {
		  BlockType		  Constant
		  Name			  "0   "
		  Position		  [35, 245, 60, 265]
		  Value			  "eps"
		}
		Block {
		  BlockType		  Constant
		  Name			  "0.1"
		  Position		  [455, 210, 495, 230]
		  Value			  "0.1"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Break Alg. Loop"
		  Ports			  [1, 1]
		  Position		  [580, 128, 650, 162]
		  DropShadow		  on
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskPromptString	  "number of switches|initial conditio"
"ns"
		  MaskStyleString	  "edit,edit"
		  MaskTunableValueString  "on,on"
		  MaskCallbackString	  "|"
		  MaskEnableString	  "on,on"
		  MaskVisibilityString	  "on,on"
		  MaskToolTipString	  "on,on"
		  MaskVarAliasString	  ","
		  MaskVariables		  "Nsw=@1;IC=@2;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "length(Lon)|IC"
		  MaskTabNameString	  ","
		  System {
		    Name		    "Break Alg. Loop"
		    Location		    [175, 455, 827, 584]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [35, 33, 65, 47]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "0 2"
		    Position		    [360, 53, 390, 77]
		    ShowName		    off
		    Value		    "0.001"
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion1"
		    Position		    [95, 29, 140, 51]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion2"
		    Position		    [475, 49, 520, 71]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [295, 25, 325, 75]
		    ShowName		    off
		    InitialCondition	    "0.00101*(IC&1)"
		    LimitOutput		    on
		    UpperSaturationLimit    "0.00101"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "R_device"
		    Position		    [240, 30, 270, 70]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Gain		    "1e7"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [415, 42, 445, 73]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Vak-Vf-Ron*Iak"
		    Ports		    [2, 1]
		    Position		    [175, 31, 205, 64]
		    ShowName		    off
		    Inputs		    "+-"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [550, 53, 580, 67]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "0 2"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [0, 0; 10, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50; -180, 0]
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Vak-Vf-Ron*Iak"
		    SrcPort		    1
		    DstBlock		    "R_device"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "R_device"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion1"
		    SrcPort		    1
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [290, 177, 330, 203]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion3"
		  Position		  [75, 202, 105, 228]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion5"
		  Position		  [165, 167, 195, 193]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion6"
		  Position		  [175, 212, 205, 238]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  Relay
		  Name			  "I>1.5"
		  Position		  [345, 58, 375, 82]
		  OnSwitchValue		  "1.5"
		  OffSwitchValue	  "0"
		}
		Block {
		  BlockType		  Relay
		  Name			  "Iak>IL"
		  Position		  [85, 43, 115, 67]
		  OnSwitchValue		  "eps+IL"
		  OffSwitchValue	  "0"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Time recovery"
		  Ports			  [3, 1]
		  Position		  [405, 91, 475, 149]
		  ForegroundColor	  "red"
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Time recovery"
		    Location		    [391, 424, 923, 634]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Iak>0"
		    Position		    [55, 60, 75, 80]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Vak>Vf "
		    Position		    [50, 135, 70, 155]
		    Port		    "2"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Iak>il"
		    Position		    [245, 40, 265, 60]
		    Port		    "3"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion"
		    Position		    [180, 56, 205, 84]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion1"
		    Position		    [180, 131, 205, 159]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    Ports		    [2, 1]
		    Position		    [230, 98, 260, 122]
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    Ports		    [2, 1]
		    Position		    [330, 110, 350, 130]
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    Ports		    [2, 1]
		    Position		    [425, 125, 445, 145]
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Tq"
		    Ports		    [1, 1]
		    Position		    [115, 50, 160, 90]
		    NamePlacement	    "alternate"
		    TreatAsAtomicUnit	    off
		    MinAlgLoopOccurrences   off
		    RTWSystemCode	    "Auto"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    System {
		    Name		    "Tq"
		    Location		    [89, 273, 606, 487]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Iak>0 "
		    Position		    [15, 46, 50, 64]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Logic
		    Name		    "."
		    Ports		    [1, 1]
		    Position		    [350, 48, 380, 82]
		    Operator		    "NOT"
		    Inputs		    "1"
		    }
		    Block {
		    BlockType		    Logic
		    Name		    ". "
		    Ports		    [3, 1]
		    Position		    [415, 85, 445, 125]
		    Inputs		    "3"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "0"
		    Position		    [15, 85, 55, 105]
		    Value		    "0"
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion1"
		    Position		    [355, 147, 380, 173]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion2"
		    Position		    [285, 52, 310, 78]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion3"
		    Position		    [355, 92, 380, 118]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion4"
		    Position		    [145, 52, 170, 78]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator"
		    Position		    [95, 47, 125, 83]
		    Operator		    "<="
		    }
		    Block {
		    BlockType		    Step
		    Name		    "Step"
		    Position		    [290, 145, 320, 175]
		    Time		    "1.1*Tq"
		    SampleTime		    "0"
		    }
		    Block {
		    BlockType		    TransportDelay
		    Name		    "Transport\nDelay=Tq"
		    Position		    [225, 50, 255, 80]
		    DelayTime		    "Tq+eps"
		    BufferSize		    "2048"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "out"
		    Position		    [480, 98, 510, 112]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Iak>0 "
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "0"
		    SrcPort		    1
		    Points		    [0, -20]
		    DstBlock		    "Relational\nOperator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "."
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    ". "
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    ". "
		    SrcPort		    1
		    DstBlock		    "out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Step"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion1"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    ". "
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Transport\nDelay=Tq"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion2"
		    SrcPort		    1
		    DstBlock		    "."
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion3"
		    SrcPort		    1
		    DstBlock		    ". "
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion4"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "Transport\nDelay=Tq"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 74; 72, 0; 0, -34]
		    DstBlock		    "Data Type \nConversion3"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    Block {
		    BlockType		    Relay
		    Name		    "confirmation de i>i_latching apre"
"s reamorcage, car vak peut devenir negatif \n, ig etant nul, on retourne en p"
"ilotage par iak"
		    Position		    [365, 108, 395, 132]
		    ShowName		    off
		    OnSwitchValue	    "1.5"
		    OffSwitchValue	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "TQ "
		    Position		    [475, 125, 495, 145]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Iak>il"
		    SrcPort		    1
		    Points		    [35, 0; 0, 65]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [0, 45; 40, 0]
		    Branch {
		    Points		    [105, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Iak>0"
		    SrcPort		    1
		    DstBlock		    "Tq"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "confirmation de i>i_latching apre"
"s reamorcage, car vak peut devenir negatif \n, ig etant nul, on retourne en p"
"ilotage par iak"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "confirmation de i>i_latching apre"
"s reamorcage, car vak peut devenir negatif \n, ig etant nul, on retourne en p"
"ilotage par iak"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "TQ "
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Tq"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vak>Vf "
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion1"
		    SrcPort		    1
		    Points		    [5, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Vak>Vf"
		  Ports			  [1, 1]
		  Position		  [80, 136, 145, 164]
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  System {
		    Name		    "Vak>Vf"
		    Location		    [141, 388, 484, 589]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Vak"
		    Position		    [40, 28, 70, 42]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "  "
		    Position		    [95, 28, 115, 57]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Vf "
		    Position		    [25, 70, 65, 90]
		    Value		    "Vf"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Vak>Vf"
		    Position		    [200, 38, 230, 52]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "  "
		    SrcPort		    1
		    DstBlock		    "Vak>Vf"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vf "
		    SrcPort		    1
		    Points		    [5, 0; 0, -30]
		    DstBlock		    "  "
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Vak"
		    SrcPort		    1
		    DstBlock		    "  "
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b1"
		  Position		  [135, 208, 155, 237]
		  Operator		  ">"
		}
		Block {
		  BlockType		  Sum
		  Name			  "n1"
		  Ports			  [2, 1]
		  Position		  [300, 44, 325, 91]
		}
		Block {
		  BlockType		  Outport
		  Name			  "reset"
		  Position		  [675, 135, 695, 155]
		  BackgroundColor	  "cyan"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "0   "
		  SrcPort		  1
		  Points		  [55, 0]
		  DstBlock		  "b1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Data Type \nConversion6"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  ". "
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "b1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion5"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    ". "
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -60]
		    DstBlock		    "Time recovery"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Vak>Vf"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion3"
		  SrcPort		  1
		  DstBlock		  "b1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "G"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vak"
		  SrcPort		  1
		  DstBlock		  "Vak>Vf"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Time recovery"
		  SrcPort		  1
		  DstBlock		  "    "
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "0.1"
		  SrcPort		  1
		  DstBlock		  "    "
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Iak_meas."
		  SrcPort		  1
		  DstBlock		  "Iak>IL"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Iak>IL"
		  SrcPort		  1
		  Points		  [110, 0]
		  Branch {
		    Points		    [0, 85]
		    DstBlock		    "Time recovery"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "n1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "n1"
		  SrcPort		  1
		  DstBlock		  "I>1.5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "I>1.5"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, 30]
		    DstBlock		    "Time recovery"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "    "
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "    "
		  SrcPort		  1
		  DstBlock		  "Break Alg. Loop"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  ". "
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    Points		    [125, 0]
		    DstBlock		    "    "
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, -35; -90, 0]
		    DstBlock		    "n1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Break Alg. Loop"
		  SrcPort		  1
		  DstBlock		  "reset"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [350, 141, 390, 174]
	      Inputs		      "2"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Switch-Ron-Lon"
	      Ports		      [2, 1]
	      Position		      [240, 40, 330, 95]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Switch-Ron-Lon"
		Location		[85, 290, 784, 559]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Vak"
		  Position		  [65, 53, 95, 67]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Reset"
		  Position		  [55, 188, 85, 202]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 "
		  Position		  [575, 151, 600, 169]
		  Orientation		  "left"
		  Value			  "0"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Constant
		  Name			  "0   "
		  Position		  [345, 126, 370, 144]
		  Orientation		  "left"
		  Value			  "0"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [3, 1]
		  Position		  [440, 67, 475, 103]
		  ExternalReset		  "rising"
		  InitialConditionSource  "external"
		}
		Block {
		  BlockType		  Gain
		  Name			  "L_device"
		  Position		  [250, 35, 295, 85]
		  Gain			  "1./Lon"
		}
		Block {
		  BlockType		  Gain
		  Name			  "R_device"
		  Position		  [255, 134, 300, 166]
		  Orientation		  "left"
		  Gain			  "Ron"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Step
		  Name			  "Step"
		  Position		  [435, 131, 460, 149]
		  Orientation		  "left"
		  NamePlacement		  "alternate"
		  Time			  "eps"
		  Before		  "IC"
		  After			  "0"
		  SampleTime		  "0"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Test"
		  Position		  [575, 79, 595, 121]
		  Threshold		  "eps"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Vak-Vf-Ron*Iak"
		  Ports			  [3, 1]
		  Position		  [185, 20, 215, 100]
		  Inputs		  "-+-"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Vf"
		  Position		  [105, 26, 130, 44]
		  Value			  "Vf"
		}
		Block {
		  BlockType		  Switch
		  Name			  "test"
		  Position		  [350, 54, 370, 96]
		  Threshold		  "eps"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Iak  "
		  Position		  [625, 90, 645, 110]
		  BackgroundColor	  "magenta"
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "0 "
		  SrcPort		  1
		  Points		  [-10, 0]
		  DstBlock		  "Test"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "0   "
		  SrcPort		  1
		  Points		  [-5, 0]
		  DstBlock		  "test"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Step"
		  SrcPort		  1
		  Points		  [-5, 0]
		  DstBlock		  "Integrator"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "Test"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 65]
		    DstBlock		    "R_device"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "L_device"
		  SrcPort		  1
		  DstBlock		  "test"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "test"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Test"
		  SrcPort		  1
		  DstBlock		  "Iak  "
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vf"
		  SrcPort		  1
		  DstBlock		  "Vak-Vf-Ron*Iak"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vak-Vf-Ron*Iak"
		  SrcPort		  1
		  DstBlock		  "L_device"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "R_device"
		  SrcPort		  1
		  Points		  [-100, 0; 0, -65]
		  DstBlock		  "Vak-Vf-Ron*Iak"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Vak"
		  SrcPort		  1
		  DstBlock		  "Vak-Vf-Ron*Iak"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Reset"
		  SrcPort		  1
		  Points		  [295, 0]
		  Branch {
		    Points		    [-60, 0; 0, -120]
		    DstBlock		    "test"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -110]
		    DstBlock		    "Integrator"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [160, 0; 0, -95]
		    DstBlock		    "Test"
		    DstPort		    2
		    }
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [405, 70, 425, 90]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [410, 150, 430, 170]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Conduction logic"
	      SrcPort		      1
	      Points		      [20, 0]
	      DstBlock		      "Switch-Ron-Lon"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Switch-Ron-Lon"
	      SrcPort		      1
	      Points		      [0, 10]
	      Branch {
		DstBlock		"i"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Mux"
		DstPort			1
	      }
	      Branch {
		Points			[0, -60; -215, 0]
		DstBlock		"Conduction logic"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		DstBlock		"Switch-Ron-Lon"
		DstPort			1
	      }
	      Branch {
		Points			[0, 55]
		DstBlock		"Conduction logic"
		DstPort			2
	      }
	      Branch {
		Points			[0, 110]
		DstBlock		"Mux"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "Conduction logic"
	      DstPort		      3
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "diode"
	  Ports			  [1, 2]
	  Position		  [15, 15, 50, 70]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Diode model"
	  MaskDescription	  "Simulink model for the Diode block when Lon"
" >0. In on-state, the diode has an  internal resistance (Ron) and an inductan"
"ce (Lon).  Lon cannot be set to zero. In off-state, the diode impedance is in"
"finite. Input one is  Vak. Output one is Iak and output 2 is the measurement "
"output vector [Iak Vak]."
	  MaskHelp		  "                                           "
"                                                                             "
"                                                             "
	  MaskPromptString	  "Resistance Ron (Ohms) :|Inductance Lon (H) "
": |Forward voltage Vf (V) :|Initial current Ic (A) : "
	  MaskStyleString	  "edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on"
	  MaskCallbackString	  "|||"
	  MaskEnableString	  "on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on"
	  MaskToolTipString	  "on,on,on,on"
	  MaskVarAliasString	  ",,,"
	  MaskVariables		  "Ron=@1;Lon=@2;Vf=@3;IC=@4;"
	  MaskInitialization	  "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
"\n\n\n\n\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  off
	  MaskIconRotate	  "port"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0.01|1e-6|0.8|0"
	  MaskTabNameString	  ",,,"
	  System {
	    Name		    "diode"
	    Location		    [185, 276, 893, 682]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [15, 65, 35, 85]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"Diode voltage"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0  1"
	      Position		      [360, 280, 380, 300]
	      ShowName		      off
	      Value		      "0"
	      Port {
		PortNumber		1
		Name			"zero current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Conduction logic"
	      Ports		      [2, 1]
	      Position		      [180, 230, 270, 305]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Conduction logic"
		Location		[37, 600, 769, 786]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Iak"
		  Position		  [35, 115, 55, 135]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		  Port {
		    PortNumber		    1
		    Name		    "Iak diode"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vak"
		  Position		  [35, 70, 55, 90]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		  Port {
		    PortNumber		    1
		    Name		    "Vak diode"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 2"
		  Position		  [175, 85, 195, 105]
		  ShowName		  off
		  Value			  "Vf"
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 3"
		  Position		  [175, 130, 195, 150]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 4"
		  Position		  [175, 40, 195, 60]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Break Alg. Loop"
		  Ports			  [1, 1]
		  Position		  [560, 66, 620, 104]
		  DropShadow		  on
		  AncestorBlock		  "powerlib_models/Switch Current Sour"
"ce/diode/Conduction logic/BAL-PB1"
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskPromptString	  "number of switches|Initial conditio"
"n"
		  MaskStyleString	  "edit,edit"
		  MaskTunableValueString  "on,on"
		  MaskCallbackString	  "|"
		  MaskEnableString	  "on,on"
		  MaskVisibilityString	  "on,on"
		  MaskToolTipString	  "on,on"
		  MaskVarAliasString	  ","
		  MaskVariables		  "Nsw=@1;IC=@2;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "length(Lon)|IC"
		  MaskTabNameString	  ","
		  System {
		    Name		    "Break Alg. Loop"
		    Location		    [179, 459, 831, 588]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [35, 33, 65, 47]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "0 2"
		    Position		    [360, 53, 390, 77]
		    ShowName		    off
		    Value		    "0.001"
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion1"
		    Position		    [95, 29, 140, 51]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [295, 25, 325, 75]
		    ShowName		    off
		    InitialCondition	    "0.00101*(IC&1)"
		    LimitOutput		    on
		    UpperSaturationLimit    "0.00101"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "R_device"
		    Position		    [240, 30, 270, 70]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Gain		    "1e7"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [415, 42, 445, 73]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Vak-Vf-Ron*Iak"
		    Ports		    [2, 1]
		    Position		    [175, 31, 205, 64]
		    ShowName		    off
		    Inputs		    "+-"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [550, 53, 580, 67]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion1"
		    SrcPort		    1
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "R_device"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vak-Vf-Ron*Iak"
		    SrcPort		    1
		    DstBlock		    "R_device"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [0, 0; 10, 0]
		    Branch {
		    Points		    [0, 50; -180, 0]
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "0 2"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [325, 33, 380, 57]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [325, 78, 380, 102]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion3"
		  Position		  [325, 123, 380, 147]
		  ShowName		  off
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b5"
		  Position		  [220, 26, 245, 59]
		  ShowName		  off
		  Operator		  ">"
		  Port {
		    PortNumber		    1
		    Name		    "Current > 0"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b6"
		  Position		  [220, 74, 245, 101]
		  ShowName		  off
		  Operator		  ">"
		  Port {
		    PortNumber		    1
		    Name		    "Voltage > 0"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b7"
		  Position		  [220, 119, 245, 146]
		  ShowName		  off
		  Operator		  "=="
		  Port {
		    PortNumber		    1
		    Name		    "Current = 0"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "or2"
		  Ports			  [2, 1]
		  Position		  [500, 65, 535, 100]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Logic
		  Name			  "or3"
		  Ports			  [2, 1]
		  Position		  [435, 95, 470, 130]
		  ShowName		  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "status"
		  Position		  [655, 75, 675, 95]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  Name			  "Vak diode"
		  Labels		  [0, 1]
		  SrcBlock		  "Vak"
		  SrcPort		  1
		  Points		  [140, 0]
		  DstBlock		  "b6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "0 3"
		  SrcPort		  1
		  DstBlock		  "b7"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "0 2"
		  SrcPort		  1
		  DstBlock		  "b6"
		  DstPort		  2
		}
		Line {
		  Name			  "Voltage > 0"
		  Labels		  [0, 1]
		  SrcBlock		  "b6"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "or3"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "or2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "or2"
		  SrcPort		  1
		  DstBlock		  "Break Alg. Loop"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "0 4"
		  SrcPort		  1
		  DstBlock		  "b5"
		  DstPort		  2
		}
		Line {
		  Name			  "Current > 0"
		  Labels		  [0, 1]
		  SrcBlock		  "b5"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  Name			  "Current = 0"
		  Labels		  [0, 0]
		  SrcBlock		  "b7"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion3"
		  DstPort		  1
		}
		Line {
		  Name			  "Iak diode"
		  Labels		  [0, 1]
		  SrcBlock		  "Iak"
		  SrcPort		  1
		  Points		  [0, 0; 100, 0]
		  Branch {
		    Points		    [0, -90]
		    DstBlock		    "b5"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "b7"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Break Alg. Loop"
		  SrcPort		  1
		  DstBlock		  "status"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  Points		  [100, 0]
		  DstBlock		  "or2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "or3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion3"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "or3"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      InitialCondition
	      Name		      "IC"
	      Position		      [335, 110, 365, 140]
	      Value		      "IC"
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator1"
	      Ports		      [3, 1]
	      Position		      [385, 62, 415, 138]
	      ShowName		      off
	      ExternalReset	      "rising"
	      InitialConditionSource  "external"
	      LimitOutput	      on
	      LowerSaturationLimit    "0"
	      Port {
		PortNumber		1
		Name			"Inductor current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Lon"
	      Position		      [210, 48, 260, 102]
	      ShowName		      off
	      Gain		      "1./Lon"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [615, 301, 620, 339]
	      Inputs		      "2"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Ron"
	      Position		      [270, 13, 320, 47]
	      Orientation	      "left"
	      ShowName		      off
	      Gain		      "Ron"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Test"
	      Position		      [475, 237, 510, 303]
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	      Port {
		PortNumber		1
		Name			"Diode current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Vak-VT-RT*Iak2"
	      Ports		      [3, 1]
	      Position		      [155, 60, 185, 90]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "-|+|-"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vf"
	      Position		      [155, 125, 185, 145]
	      Orientation	      "up"
	      ShowName		      off
	      Value		      "Vf"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vf1"
	      Position		      [295, 114, 315, 136]
	      ShowName		      off
	      Value		      "0*IC"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [645, 260, 665, 280]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [645, 310, 665, 330]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Diode voltage"
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		Points			[0, 210]
		Branch {
		  Labels		  [-1, 1]
		  Points		  [0, 45]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Branch {
		  Labels		  [1, 0]
		  DstBlock		  "Conduction logic"
		  DstPort		  2
		}
	      }
	      Branch {
		Labels			[1, 0]
		DstBlock		"Vak-VT-RT*Iak2"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "IC"
	      SrcPort		      1
	      DstBlock		      "Integrator1"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Lon"
	      SrcPort		      1
	      DstBlock		      "Integrator1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Conduction logic"
	      SrcPort		      1
	      Points		      [10, 0; 0, 0]
	      Branch {
		Points			[0, -170]
		DstBlock		"Integrator1"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Test"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Vak-VT-RT*Iak2"
	      SrcPort		      1
	      DstBlock		      "Lon"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Inductor current"
	      SrcBlock		      "Integrator1"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		Labels			[-1, 0]
		Points			[0, -70]
		DstBlock		"Ron"
		DstPort			1
	      }
	      Branch {
		Labels			[1, 0]
		Points			[0, 150]
		DstBlock		"Test"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Ron"
	      SrcPort		      1
	      Points		      [-95, 0]
	      DstBlock		      "Vak-VT-RT*Iak2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Vf"
	      SrcPort		      1
	      DstBlock		      "Vak-VT-RT*Iak2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Vf1"
	      SrcPort		      1
	      DstBlock		      "IC"
	      DstPort		      1
	    }
	    Line {
	      Name		      "zero current"
	      FontName		      "MS Sans Serif"
	      Labels		      [0, 0]
	      SrcBlock		      "0  1"
	      SrcPort		      1
	      DstBlock		      "Test"
	      DstPort		      3
	    }
	    Line {
	      Name		      "Diode current"
	      SrcBlock		      "Test"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		DstBlock		"i"
		DstPort			1
	      }
	      Branch {
		Labels			[-1, 1]
		Points			[0, 40]
		DstBlock		"Mux"
		DstPort			1
	      }
	      Branch {
		Labels			[4, 0]
		Points			[0, -65; -450, 0; 0, 45]
		DstBlock		"Conduction logic"
		DstPort			1
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "gto"
	  Ports			  [2, 2]
	  Position		  [230, 15, 265, 70]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Gto model"
	  MaskDescription	  "Simulink model for the GTO block. In on-sta"
"te, the GTO has an  internal resistance (Ron) and an  inductance (Lon). Lon c"
"annot be set to zero. In off-state, the GTO impedance is infinite. Input one "
"is Vak and input two is the Gate signal. Output one is Iak and output 2 is th"
"e measurement output vector [Iak Vak]."
	  MaskPromptString	  "Resistance Ron (Ohms) : |Inductance Lon (H)"
" : |Forward voltage Vf (V) : |Current 10% fall time Tf (s) : |Current tail ti"
"me Tt (s) :|Initial current Ic (A) : "
	  MaskStyleString	  "edit,edit,edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on,on,on"
	  MaskCallbackString	  "|||||"
	  MaskEnableString	  "on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on"
	  MaskVarAliasString	  ",,,,,"
	  MaskVariables		  "Ron=@1;Lon=@2;Vf=@3;Tf=@4;Tt=@5;IC=@6;"
	  MaskInitialization	  "\n\n\n\n\n\n\n\n\n\n\n\n\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  off
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0.001|1e-5|0.8|200e-6|200e-6|0"
	  MaskTabNameString	  ",,,,,"
	  System {
	    Name		    "gto"
	    Location		    [370, 44, 1133, 486]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [15, 75, 35, 95]
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"GTO voltage"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [95, 330, 115, 350]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"gate signal"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Conduction Logic"
	      Ports		      [3, 1]
	      Position		      [200, 261, 280, 359]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		1
		Name			"switch status"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"Conduction Logic"
		Location		[89, 383, 932, 708]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "iak"
		  Position		  [15, 35, 35, 55]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vak"
		  Position		  [15, 85, 35, 105]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "g"
		  Position		  [15, 220, 35, 240]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		  Port {
		    PortNumber		    1
		    Name		    "gate signal"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "      "
		  Position		  [655, 237, 675, 253]
		  Value			  "0"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Logic
		  Name			  ". "
		  Ports			  [2, 1]
		  Position		  [210, 150, 240, 190]
		}
		Block {
		  BlockType		  Logic
		  Name			  ". 1"
		  Ports			  [2, 1]
		  Position		  [585, 100, 615, 140]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Break Alg. Loop"
		  Ports			  [1, 1]
		  Position		  [260, 152, 305, 188]
		  DropShadow		  on
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskPromptString	  "number of switches"
		  MaskStyleString	  "edit"
		  MaskTunableValueString  "on"
		  MaskEnableString	  "on"
		  MaskVisibilityString	  "on"
		  MaskToolTipString	  "on"
		  MaskVariables		  "Nsw=@1;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "length(Ron)"
		  System {
		    Name		    "Break Alg. Loop"
		    Location		    [177, 457, 829, 586]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [35, 33, 65, 47]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "0 2"
		    Position		    [365, 53, 395, 77]
		    ShowName		    off
		    Value		    "0.001"
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion"
		    Position		    [470, 49, 525, 71]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion1"
		    Position		    [95, 29, 140, 51]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [295, 25, 325, 75]
		    ShowName		    off
		    LimitOutput		    on
		    UpperSaturationLimit    "0.002"
		    LowerSaturationLimit    "0"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "R_device"
		    Position		    [240, 30, 270, 70]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Gain		    "1e7"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [415, 42, 445, 73]
		    ShowName		    off
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Vak-Vf-Ron*Iak"
		    Ports		    [2, 1]
		    Position		    [175, 31, 205, 64]
		    ShowName		    off
		    Inputs		    "+-"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [550, 53, 580, 67]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "0 2"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [0, 0; 10, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50; -180, 0]
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Vak-Vf-Ron*Iak"
		    SrcPort		    1
		    DstBlock		    "R_device"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "R_device"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion1"
		    SrcPort		    1
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [635, 108, 685, 132]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [510, 50, 560, 70]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion3"
		  Position		  [510, 160, 560, 180]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion5"
		  Position		  [125, 218, 175, 242]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion6"
		  Position		  [130, 94, 185, 116]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  Relay
		  Name			  "I>0"
		  Position		  [235, 33, 265, 57]
		  OnSwitchValue		  "1000*eps"
		  OffSwitchValue	  "0"
		}
		Block {
		  BlockType		  Relay
		  Name			  "I>1.5"
		  Position		  [460, 48, 490, 72]
		  OnSwitchValue		  "1.5"
		  OffSwitchValue	  "0"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Test2"
		  Position		  [710, 209, 730, 251]
		  Threshold		  "eps"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Vf"
		  Position		  [50, 99, 75, 121]
		  ShowName		  off
		  Value			  "Vf"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b"
		  Position		  [95, 88, 115, 117]
		  ShowName		  off
		  Operator		  ">"
		}
		Block {
		  BlockType		  Sum
		  Name			  "n1"
		  Ports			  [2, 1]
		  Position		  [420, 34, 445, 81]
		}
		Block {
		  BlockType		  Outport
		  Name			  "status"
		  Position		  [765, 220, 785, 240]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Data Type \nConversion5"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Test2"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    ". "
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Break Alg. Loop"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Data Type \nConversion3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -100]
		    DstBlock		    "n1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  ". "
		  SrcPort		  1
		  DstBlock		  "Break Alg. Loop"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion3"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  ". 1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  ". 1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "I>1.5"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  "Test2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  ". 1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "n1"
		  SrcPort		  1
		  DstBlock		  "I>1.5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "iak"
		  SrcPort		  1
		  DstBlock		  "I>0"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "I>0"
		  SrcPort		  1
		  DstBlock		  "n1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vf"
		  SrcPort		  1
		  DstBlock		  "b"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "      "
		  SrcPort		  1
		  DstBlock		  "Test2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Test2"
		  SrcPort		  1
		  DstBlock		  "status"
		  DstPort		  1
		}
		Line {
		  Name			  "gate signal"
		  Labels		  [0, 0]
		  SrcBlock		  "g"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion6"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  ". "
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "b"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vak"
		  SrcPort		  1
		  DstBlock		  "b"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      InitialCondition
	      Name		      "IC"
	      Position		      [345, 150, 375, 180]
	      Value		      "IC"
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator"
	      Ports		      [3, 1, 0, 0, 1]
	      Position		      [395, 75, 430, 185]
	      ExternalReset	      "rising"
	      InitialConditionSource  "external"
	      ShowStatePort	      on
	      Port {
		PortNumber		1
		Name			"GTO current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		2
		Name			"GTO current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "L_device"
	      Position		      [200, 58, 245, 112]
	      ShowName		      off
	      Gain		      "1./Lon"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [645, 368, 650, 412]
	      Inputs		      "2"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "R_device"
	      Position		      [260, 24, 300, 66]
	      Orientation	      "left"
	      ShowName		      off
	      Gain		      "Ron"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      Position		      [335, 80, 365, 110]
	      Threshold		      "eps"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Tail"
	      Ports		      [2, 1]
	      Position		      [535, 257, 580, 328]
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      Port {
		PortNumber		1
		Name			"GTO current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      System {
		Name			"Tail"
		Location		[261, 70, 689, 249]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "iak"
		  Position		  [25, 40, 45, 60]
		  NamePlacement		  "alternate"
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "switch"
		  Position		  [25, 70, 45, 90]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "1"
		  Position		  [95, 96, 115, 114]
		  ShowName		  off
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  Ports			  [2, 1]
		  Position		  [140, 92, 175, 143]
		  ExternalReset		  "falling"
		  LimitOutput		  on
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Look-Up\n Table"
		  Position		  [210, 101, 240, 139]
		  DialogController	  "Simulink.DDGSource"
		  InputValues		  "[  0   Tf+eps Tf+Tt+2*eps  Tf+Tt+3*"
"eps]"
		  OutputValues		  "[  1   0.1*(Tt>0) 0 0]"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  Ports			  [2, 1]
		  Position		  [275, 92, 305, 128]
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  Position		  [330, 36, 360, 124]
		  Threshold		  "eps"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Iak"
		  Position		  [385, 70, 405, 90]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "iak"
		  SrcPort		  1
		  Points		  [0, 0; 205, 0]
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Look-Up\n Table"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "switch"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Integrator"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "1"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  DstBlock		  "Look-Up\n Table"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Iak"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  3
		}
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Vak-VT-RT*Iak2"
	      Ports		      [3, 1]
	      Position		      [140, 70, 170, 100]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "-|+|-"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vf"
	      Position		      [142, 140, 168, 160]
	      Orientation	      "up"
	      ShowName		      off
	      Value		      "Vf"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vf1"
	      Position		      [305, 154, 325, 176]
	      ShowName		      off
	      Value		      "0*IC"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vf2"
	      Position		      [255, 95, 285, 115]
	      ShowName		      off
	      Value		      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [690, 285, 710, 305]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [715, 380, 735, 400]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      Name		      "switch status"
	      Labels		      [0, 0]
	      SrcBlock		      "Conduction Logic"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Labels			[-1, 1]
		DstBlock		"Tail"
		DstPort			2
	      }
	      Branch {
		Points			[0, -180]
		Branch {
		  DstBlock		  "Integrator"
		  DstPort		  2
		}
		Branch {
		  Points		  [0, -35]
		  DstBlock		  "Switch"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      Name		      "GTO current"
	      SrcBlock		      "Integrator"
	      SrcPort		      1
	      Points		      [30, 0]
	      Branch {
		Labels			[-1, 1]
		Points			[0, 145]
		DstBlock		"Tail"
		DstPort			1
	      }
	      Branch {
		Labels			[1, 1]
		Points			[0, -85]
		DstBlock		"R_device"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "GTO current"
	      Labels		      [6, 0]
	      SrcBlock		      "Integrator"
	      SrcPort		      state
	      Points		      [0, -10; 40, 0; 0, 160; -340, 0; 0, 60]
	      DstBlock		      "Conduction Logic"
	      DstPort		      1
	    }
	    Line {
	      Name		      "gate signal"
	      Labels		      [-1, 1]
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "Conduction Logic"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "R_device"
	      SrcPort		      1
	      Points		      [-100, 0]
	      DstBlock		      "Vak-VT-RT*Iak2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "GTO current"
	      SrcBlock		      "Tail"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Labels			[-1, 1]
		DstBlock		"i"
		DstPort			1
	      }
	      Branch {
		Labels			[1, 0]
		Points			[0, 85]
		DstBlock		"Mux"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      Name		      "GTO voltage"
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		Labels			[1, 0]
		DstBlock		"Vak-VT-RT*Iak2"
		DstPort			2
	      }
	      Branch {
		Labels			[1, 0]
		Points			[0, 225]
		Branch {
		  Points		  [0, 90]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Branch {
		  DstBlock		  "Conduction Logic"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Vf"
	      SrcPort		      1
	      DstBlock		      "Vak-VT-RT*Iak2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Vak-VT-RT*Iak2"
	      SrcPort		      1
	      DstBlock		      "L_device"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Vf1"
	      SrcPort		      1
	      DstBlock		      "IC"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "IC"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "L_device"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Vf2"
	      SrcPort		      1
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "mosfet"
	  Ports			  [2, 2]
	  Position		  [300, 15, 335, 70]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Mosfet model "
	  MaskDescription	  "Simulink model for the MOSFETblock. the  mo"
"del simulate an internal diode in parallel with the MOSFET. In on-state, the "
"MOSFET has an internal resistance (Ron if Ids>0 , Rd if Ids<0) and an  induct"
"ance (Lon). Lon cannot be set to zero). In off-state, the MOSFET impedance is"
" infinite. Input one is Vds and input two is the Gate signal. Output one is I"
"ds and output 2 is the measurement output vector [Ids Vds]."
	  MaskPromptString	  "MOSFET resistance Ron (Ohms) :|MOSFET induc"
"tance Lon (H) : |Internal diode resistance Rd (Ohms) :|Initial current Ic (A)"
" : "
	  MaskStyleString	  "edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on"
	  MaskCallbackString	  "|||"
	  MaskEnableString	  "on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on"
	  MaskToolTipString	  "on,on,on,on"
	  MaskVarAliasString	  ",,,"
	  MaskVariables		  "Ron=@1;Lon=@2;Rd=@3;IC=@4;"
	  MaskInitialization	  "ICmos=abs(IC).*(IC>0);\nICdiode=abs(IC).*(I"
"C<0);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  off
	  MaskIconRotate	  "port"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "0.001|0.05|1e-6|0"
	  MaskTabNameString	  ",,,"
	  System {
	    Name		    "mosfet"
	    Location		    [29, 294, 750, 823]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [25, 170, 45, 190]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"mosfet voltage"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [140, 385, 160, 405]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"gate signal"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0  1"
	      Position		      [420, 375, 440, 395]
	      ShowName		      off
	      Value		      "0"
	      Port {
		PortNumber		1
		Name			"zero current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Conduction Logic"
	      Ports		      [3, 1]
	      Position		      [250, 317, 335, 413]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Conduction Logic"
		Location		[165, 552, 801, 826]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Ids_meas"
		  Position		  [15, 15, 35, 35]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vds"
		  Position		  [15, 100, 35, 120]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Inport
		  Name			  "G"
		  Position		  [15, 185, 35, 205]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		}
		Block {
		  BlockType		  Constant
		  Name			  "      1"
		  Position		  [480, 79, 500, 101]
		  NamePlacement		  "alternate"
		  ShowName		  off
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		}
		Block {
		  BlockType		  Logic
		  Name			  ". 1"
		  Ports			  [2, 1]
		  Position		  [400, 100, 430, 140]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Logic
		  Name			  ". 2"
		  Ports			  [2, 1]
		  Position		  [230, 135, 260, 175]
		  ShowName		  off
		}
		Block {
		  BlockType		  Logic
		  Name			  ". 3"
		  Ports			  [1, 1]
		  Position		  [165, 181, 200, 209]
		  ShowName		  off
		  Operator		  "NOT"
		  Inputs		  "1"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Break Alg. Loop"
		  Ports			  [1, 1]
		  Position		  [280, 137, 325, 173]
		  DropShadow		  on
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskPromptString	  "number of switches"
		  MaskStyleString	  "edit"
		  MaskTunableValueString  "on"
		  MaskEnableString	  "on"
		  MaskVisibilityString	  "on"
		  MaskToolTipString	  "on"
		  MaskVariables		  "Nsw=@1;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "length(Ron)"
		  System {
		    Name		    "Break Alg. Loop"
		    Location		    [167, 447, 819, 576]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [35, 33, 65, 47]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "0 2"
		    Position		    [360, 53, 390, 77]
		    ShowName		    off
		    Value		    "0.001"
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion"
		    Position		    [470, 49, 525, 71]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion1"
		    Position		    [95, 29, 140, 51]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [295, 25, 325, 75]
		    ShowName		    off
		    LimitOutput		    on
		    UpperSaturationLimit    "0.00101"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "R_device"
		    Position		    [240, 30, 270, 70]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Gain		    "1e7"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [415, 42, 445, 73]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Vak-Vf-Ron*Iak"
		    Ports		    [2, 1]
		    Position		    [175, 31, 205, 64]
		    ShowName		    off
		    Inputs		    "+-"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [550, 53, 580, 67]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "0 2"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [0, 0; 10, 0]
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50; -180, 0]
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Vak-Vf-Ron*Iak"
		    SrcPort		    1
		    DstBlock		    "R_device"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "R_device"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion1"
		    SrcPort		    1
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion"
		  Position		  [445, 110, 495, 130]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [65, 181, 125, 209]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [345, 142, 380, 168]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion4"
		  Position		  [150, 109, 205, 131]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion5"
		  Position		  [155, 22, 210, 48]
		  ShowName		  off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Test2"
		  Position		  [530, 84, 550, 126]
		  Threshold		  "eps"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "test_v"
		  Position		  [110, 99, 130, 141]
		  ShowName		  off
		  Operator		  "<"
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "test_v1"
		  Position		  [110, 18, 130, 47]
		  ShowName		  off
		  Operator		  "<"
		}
		Block {
		  BlockType		  Constant
		  Name			  "zero"
		  Position		  [55, 120, 80, 140]
		  ShowName		  off
		  Value			  "-eps"
		}
		Block {
		  BlockType		  Constant
		  Name			  "zero1"
		  Position		  [60, 30, 85, 50]
		  ShowName		  off
		  Value			  "-eps"
		}
		Block {
		  BlockType		  Outport
		  Name			  "status"
		  Position		  [585, 95, 605, 115]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Break Alg. Loop"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "      1"
		  SrcPort		  1
		  DstBlock		  "Test2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Test2"
		  SrcPort		  1
		  DstBlock		  "status"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion"
		  SrcPort		  1
		  DstBlock		  "Test2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "test_v"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 45; 365, 0; 0, -135]
		    DstBlock		    "Test2"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    ". 3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Data Type \nConversion5"
		  SrcPort		  1
		  Points		  [170, 0]
		  DstBlock		  ". 1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "test_v1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion4"
		  SrcPort		  1
		  Points		  [5, 0]
		  DstBlock		  ". 2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "zero1"
		  SrcPort		  1
		  DstBlock		  "test_v1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Ids_meas"
		  SrcPort		  1
		  DstBlock		  "test_v1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "zero"
		  SrcPort		  1
		  DstBlock		  "test_v"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  ". 2"
		  SrcPort		  1
		  DstBlock		  "Break Alg. Loop"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  ". 3"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  ". 2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  ". 1"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "G"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vds"
		  SrcPort		  1
		  DstBlock		  "test_v"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  DstBlock		  ". 1"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      InitialCondition
	      Name		      "IC"
	      Position		      [410, 225, 440, 255]
	      Value		      "IC"
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator1"
	      Ports		      [3, 1, 0, 0, 1]
	      Position		      [455, 167, 485, 253]
	      ShowName		      off
	      ExternalReset	      "rising"
	      InitialConditionSource  "external"
	      LowerSaturationLimit    "0"
	      ShowStatePort	      on
	      Port {
		PortNumber		1
		Name			"mosfet current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	      Port {
		PortNumber		2
		Name			"mosfet current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Lon"
	      Position		      [250, 152, 305, 208]
	      ShowName		      off
	      Gain		      "1./Lon"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [595, 414, 600, 461]
	      Inputs		      "2"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "R_device"
	      Position		      [315, 20, 350, 60]
	      Orientation	      "left"
	      ShowName		      off
	      Gain		      "Ron"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "R_device1"
	      Position		      [315, 111, 350, 149]
	      Orientation	      "left"
	      ShowName		      off
	      Gain		      "Rd"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Signum
	      Name		      "Sign"
	      Position		      [320, 70, 350, 100]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Test"
	      Position		      [535, 332, 570, 398]
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Test4"
	      Position		      [245, 50, 285, 120]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      Threshold		      "eps"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Vds-Ron*Ids"
	      Ports		      [2, 1]
	      Position		      [170, 165, 200, 195]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "-+|"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vf1"
	      Position		      [370, 229, 390, 251]
	      ShowName		      off
	      Value		      "0*IC"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [635, 355, 655, 375]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [640, 430, 660, 450]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      Name		      "mosfet current"
	      SrcBlock		      "Integrator1"
	      SrcPort		      1
	      Points		      [0, 0; 25, 0]
	      Branch {
		Labels			[1, 0]
		Points			[0, 135]
		DstBlock		"Test"
		DstPort			1
	      }
	      Branch {
		Labels			[2, 0]
		Points			[0, -125; -130, 0]
		Branch {
		  DstBlock		  "Sign"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, -45]
		  DstBlock		  "R_device"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 45]
		  DstBlock		  "R_device1"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Test"
	      SrcPort		      1
	      Points		      [0, 0; 5, 0]
	      Branch {
		DstBlock		"Mux"
		DstPort			1
	      }
	      Branch {
		DstBlock		"i"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Conduction Logic"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		Points			[0, -155]
		DstBlock		"Integrator1"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Test"
		DstPort			2
	      }
	    }
	    Line {
	      Name		      "mosfet current"
	      Labels		      [-1, 1]
	      SrcBlock		      "Integrator1"
	      SrcPort		      state
	      Points		      [0, -15; 30, 0; 0, 143; -360, 0; 0, 45]
	      DstBlock		      "Conduction Logic"
	      DstPort		      1
	    }
	    Line {
	      Name		      "mosfet voltage"
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [0, 0; 15, 0]
	      Branch {
		Points			[0, 185]
		Branch {
		  Labels		  [-1, 1]
		  Points		  [0, 85]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Branch {
		  Labels		  [-1, 1]
		  DstBlock		  "Conduction Logic"
		  DstPort		  2
		}
	      }
	      Branch {
		Labels			[1, 0]
		DstBlock		"Vds-Ron*Ids"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Sign"
	      SrcPort		      1
	      DstBlock		      "Test4"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "R_device1"
	      SrcPort		      1
	      Points		      [-10, 0]
	      DstBlock		      "Test4"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Lon"
	      SrcPort		      1
	      DstBlock		      "Integrator1"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Vds-Ron*Ids"
	      SrcPort		      1
	      DstBlock		      "Lon"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "R_device"
	      SrcPort		      1
	      Points		      [-10, 0]
	      DstBlock		      "Test4"
	      DstPort		      1
	    }
	    Line {
	      Name		      "gate signal"
	      Labels		      [-1, 1]
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "Conduction Logic"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Test4"
	      SrcPort		      1
	      Points		      [-55, 0]
	      DstBlock		      "Vds-Ron*Ids"
	      DstPort		      1
	    }
	    Line {
	      Name		      "zero current"
	      Labels		      [0, 0]
	      SrcBlock		      "0  1"
	      SrcPort		      1
	      DstBlock		      "Test"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Vf1"
	      SrcPort		      1
	      DstBlock		      "IC"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "IC"
	      SrcPort		      1
	      DstBlock		      "Integrator1"
	      DstPort		      3
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "thyristor"
	  Ports			  [2, 2]
	  Position		  [80, 15, 115, 70]
	  BackgroundColor	  "lightBlue"
	  DropShadow		  on
	  AncestorBlock		  "powerlib_models/Switch Current Source/thyri"
"stor_GS"
	  TreatAsAtomicUnit	  off
	  MinAlgLoopOccurrences	  off
	  RTWSystemCode		  "Auto"
	  MaskType		  "Thyristor s model"
	  MaskDescription	  "Simulink model for the Thyristor block when"
" Lon>0. In on-state, the thyristor has an internal resistance (Ron) and an in"
"ductance (Lon). Lon cannot be set to zero. In off-state, the thyristor impeda"
"nce is infinite. Input one is Vak and input two is the gate signal. Output on"
"e is Iak and output two is the  measurement output vector [Iak Vak]."
	  MaskHelp		  "                                       \n  "
"                                                                             "
"                                                                             "
"                                                                             "
"                                                    "
	  MaskPromptString	  "Resistance Ron (Ohms) :|Inductance Lon (H) "
": |Forward voltage Vf (V) : |Initial current Ic (A) : "
	  MaskStyleString	  "edit,edit,edit,edit"
	  MaskTunableValueString  "on,on,on,on"
	  MaskCallbackString	  "|||"
	  MaskEnableString	  "on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on"
	  MaskToolTipString	  "on,on,on,on"
	  MaskVarAliasString	  ",,,"
	  MaskVariables		  "Ron=@1;Lon=@2;Vf=@3;IC=@4;"
	  MaskInitialization	  "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
"\n\n\n\n\n\n"
	  MaskIconFrame		  on
	  MaskIconOpaque	  off
	  MaskIconRotate	  "none"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  " 1|10e-6|0.8|47e-6"
	  MaskTabNameString	  ",,,"
	  System {
	    Name		    "thyristor"
	    Location		    [170, 344, 931, 798]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "v"
	      Position		      [15, 74, 35, 96]
	      NamePlacement	      "alternate"
	      Port		      "1"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"thyristor voltage"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "g"
	      Position		      [90, 315, 120, 335]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      LatchInput	      off
	      Port {
		PortNumber		1
		Name			"gate signal"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "0  1"
	      Position		      [375, 310, 395, 330]
	      ShowName		      off
	      Value		      "0"
	      Port {
		PortNumber		1
		Name			"zero current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Conduction Logic"
	      Ports		      [3, 1]
	      Position		      [210, 264, 290, 336]
	      DropShadow	      on
	      TreatAsAtomicUnit	      off
	      MinAlgLoopOccurrences   off
	      RTWSystemCode	      "Auto"
	      System {
		Name			"Conduction Logic"
		Location		[288, 465, 1052, 712]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Iak "
		  Position		  [40, 125, 60, 145]
		  Port			  "1"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		  Port {
		    PortNumber		    1
		    Name		    "thyristor current"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vak"
		  Position		  [40, 75, 60, 95]
		  Port			  "2"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		  Port {
		    PortNumber		    1
		    Name		    "thyristor voltage"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "G "
		  Position		  [40, 185, 60, 205]
		  Port			  "3"
		  IconDisplay		  "Port number"
		  LatchInput		  off
		  Port {
		    PortNumber		    1
		    Name		    "gate signal"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 1"
		  Position		  [155, 40, 175, 60]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 2"
		  Position		  [155, 90, 175, 110]
		  ShowName		  off
		  Value			  "Vf"
		}
		Block {
		  BlockType		  Constant
		  Name			  "0 3"
		  Position		  [155, 140, 175, 160]
		  ShowName		  off
		  Value			  "0"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Break Alg. Loop"
		  Ports			  [1, 1]
		  Position		  [595, 78, 665, 112]
		  DropShadow		  on
		  AncestorBlock		  "powerlib_models/Switch Current Sour"
"ce/thyristor/Conduction Logic/BAL-PB1"
		  TreatAsAtomicUnit	  off
		  MinAlgLoopOccurrences	  off
		  RTWSystemCode		  "Auto"
		  MaskPromptString	  "number of switches|initial conditio"
"ns"
		  MaskStyleString	  "edit,edit"
		  MaskTunableValueString  "on,on"
		  MaskCallbackString	  "|"
		  MaskEnableString	  "on,on"
		  MaskVisibilityString	  "on,on"
		  MaskToolTipString	  "on,on"
		  MaskVarAliasString	  ","
		  MaskVariables		  "Nsw=@1;IC=@2;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "length(Lon)|IC"
		  MaskTabNameString	  ","
		  System {
		    Name		    "Break Alg. Loop"
		    Location		    [175, 455, 827, 584]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    Position		    [35, 33, 65, 47]
		    Port		    "1"
		    IconDisplay		    "Port number"
		    LatchInput		    off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "0 2"
		    Position		    [360, 53, 390, 77]
		    ShowName		    off
		    Value		    "0.001"
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion1"
		    Position		    [95, 29, 140, 51]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "Data Type \nConversion2"
		    Position		    [475, 49, 520, 71]
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    Ports		    [1, 1]
		    Position		    [295, 25, 325, 75]
		    ShowName		    off
		    InitialCondition	    "0.00101*(IC&1)"
		    LimitOutput		    on
		    UpperSaturationLimit    "0.00101"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "R_device"
		    Position		    [240, 30, 270, 70]
		    NamePlacement	    "alternate"
		    ShowName		    off
		    Gain		    "1e7"
		    MaskIconFrame	    on
		    MaskIconOpaque	    on
		    MaskIconRotate	    "none"
		    MaskIconUnits	    "autoscale"
		    }
		    Block {
		    BlockType		    RelationalOperator
		    Name		    "Relational\nOperator1"
		    Position		    [415, 42, 445, 73]
		    Operator		    ">"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Vak-Vf-Ron*Iak"
		    Ports		    [2, 1]
		    Position		    [175, 31, 205, 64]
		    ShowName		    off
		    Inputs		    "+-"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    Position		    [550, 53, 580, 67]
		    IconDisplay		    "Port number"
		    BusOutputAsStruct	    off
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion1"
		    SrcPort		    1
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "R_device"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Vak-Vf-Ron*Iak"
		    SrcPort		    1
		    DstBlock		    "R_device"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [0, 0; 10, 0]
		    Branch {
		    Points		    [0, 50; -180, 0]
		    DstBlock		    "Vak-Vf-Ron*Iak"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "0 2"
		    SrcPort		    1
		    DstBlock		    "Relational\nOperator1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Relational\nOperator1"
		    SrcPort		    1
		    DstBlock		    "Data Type \nConversion2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Data Type \nConversion2"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion1"
		  Position		  [295, 33, 345, 57]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion2"
		  Position		  [295, 83, 345, 107]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion4"
		  Position		  [295, 183, 345, 207]
		  ShowName		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type \nConversion6"
		  Position		  [295, 133, 345, 157]
		  NamePlacement		  "alternate"
		  ShowName		  off
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b5"
		  Position		  [195, 26, 220, 59]
		  ShowName		  off
		  Operator		  ">"
		  Port {
		    PortNumber		    1
		    Name		    "Current > 0"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b6"
		  Position		  [195, 76, 220, 109]
		  ShowName		  off
		  Operator		  ">"
		  Port {
		    PortNumber		    1
		    Name		    "Voltage > Vf"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  RelationalOperator
		  Name			  "b7"
		  Position		  [195, 126, 220, 159]
		  ShowName		  off
		  Operator		  "=="
		  Port {
		    PortNumber		    1
		    Name		    "Current = 0"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    ShowSigGenPortName	    on
		  }
		}
		Block {
		  BlockType		  Logic
		  Name			  "or2"
		  Ports			  [2, 1]
		  Position		  [525, 75, 555, 115]
		  ShowName		  off
		  Operator		  "OR"
		}
		Block {
		  BlockType		  Logic
		  Name			  "or3"
		  Ports			  [3, 1]
		  Position		  [440, 125, 470, 165]
		  ShowName		  off
		  Inputs		  "3"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Status"
		  Position		  [710, 85, 730, 105]
		  IconDisplay		  "Port number"
		  BusOutputAsStruct	  off
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Data Type \nConversion4"
		  SrcPort		  1
		  Points		  [65, 0; 0, -35]
		  DstBlock		  "or3"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "or3"
		  SrcPort		  1
		  Points		  [25, 0; 0, -40]
		  DstBlock		  "or2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "or2"
		  SrcPort		  1
		  DstBlock		  "Break Alg. Loop"
		  DstPort		  1
		}
		Line {
		  Name			  "Voltage > Vf"
		  Labels		  [0, 0]
		  SrcBlock		  "b6"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion2"
		  DstPort		  1
		}
		Line {
		  Name			  "Current > 0"
		  Labels		  [0, 0]
		  SrcBlock		  "b5"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion1"
		  DstPort		  1
		}
		Line {
		  Name			  "thyristor voltage"
		  Labels		  [0, 0]
		  SrcBlock		  "Vak"
		  SrcPort		  1
		  DstBlock		  "b6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "0 1"
		  SrcPort		  1
		  DstBlock		  "b5"
		  DstPort		  2
		}
		Line {
		  Name			  "Current = 0"
		  Labels		  [0, 0]
		  SrcBlock		  "b7"
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "0 3"
		  SrcPort		  1
		  DstBlock		  "b7"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "0 2"
		  SrcPort		  1
		  DstBlock		  "b6"
		  DstPort		  2
		}
		Line {
		  Name			  "thyristor current"
		  Labels		  [0, 0]
		  SrcBlock		  "Iak "
		  SrcPort		  1
		  Points		  [0, 0; 80, 0]
		  Branch {
		    DstBlock		    "b7"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -100]
		    DstBlock		    "b5"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "gate signal"
		  Labels		  [0, 0]
		  SrcBlock		  "G "
		  SrcPort		  1
		  DstBlock		  "Data Type \nConversion4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion6"
		  SrcPort		  1
		  DstBlock		  "or3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Data Type \nConversion1"
		  SrcPort		  1
		  Points		  [150, 0; 0, 40]
		  DstBlock		  "or2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Data Type \nConversion2"
		  SrcPort		  1
		  Points		  [65, 0; 0, 35]
		  DstBlock		  "or3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Break Alg. Loop"
		  SrcPort		  1
		  DstBlock		  "Status"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      InitialCondition
	      Name		      "IC"
	      Position		      [365, 130, 395, 160]
	      Value		      "IC"
	    }
	    Block {
	      BlockType		      Integrator
	      Name		      "Integrator"
	      Ports		      [3, 1]
	      Position		      [415, 70, 450, 160]
	      ShowName		      off
	      ExternalReset	      "rising"
	      InitialConditionSource  "external"
	      LimitOutput	      on
	      LowerSaturationLimit    "0"
	      Port {
		PortNumber		1
		Name			"Inductor current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Lon"
	      Position		      [265, 61, 310, 109]
	      ShowName		      off
	      Gain		      "1./Lon"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      Ports		      [2, 1]
	      Position		      [635, 361, 640, 399]
	      Inputs		      "2"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "R_device"
	      Position		      [280, 13, 330, 47]
	      Orientation	      "left"
	      NamePlacement	      "alternate"
	      ShowName		      off
	      Gain		      "Ron"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskIconUnits	      "autoscale"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Test"
	      Position		      [510, 267, 545, 333]
	      Threshold		      "0.5"
	      SaturateOnIntegerOverflow	off
	      Port {
		PortNumber		1
		Name			"Thyiristor Current"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
		ShowSigGenPortName	on
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Vak-VT-RT*Iak2"
	      Ports		      [3, 1]
	      Position		      [180, 70, 210, 100]
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "-|+|-"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vf"
	      Position		      [180, 135, 210, 155]
	      Orientation	      "up"
	      Value		      "Vf"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Vf1"
	      Position		      [325, 134, 345, 156]
	      ShowName		      off
	      Value		      "0*IC"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "i"
	      Position		      [665, 290, 685, 310]
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "m"
	      Position		      [670, 370, 690, 390]
	      Port		      "2"
	      IconDisplay	      "Port number"
	      BusOutputAsStruct	      off
	      InitialOutput	      "0"
	    }
	    Line {
	      Name		      "gate signal"
	      Labels		      [-1, 1]
	      SrcBlock		      "g"
	      SrcPort		      1
	      DstBlock		      "Conduction Logic"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Conduction Logic"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		Points			[0, -185]
		DstBlock		"Integrator"
		DstPort			2
	      }
	      Branch {
		DstBlock		"Test"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "m"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Lon"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Inductor current"
	      Labels		      [0, 1]
	      SrcBlock		      "Integrator"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		Points			[0, -85]
		DstBlock		"R_device"
		DstPort			1
	      }
	      Branch {
		Points			[0, 165]
		DstBlock		"Test"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "thyristor voltage"
	      SrcBlock		      "v"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		Points			[0, 215]
		Branch {
		  Labels		  [-1, 1]
		  DstBlock		  "Conduction Logic"
		  DstPort		  2
		}
		Branch {
		  Labels		  [-1, 1]
		  Points		  [0, 90]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
	      }
	      Branch {
		Labels			[1, 0]
		DstBlock		"Vak-VT-RT*Iak2"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Vak-VT-RT*Iak2"
	      SrcPort		      1
	      DstBlock		      "Lon"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "IC"
	      SrcPort		      1
	      DstBlock		      "Integrator"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "R_device"
	      SrcPort		      1
	      Points		      [-80, 0]
	      DstBlock		      "Vak-VT-RT*Iak2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Vf"
	      SrcPort		      1
	      DstBlock		      "Vak-VT-RT*Iak2"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Vf1"
	      SrcPort		      1
	      DstBlock		      "IC"
	      DstPort		      1
	    }
	    Line {
	      Name		      "Thyiristor Current"
	      Labels		      [0, 0]
	      SrcBlock		      "Test"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		DstBlock		"i"
		DstPort			1
	      }
	      Branch {
		Points			[0, 70]
		DstBlock		"Mux"
		DstPort			1
	      }
	      Branch {
		Labels			[4, 0]
		Points			[0, -80; -480, 0; 0, 55]
		DstBlock		"Conduction Logic"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "zero current"
	      FontName		      "MS Sans Serif"
	      Labels		      [0, 0]
	      SrcBlock		      "0  1"
	      SrcPort		      1
	      DstBlock		      "Test"
	      DstPort		      3
	    }
	  }
	}
      }
    }
  }
}
