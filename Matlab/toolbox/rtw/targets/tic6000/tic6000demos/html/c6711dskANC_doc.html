<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 9">
<meta name=Originator content="Microsoft Word 9">
<link rel=File-List href="./_c6711dskANC_doc_files/filelist.xml">
<title>C6711 DSK Adaptive Noise Cancelation</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Revision>2</o:Revision>
  <o:TotalTime>1</o:TotalTime>
  <o:Created>2002-11-25T21:25:00Z</o:Created>
  <o:LastSaved>2002-11-25T21:25:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Company>The MathWorks, Inc.</o:Company>
  <o:Lines>1</o:Lines>
  <o:Paragraphs>1</o:Paragraphs>
  <o:Version>9.4402</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:TargetScreenSize>1600x1200</o:TargetScreenSize>
 </o:OfficeDocumentSettings>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>90</w:Zoom>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
@font-face
	{font-family:Bookman;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
@page Section1
	{size:8.5in 11.0in;
	margin:.4in .2in .2in .2in;
	mso-header-margin:0in;
	mso-footer-margin:0in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
@list l0
	{mso-list-id:26107262;
	mso-list-type:hybrid;
	mso-list-template-ids:-563709674 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l1
	{mso-list-id:1820884268;
	mso-list-type:hybrid;
	mso-list-template-ids:-1050513594 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoNormal><b><span style='font-size:14.0pt;mso-bidi-font-size:13.5pt;
font-family:Arial;color:#990000'>C6711 DSK Adaptive Noise Cancelation<o:p></o:p></span></b></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Arial'>This Simulink model demonstrates an adaptive filtering
application on the C6711 DSK using Embedded Target for Texas Instruments
TMS320C6000 DSP Platform.<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoNormal><b><span style='font-size:13.5pt;font-family:Arial;
color:#990000'>Adaptive Filter Algorithm<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;mso-bidi-font-size:10.5pt;font-family:Arial'>The Least
Mean Square adaptive filter uses the reference signal (on the &quot;In&quot;
port) and the error signal (on the &quot;Err&quot; port) to automatically<span
style="mso-spacerun: yes">  </span>match the filter response in the block
labeled &quot;Noise filter&quot;. As it converges to the correct filter, the
filtered noise should be completely subtracted from the &quot;Signal +
Noise&quot; signal and the &quot;Error Signal&quot; should contain only the
original signal. <o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;mso-bidi-font-size:10.5pt;font-family:Arial'>For
details, see &quot;Adaptive Filter Theory&quot;, 3rd Ed. by S. Haykin,
Prentice-Hall 1996. <o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;mso-bidi-font-size:10.5pt;font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoNormal><b><span style='font-size:13.5pt;font-family:Arial;
color:#990000'>Opening the demo model <o:p></o:p></span></b></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l1 level1 lfo1;tab-stops:list .5in'><span
     style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Arial'><a
     href="matlab:c6711dskANC">Conventional RTDX Version</a><o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l1 level1 lfo1;tab-stops:list .5in'><span
     style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Arial'><a
     href="matlab:c6711dskANC_hsrtdx">High-Speed RTDX version</a><span
     style="mso-spacerun: yes">  </span>(Requires XDS 560 Emulator)<o:p></o:p></span></li>
</ul>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<img SRC="c6711dskANC_mdl.gif">

<p class=MsoNormal><b><span style='font-size:13.5pt;font-family:Arial;
color:#990000'>Starting the demo<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;mso-bidi-font-size:7.5pt;font-family:Arial'>Connect a
CD player or other audio source to the 'line in' jack on your C6711DSK
board.<span style="mso-spacerun: yes">  </span><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Arial'>If you have previously generated code for this model, you
can save time by simply double-clicking </span><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New"'>Build / Reload &amp; Run</span><span
style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Arial'><span
style="mso-spacerun: yes">  </span>-- just make sure that the current directory
is the location of the generated RTW subdirectory.<span style="mso-spacerun:
yes">  </span>To generate code anew, move to a writable working directory and
choose</span><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:"Courier New"'> Tools -&gt; Real-Time Workshop -&gt; Build Model</span><span
style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Arial'> (or
Ctrl-B).<span style="mso-spacerun: yes">  </span><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Arial'>After generating code, Real-Time Workshop connects to Code
Composer Studio and creates a new project.<span style="mso-spacerun: yes"> 
</span>After compiling and linking the code, Real-Time Workshop<span
style="mso-spacerun: yes">  </span>downloads the COFF file to your C6711 DSK
and begins execution.<span style="mso-spacerun: yes">  </span>At this time, if
you have connected speakers to the audio output jack of the DSK, you should
hear the noisy signal.<span style="mso-spacerun: yes">  </span><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Arial'>Double-click on </span><span style='font-size:10.0pt;
mso-bidi-font-size:12.0pt;font-family:"Courier New"'>Display RTDX Data</span><span
style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Arial'> to watch
the filter coefficients and the signals.<span style="mso-spacerun: yes"> 
</span><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Arial'>Now, you are ready to begin the adaptation algorithm.<span
style="mso-spacerun: yes">  </span>Press down <a
href="c6711dsk_UserSwitch_doc.html">User DIP Switch 1</a> on the DSK to
initiate the algorithm.<span style="mso-spacerun: yes">  </span>You should hear
the noise component of the signal slowly decrease in volume as the filter adapts.<span
style="mso-spacerun: yes">  </span><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Arial'>Note that the adaptation step size (mu) has been set to an
artificially-low value, 0.001, in order to prolong the adaptation phase to a
perceptible length of time.<span style="mso-spacerun: yes">  </span>To change
the step size to a more realistic value (0.05), double-click </span><span
style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:"Courier New"'>Fast
Adapt</span><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:
Arial'>. <o:p></o:p></span></p>

<p class=MsoNormal><b><span style='font-size:13.5pt;font-family:Arial;
color:#990000'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></b></p>

<p class=MsoNormal><b><span style='font-size:13.5pt;font-family:Arial;
color:#990000'>Controlling the algorithm<o:p></o:p></span></b></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Arial'>You can control the adaptive filter during execution by
moving <a href="c6711dsk_UserSwitch_doc.html">User DIP Switches</a>. </span><span
style='font-family:Arial'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:10.0pt;mso-bidi-font-size:7.5pt;font-family:Arial'>USER_SW1: <o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;mso-bidi-font-size:7.5pt;font-family:Arial'><span
style="mso-spacerun: yes">   </span>‘Off’ — pause adaptation process<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;mso-bidi-font-size:7.5pt;font-family:Arial'><span
style="mso-spacerun: yes">   </span>‘On’ — start/resume LMS adaptation process<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:10.0pt;mso-bidi-font-size:7.5pt;font-family:Arial'>USER_SW2: <o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;mso-bidi-font-size:7.5pt;font-family:Arial'><span
style="mso-spacerun: yes">   </span>‘Off’ — disable reset<span
style="mso-spacerun: yes">                          </span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;mso-bidi-font-size:7.5pt;font-family:Arial'><span
style="mso-spacerun: yes">   </span>‘On’ — reset LMS adaptation process<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><b><span
style='font-size:10.0pt;mso-bidi-font-size:7.5pt;font-family:Arial'>USER_SW3: <o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;mso-bidi-font-size:7.5pt;font-family:Arial'><span
style="mso-spacerun: yes">   </span>‘Off’ — apply bandpass noise model<o:p></o:p></span></p>

<p class=MsoNormal style='mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt;mso-bidi-font-size:7.5pt;font-family:Arial'><span
style="mso-spacerun: yes">   </span>‘On’ — apply high-pass noise model<o:p></o:p></span></p>

<p class=MsoNormal><b><span style='font-size:13.5pt;font-family:Arial;
color:#990000'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></b></p>

<p class=MsoNormal><b><span style='font-size:13.5pt;font-family:Arial;
color:#990000'>Troubleshooting<o:p></o:p></span></b></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Arial'>If the demo does not behave as you expect, try the following
remedies:<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<ul style='margin-top:0in' type=disc>
 <li class=MsoNormal style='mso-list:l0 level1 lfo2;tab-stops:list .5in'><span
     style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Arial'>Reset
     the C6711 DSK before downloading the COFF file.<span style="mso-spacerun:
     yes">  </span>A “soft” reset via Code Composer Studio may suffice, but you
     may also try a “hard” reset:<span style="mso-spacerun: yes">  </span>close
     CCS, clear MATLAB’s base workspace of any CCSDSP handles, unplug the
     board’s power momentarily, and double-click “Build / Reload &amp; Run”
     again.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l0 level1 lfo2;tab-stops:list .5in'><span
     style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Arial'>If
     you have multiple boards listed in Code Composer Studio Setup, make sure
     that the correct board was selected by Real-Time Workshop.<span
     style="mso-spacerun: yes">  </span>You can control this selection process
     in RTW Options, under the</span><span style='font-size:10.0pt;mso-bidi-font-size:
     12.0pt;font-family:"Courier New"'> TI C6000 Target Selection</span><span
     style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Arial'>
     category.<span style="mso-spacerun: yes">  </span>You can manually specify
     a board if the correct board is not selected by Real-Time Workshop.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l0 level1 lfo2;tab-stops:list .5in'><span
     style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Arial'>If you
     are using an XDS 560 Emulator, you can enable High-Speed RTDX; if not, you
     cannot.<span style="mso-spacerun: yes">  </span>Make sure these parameters
     are compatible in RTW Options.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-list:l0 level1 lfo2;tab-stops:list .5in'><span
     style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Arial'>Set
     the DIP Switches to the ‘off’ position and reload and restart the program.<o:p></o:p></span></li>
</ul>

<p class=MsoNormal><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;
font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;
font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;
font-family:Arial'>Copyright 2002 The MathWorks, Inc.</span><span
style='font-size:8.0pt;mso-bidi-font-size:12.0pt;font-family:Arial'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:8.0pt;mso-bidi-font-size:10.0pt;
font-family:Arial'>

<div xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd"
style='left:30px;position:relative'>$Revision: 1.1.6.1 $</span><span
style='font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Arial'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Arial'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Bookman'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

</div>

</body>

</html>
