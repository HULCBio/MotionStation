
'using the POT to control position
'
'

d=0				'initialize variable d for storing analog input D
dd=0				'initialize variable dd for store the diff between the new and the old reading
ddd=0			'initialize variable ddd for storing of old analog reading
a=360/2
Ra

UDI				'initialize port A as input for reading analog signal
MP				'set motor to run in mode position
A=3000			'set acceleration
V=32212*110		'set velocity A=32212 is 1 rev/sec
p=100			'set distance range 0 to 100000 cnt
WHILE 1			'inifinite while loop
	d=UDA		'read ananlog input D and store value into variable d
	dd=d-ddd		'compare diff between new reading and old reading
	IF dd<0		'convert dd to abs value
		dd=-dd
	ENDIF
	IF 1		'dd>7			'deadband for analog signal for being unstable
		ddd=d		'store used analog into ddd
		dd=d*p		'doing math
		D=dd/1023
		G			'star motion
	ENDIF	
'	b=@P*a

 '	PRINT("d=",d,"  dd=",dd,"  ddd=",ddd,"  D=",D,"  rot=",@P,#13)	
LOOP					'end of loop


END					'mark END of program
