<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:o="urn:schemas-microsoft-com:office:office"
 xmlns:w="urn:schemas-microsoft-com:office:word"
 xmlns="http://www.w3.org/TR/REC-html40">
<head>
             
  <meta http-equiv="Content-Type"
 content="text/html; charset=windows-1252">
             
  <meta name="ProgId" content="Word.Document">
             
  <meta name="Generator" content="Microsoft Word 9">
             
  <meta name="Originator" content="Microsoft Word 9">
             
  <link rel="File-List" href="./_c6711dskANC_doc_files/filelist.xml">
  <title>C6000 Adaptive Noise Cancelation</title>
              <!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Revision>2</o:Revision>
  <o:TotalTime>1</o:TotalTime>
  <o:Created>2002-11-25T21:25:00Z</o:Created>
  <o:LastSaved>2002-11-25T21:25:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Company>The MathWorks, Inc.</o:Company>
  <o:Lines>1</o:Lines>
  <o:Paragraphs>1</o:Paragraphs>
  <o:Version>9.4402</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:TargetScreenSize>1600x1200</o:TargetScreenSize>
 </o:OfficeDocumentSettings>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>90</w:Zoom>
 </w:WordDocument>
</xml><![endif]-->
          
  <style>
<!--
 /* Font Definitions */
@font-face
	{font-family:Bookman;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
@page Section1
	{size:8.5in 11.0in;
	margin:.4in .2in .2in .2in;
	mso-header-margin:0in;
	mso-footer-margin:0in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
@list l0
	{mso-list-id:26107262;
	mso-list-type:hybrid;
	mso-list-template-ids:-563709674 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l1
	{mso-list-id:1820884268;
	mso-list-type:hybrid;
	mso-list-template-ids:-1050513594 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
  </style>
</head>
  <body lang="EN-US" link="blue" vlink="purple" style="">
        
<div class="Section1">     
<p class="MsoNormal"><b><span
 style="font-size: 14pt; font-family: Arial; color: rgb(153,0,0);">Adaptive 
 Noise Cancelation<o:p></o:p></span></b></p>
        
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;"><!--[if !supportEmptyParas]--> <!--[endif]--><o:p></o:p></span></p>
        
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;">This 
 Simulink model demonstrates an adaptive filtering application on your Texas 
 Instruments DSP Starter Kit using Embedded Target for Texas Instruments TMS320C6000
 DSP Platform.<o:p></o:p></span></p>
        
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;"><!--[if !supportEmptyParas]--> <!--[endif]--><o:p></o:p></span></p>
        
<p class="MsoNormal"><b><span
 style="font-size: 13.5pt; font-family: Arial; color: rgb(153,0,0);">Adaptive 
 Filter Algorithm<o:p></o:p></span></b></p>
        
<p class="MsoNormal" style=""><span
 style="font-size: 10pt; font-family: Arial;">The Least Mean Square adaptive 
 filter uses the reference signal (on the "In" port) and the error signal 
(on the "Err" port) to automatically<span style="">  </span>match the filter 
response in the block labeled "Noise filter". As it converges to the correct 
filter, the filtered noise should be completely subtracted from the "Signal 
+ Noise" signal and the "Error Signal" should contain only the original signal. 
<o:p></o:p></span></p>
        
<p class="MsoNormal" style=""><span
 style="font-size: 10pt; font-family: Arial;">For details, see "Adaptive Filter
Theory", 3rd Ed. by S. Haykin, Prentice-Hall 1996. <o:p></o:p></span></p>
        
<p class="MsoNormal" style=""><span
 style="font-size: 10pt; font-family: Arial;"><!--[if !supportEmptyParas]--> <!--[endif]--><o:p></o:p></span></p>
        
<p class="MsoNormal"><b><span
 style="font-size: 13.5pt; font-family: Arial; color: rgb(153,0,0);">Opening 
 the demo model <o:p></o:p></span></b>  <span
 style="font-size: 10pt; font-family: Arial;"><br>
   </span></p>
     
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;"></span></p>
     
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;"><b>C6711 
 DSK: </b> </span><span style="font-size: 10pt; font-family: Arial;"><a
 href="matlab:c6711dskANC">Conventional RTDX Version</a></span>, <a
 href="matlab:c6711dskANC_hsrtdx"><span
 style="font-size: 10pt; font-family: Arial;"></span></a><a
 href="matlab:c6711dskANC_hsrtdx"><span
 style="font-size: 10pt; font-family: Arial;"></span></a><span
 style="font-size: 10pt; font-family: Arial;"><a
 href="matlab:c6711dskANC_hsrtdx">High-Speed RTDX version</a><span
 style="">  </span></span></p>
       
<p class="MsoNormal">     </p>
     
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;"><b>C6713 
 DSK: </b> </span><span style="font-size: 10pt; font-family: Arial;"><a
 href="matlab:c6713dskANC">Conventional RTDX Version</a></span>, <a
 href="matlab:c6711dskANC_hsrtdx"><span
 style="font-size: 10pt; font-family: Arial;"></span></a><a
 href="matlab:c6711dskANC_hsrtdx"><span
 style="font-size: 10pt; font-family: Arial;"></span></a><span
 style="font-size: 10pt; font-family: Arial;"><a
 href="matlab:c6713dskANC_hsrtdx">High-Speed RTDX version</a><span
 style="">  </span></span><span
 style="font-size: 10pt; font-family: Arial;"><br>
   <!--[endif]--></span><span
 style="font-size: 10pt; font-family: Arial;">(High-Speed  RTDX requires XDS
560 Emulator</span>.<span style="font-size: 10pt; font-family: Arial;">)<br>
   </span><span style="font-size: 10pt; font-family: Arial;"><o:p></o:p></span></p>
        <img src="c6711dskANC_mdl.gif">
        
<p class="MsoNormal"><b><span
 style="font-size: 13.5pt; font-family: Arial; color: rgb(153,0,0);">Starting 
 the demo<o:p></o:p></span></b></p>
        
<p class="MsoNormal" style=""><span
 style="font-size: 10pt; font-family: Arial;">Connect a CD player or other 
 audio source to the 'line in' jack on your DSK board.<span style="">  </span><o:p></o:p></span></p>
        
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;">If 
 you have previously generated code for this model, you can save time by simply
 double-clicking </span><span
 style="font-size: 10pt; font-family: &quot;Courier New&quot;;">Build / Reload &amp; 
 Run</span><span style="font-size: 10pt; font-family: Arial;"><span
 style="">  </span>-- just make sure that the current directory is the location 
 of the generated RTW subdirectory.<span style="">  </span>To generate code 
 anew, move to a writable working directory and choose</span><span
 style="font-size: 10pt; font-family: &quot;Courier New&quot;;"> Tools -&gt; Real-Time 
 Workshop -&gt; Build Model</span><span
 style="font-size: 10pt; font-family: Arial;"> (or Ctrl-B).<span
 style="">  </span><o:p></o:p></span></p>
        
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;">After 
 generating code, Real-Time Workshop connects to Code Composer Studio and 
creates a new project.<span style="">  </span>After compiling and linking 
the code, Real-Time Workshop<span style="">  </span>downloads the COFF file 
to your DSK and begins execution.<span style="">  </span>At this time, if 
 you have connected speakers to the audio output jack of the DSK, you should 
 hear the noisy signal.<span style="">  </span><o:p></o:p></span></p>
        
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;">Double-click 
 on </span><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">Display 
 RTDX Data</span><span style="font-size: 10pt; font-family: Arial;"> to watch
  the filter coefficients and the signals.<span style="">  </span><o:p></o:p></span></p>
        
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;">Now, 
 you are ready to begin the adaptation algorithm.<span style="">  </span>Press 
 down the leftmost User DIP switch on the DSK to initiate the algorithm.<span
 style="">  </span>You should hear the noise component of the signal slowly 
 decrease in volume as the filter adapts.<span style="">  </span><o:p></o:p></span></p>
        
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;">Note 
 that the adaptation step size (mu) has been set to an artificially-low value, 
 0.001, in order to prolong the adaptation phase to a perceptible length of
 time.<span style="">  </span>To change the step size to a more realistic 
value (0.05), double-click </span><span
 style="font-size: 10pt; font-family: &quot;Courier New&quot;;">Fast Adapt</span><span
 style="font-size: 10pt; font-family: Arial;">. <o:p></o:p></span></p>
        
<p class="MsoNormal"><b><span
 style="font-size: 13.5pt; font-family: Arial; color: rgb(153,0,0);"><!--[if !supportEmptyParas]--> <!--[endif]--><o:p></o:p></span></b></p>
        
<p class="MsoNormal"><b><span
 style="font-size: 13.5pt; font-family: Arial; color: rgb(153,0,0);">Controlling 
 the algorithm<o:p></o:p></span></b></p>
        
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;">You 
 can control the adaptive filter during execution by moving the User DIP Switches.
 </span><span style="font-family: Arial;"><o:p></o:p></span></p>
        
<p class="MsoNormal" style=""><b><span
 style="font-size: 10pt; font-family: Arial;">Switch 0   </span></b><span
 style="font-size: 10pt; font-family: Arial;">(Switch 1 on C6711DSK)</span>:<b><span
 style="font-size: 10pt; font-family: Arial;"> <o:p></o:p></span></b></p>
        
<p class="MsoNormal" style=""><span
 style="font-size: 10pt; font-family: Arial;"><span style="">   </span>‘Off’ 
 — pause adaptation process<o:p></o:p></span></p>
        
<p class="MsoNormal" style=""><span
 style="font-size: 10pt; font-family: Arial;"><span style="">   </span>‘On’ 
 — start/resume LMS adaptation process<o:p></o:p></span></p>
        
<p class="MsoNormal" style=""><b><span
 style="font-size: 10pt; font-family: Arial;"></span></b></p>
     
<p class="MsoNormal" style=""><b><span
 style="font-size: 10pt; font-family: Arial;">Switch 1   </span></b><span
 style="font-size: 10pt; font-family: Arial;">(Switch 2 on C6711DSK)</span>:<b><span
 style="font-size: 10pt; font-family: Arial;"> <o:p></o:p></span></b></p>
     <span style="font-size: 10pt; font-family: Arial;"><span style=""></span></span> 
  
<p class="MsoNormal" style=""><span
 style="font-size: 10pt; font-family: Arial;"><span style="">   </span>‘Off’ 
 — disable reset<span style="">                          </span><o:p></o:p></span></p>
        
<p class="MsoNormal" style=""><span
 style="font-size: 10pt; font-family: Arial;"><span style="">   </span>‘On’ 
 — reset LMS adaptation process<o:p></o:p></span></p>
        
<p class="MsoNormal" style=""><b><span
 style="font-size: 10pt; font-family: Arial;"></span></b></p>
     
<p class="MsoNormal" style=""><b><span
 style="font-size: 10pt; font-family: Arial;">Switch 2   </span></b><span
 style="font-size: 10pt; font-family: Arial;">(Switch 3 on C6711DSK)</span>:<b><span
 style="font-size: 10pt; font-family: Arial;"> <o:p></o:p></span></b></p>
     <span style="font-size: 10pt; font-family: Arial;"><span style=""></span></span> 
  
<p class="MsoNormal" style=""><span
 style="font-size: 10pt; font-family: Arial;"><span style="">   </span>‘Off’ 
 — apply bandpass noise model<o:p></o:p></span></p>
        
<p class="MsoNormal" style=""><span
 style="font-size: 10pt; font-family: Arial;"><span style="">   </span>‘On’ 
 — apply high-pass noise model<o:p></o:p></span></p>
        
<p class="MsoNormal"><b><span
 style="font-size: 13.5pt; font-family: Arial; color: rgb(153,0,0);"><!--[if !supportEmptyParas]--> <!--[endif]--><o:p></o:p></span></b></p>
        
<p class="MsoNormal"><b><span
 style="font-size: 13.5pt; font-family: Arial; color: rgb(153,0,0);">Troubleshooting<o:p></o:p></span></b></p>
        
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;">If 
 the demo does not behave as you expect, try the following remedies:<o:p></o:p></span></p>
        
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;"><!--[if !supportEmptyParas]--> <!--[endif]--><o:p></o:p></span></p>
        
<ul style="margin-top: 0in;" type="disc">
     <li class="MsoNormal" style=""><span
 style="font-size: 10pt; font-family: Arial;">Reset      the DSK before downloading 
 the COFF file.<span style="">  </span>A “soft” reset via Code Composer Studio 
 may suffice, but you      may also try a “hard” reset:<span style="">  </span>close
       CCS, clear MATLAB’s base workspace of any CCSDSP handles, unplug the
       board’s power momentarily, and double-click “Build / Reload &amp;
Run”        again.<o:p></o:p></span></li>
     <li class="MsoNormal" style=""><span
 style="font-size: 10pt; font-family: Arial;">If      you have multiple boards 
 listed in Code Composer Studio Setup, make sure      that the correct board 
 was selected by Real-Time Workshop.<span style="">  </span>You can control 
 this selection process      in RTW Options, under the</span><span
 style="font-size: 10pt; font-family: &quot;Courier New&quot;;"> TI C6000 Target Selection</span><span
 style="font-size: 10pt; font-family: Arial;">      category.<span
 style="">  </span>You can manually specify      a board if the correct board 
 is not selected by Real-Time Workshop.<o:p></o:p></span></li>
     <li class="MsoNormal" style=""><span
 style="font-size: 10pt; font-family: Arial;">If you      are using an XDS 
 560 Emulator, you can enable High-Speed RTDX; if not, you      cannot.<span
 style="">  </span>Make sure these parameters      are compatible in RTW Options.<o:p></o:p></span></li>
     <li class="MsoNormal" style=""><span
 style="font-size: 10pt; font-family: Arial;">Set      the DIP Switches to 
 the ‘off’ position and reload and restart the program.<o:p></o:p></span></li>
       
</ul>
        
<p class="MsoNormal"><span style="font-size: 8pt; font-family: Arial;"><!--[if !supportEmptyParas]--> <!--[endif]--><o:p></o:p></span></p>
        
<p class="MsoNormal"><span style="font-size: 8pt; font-family: Arial;"><!--[if !supportEmptyParas]--> <!--[endif]--><o:p></o:p></span></p>
        
<p class="MsoNormal"><span style="font-size: 8pt; font-family: Arial;">Copyright 
 2002-2003 The MathWorks, Inc.</span><span
 style="font-size: 8pt; font-family: Arial;"><o:p></o:p></span></p>
        
<p class="MsoNormal"><span style="font-size: 8pt; font-family: Arial;"> 
   
<div
 xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd"
 style="left: 30px; position: relative;">$Revision: 1.1.6.1 $<span
 style="font-size: 10pt; font-family: Arial;"><o:p></o:p></span></div>
   </span></p>
        
<p class="MsoNormal"><span style="font-size: 10pt; font-family: Arial;"><!--[if !supportEmptyParas]--> <!--[endif]--><o:p></o:p></span></p>
        
<p class="MsoNormal"><span
 style="font-size: 10pt; font-family: Bookman;"><!--[if !supportEmptyParas]--> <!--[endif]--><o:p></o:p></span></p>
     </div>
     <br>
   <br>
  <br>
 <br>
</body>
</html>
