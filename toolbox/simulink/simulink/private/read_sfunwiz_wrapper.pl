#  Name:
#     read_sfunwiz_wrapper.pl-- reads the code from the wrapper S-function generated by the wizard
#  Usage:
#    to be called by $MATLAB/toolbox/simulink/simulink/sfunctionwizard.m
#
# Copyright 1990-2002 The MathWorks, Inc.
# $Revision: 1.2 $

($FileParams, $StartLineStr,$EndLineStr )= @ARGV;

open(HFile, "<$FileParams") || die "Unable to open  $FileParams";
while (<HFile>) {  
  my($line) = $_;
  
  if(/$StartLineStr/){
    $startLine = $.;
  }
  
  if(/$EndLineStr/){
    $endLine = $. - 1;
  }
}

close(HFile);

open(DFile, "<$FileParams") || die "Unable to open  $FileParams";
while (<DFile>) {  
  if($startLine < $endLine) {
    if($. >  $startLine) {
      print "$_";
      last if  ($. ==  $endLine)
      }
  }
}
close(DFile);



