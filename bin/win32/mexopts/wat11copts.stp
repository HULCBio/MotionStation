# $Revision: 1.2 $
sub wat11copts
{
    my $input = shift;
    my $default_location = "C:\\watcom";

    my $language_handled_fcn = sub {
        my $lang = shift;
        
        return $lang eq "C";
    };

    my $locate_fcn = sub {
        my @watcom_roots = ();
        my $version;

        if ($ENV{'WATCOM'} ne "" &&
            (-e "$ENV{'WATCOM'}\\binnt\\wcc386.exe"))
        { 
            $version=`$ENV{'WATCOM'}\\binnt\\wcc386 -v`;
            if ($version =~ /Version 11.0/) 
            {
                push(@watcom_roots, $ENV{'WATCOM'});
            }
        }
        
        if (-e "$default_location\\binnt\\wcc386")
        {
            $version=`$default_location\\binnt\\wcc386 -v`;
            if ($version =~ /Version 11.0/) 
            {
                push(@watcom_roots, $default_location);
            }
        }

        return @watcom_roots;
    };

    my $root_val = sub {
        return shift;
    };

    return {
        "vendor_name"  => "WATCOM C/C++",
        "version"      => "11",
        "group_id"     => "WATCOMC",
        "serial"       => 2.0,
        "root_var"     => "WATCOM",
        "optfile_name" => "wat11copts.bat",
        "default_location" => $default_location,
        "language_handled" => $language_handled_fcn,
        "root_val"     => $root_val,
        "locate"       => $locate_fcn
        };
}
1;
